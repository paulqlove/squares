(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))o(a);new MutationObserver(a=>{for(const c of a)if(c.type==="childList")for(const f of c.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&o(f)}).observe(document,{childList:!0,subtree:!0});function r(a){const c={};return a.integrity&&(c.integrity=a.integrity),a.referrerPolicy&&(c.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?c.credentials="include":a.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function o(a){if(a.ep)return;a.ep=!0;const c=r(a);fetch(a.href,c)}})();var ba={exports:{}},Ni={},Ua={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rh;function C_(){if(rh)return te;rh=1;var i=Symbol.for("react.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),f=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),E=Symbol.iterator;function I(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var O={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,q={};function $(w,T,ee){this.props=w,this.context=T,this.refs=q,this.updater=ee||O}$.prototype.isReactComponent={},$.prototype.setState=function(w,T){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,T,"setState")},$.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function Fe(){}Fe.prototype=$.prototype;function Ie(w,T,ee){this.props=w,this.context=T,this.refs=q,this.updater=ee||O}var Xe=Ie.prototype=new Fe;Xe.constructor=Ie,F(Xe,$.prototype),Xe.isPureReactComponent=!0;var Ne=Array.isArray,nt=Object.prototype.hasOwnProperty,$e={current:null},qe={key:!0,ref:!0,__self:!0,__source:!0};function ot(w,T,ee){var ie,le={},ae=null,pe=null;if(T!=null)for(ie in T.ref!==void 0&&(pe=T.ref),T.key!==void 0&&(ae=""+T.key),T)nt.call(T,ie)&&!qe.hasOwnProperty(ie)&&(le[ie]=T[ie]);var de=arguments.length-2;if(de===1)le.children=ee;else if(1<de){for(var Ee=Array(de),mt=0;mt<de;mt++)Ee[mt]=arguments[mt+2];le.children=Ee}if(w&&w.defaultProps)for(ie in de=w.defaultProps,de)le[ie]===void 0&&(le[ie]=de[ie]);return{$$typeof:i,type:w,key:ae,ref:pe,props:le,_owner:$e.current}}function wt(w,T){return{$$typeof:i,type:w.type,key:T,ref:w.ref,props:w.props,_owner:w._owner}}function Pt(w){return typeof w=="object"&&w!==null&&w.$$typeof===i}function Et(w){var T={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(ee){return T[ee]})}var Ct=/\/+/g;function ze(w,T){return typeof w=="object"&&w!==null&&w.key!=null?Et(""+w.key):T.toString(36)}function j(w,T,ee,ie,le){var ae=typeof w;(ae==="undefined"||ae==="boolean")&&(w=null);var pe=!1;if(w===null)pe=!0;else switch(ae){case"string":case"number":pe=!0;break;case"object":switch(w.$$typeof){case i:case t:pe=!0}}if(pe)return pe=w,le=le(pe),w=ie===""?"."+ze(pe,0):ie,Ne(le)?(ee="",w!=null&&(ee=w.replace(Ct,"$&/")+"/"),j(le,T,ee,"",function(mt){return mt})):le!=null&&(Pt(le)&&(le=wt(le,ee+(!le.key||pe&&pe.key===le.key?"":(""+le.key).replace(Ct,"$&/")+"/")+w)),T.push(le)),1;if(pe=0,ie=ie===""?".":ie+":",Ne(w))for(var de=0;de<w.length;de++){ae=w[de];var Ee=ie+ze(ae,de);pe+=j(ae,T,ee,Ee,le)}else if(Ee=I(w),typeof Ee=="function")for(w=Ee.call(w),de=0;!(ae=w.next()).done;)ae=ae.value,Ee=ie+ze(ae,de++),pe+=j(ae,T,ee,Ee,le);else if(ae==="object")throw T=String(w),Error("Objects are not valid as a React child (found: "+(T==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":T)+"). If you meant to render a collection of children, use an array instead.");return pe}function K(w,T,ee){if(w==null)return w;var ie=[],le=0;return j(w,ie,"","",function(ae){return T.call(ee,ae,le++)}),ie}function Z(w){if(w._status===-1){var T=w._result;T=T(),T.then(function(ee){(w._status===0||w._status===-1)&&(w._status=1,w._result=ee)},function(ee){(w._status===0||w._status===-1)&&(w._status=2,w._result=ee)}),w._status===-1&&(w._status=0,w._result=T)}if(w._status===1)return w._result.default;throw w._result}var Y={current:null},M={transition:null},V={ReactCurrentDispatcher:Y,ReactCurrentBatchConfig:M,ReactCurrentOwner:$e};function L(){throw Error("act(...) is not supported in production builds of React.")}return te.Children={map:K,forEach:function(w,T,ee){K(w,function(){T.apply(this,arguments)},ee)},count:function(w){var T=0;return K(w,function(){T++}),T},toArray:function(w){return K(w,function(T){return T})||[]},only:function(w){if(!Pt(w))throw Error("React.Children.only expected to receive a single React element child.");return w}},te.Component=$,te.Fragment=r,te.Profiler=a,te.PureComponent=Ie,te.StrictMode=o,te.Suspense=m,te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V,te.act=L,te.cloneElement=function(w,T,ee){if(w==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+w+".");var ie=F({},w.props),le=w.key,ae=w.ref,pe=w._owner;if(T!=null){if(T.ref!==void 0&&(ae=T.ref,pe=$e.current),T.key!==void 0&&(le=""+T.key),w.type&&w.type.defaultProps)var de=w.type.defaultProps;for(Ee in T)nt.call(T,Ee)&&!qe.hasOwnProperty(Ee)&&(ie[Ee]=T[Ee]===void 0&&de!==void 0?de[Ee]:T[Ee])}var Ee=arguments.length-2;if(Ee===1)ie.children=ee;else if(1<Ee){de=Array(Ee);for(var mt=0;mt<Ee;mt++)de[mt]=arguments[mt+2];ie.children=de}return{$$typeof:i,type:w.type,key:le,ref:ae,props:ie,_owner:pe}},te.createContext=function(w){return w={$$typeof:f,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},w.Provider={$$typeof:c,_context:w},w.Consumer=w},te.createElement=ot,te.createFactory=function(w){var T=ot.bind(null,w);return T.type=w,T},te.createRef=function(){return{current:null}},te.forwardRef=function(w){return{$$typeof:p,render:w}},te.isValidElement=Pt,te.lazy=function(w){return{$$typeof:S,_payload:{_status:-1,_result:w},_init:Z}},te.memo=function(w,T){return{$$typeof:_,type:w,compare:T===void 0?null:T}},te.startTransition=function(w){var T=M.transition;M.transition={};try{w()}finally{M.transition=T}},te.unstable_act=L,te.useCallback=function(w,T){return Y.current.useCallback(w,T)},te.useContext=function(w){return Y.current.useContext(w)},te.useDebugValue=function(){},te.useDeferredValue=function(w){return Y.current.useDeferredValue(w)},te.useEffect=function(w,T){return Y.current.useEffect(w,T)},te.useId=function(){return Y.current.useId()},te.useImperativeHandle=function(w,T,ee){return Y.current.useImperativeHandle(w,T,ee)},te.useInsertionEffect=function(w,T){return Y.current.useInsertionEffect(w,T)},te.useLayoutEffect=function(w,T){return Y.current.useLayoutEffect(w,T)},te.useMemo=function(w,T){return Y.current.useMemo(w,T)},te.useReducer=function(w,T,ee){return Y.current.useReducer(w,T,ee)},te.useRef=function(w){return Y.current.useRef(w)},te.useState=function(w){return Y.current.useState(w)},te.useSyncExternalStore=function(w,T,ee){return Y.current.useSyncExternalStore(w,T,ee)},te.useTransition=function(){return Y.current.useTransition()},te.version="18.3.1",te}var ih;function ku(){return ih||(ih=1,Ua.exports=C_()),Ua.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sh;function S_(){if(sh)return Ni;sh=1;var i=ku(),t=Symbol.for("react.element"),r=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function f(p,m,_){var S,E={},I=null,O=null;_!==void 0&&(I=""+_),m.key!==void 0&&(I=""+m.key),m.ref!==void 0&&(O=m.ref);for(S in m)o.call(m,S)&&!c.hasOwnProperty(S)&&(E[S]=m[S]);if(p&&p.defaultProps)for(S in m=p.defaultProps,m)E[S]===void 0&&(E[S]=m[S]);return{$$typeof:t,type:p,key:I,ref:O,props:E,_owner:a.current}}return Ni.Fragment=r,Ni.jsx=f,Ni.jsxs=f,Ni}var oh;function k_(){return oh||(oh=1,ba.exports=S_()),ba.exports}var H=k_(),xe=ku(),fo={},Ba={exports:{}},ft={},Wa={exports:{}},Ha={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh;function I_(){return lh||(lh=1,function(i){function t(M,V){var L=M.length;M.push(V);e:for(;0<L;){var w=L-1>>>1,T=M[w];if(0<a(T,V))M[w]=V,M[L]=T,L=w;else break e}}function r(M){return M.length===0?null:M[0]}function o(M){if(M.length===0)return null;var V=M[0],L=M.pop();if(L!==V){M[0]=L;e:for(var w=0,T=M.length,ee=T>>>1;w<ee;){var ie=2*(w+1)-1,le=M[ie],ae=ie+1,pe=M[ae];if(0>a(le,L))ae<T&&0>a(pe,le)?(M[w]=pe,M[ae]=L,w=ae):(M[w]=le,M[ie]=L,w=ie);else if(ae<T&&0>a(pe,L))M[w]=pe,M[ae]=L,w=ae;else break e}}return V}function a(M,V){var L=M.sortIndex-V.sortIndex;return L!==0?L:M.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var f=Date,p=f.now();i.unstable_now=function(){return f.now()-p}}var m=[],_=[],S=1,E=null,I=3,O=!1,F=!1,q=!1,$=typeof setTimeout=="function"?setTimeout:null,Fe=typeof clearTimeout=="function"?clearTimeout:null,Ie=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Xe(M){for(var V=r(_);V!==null;){if(V.callback===null)o(_);else if(V.startTime<=M)o(_),V.sortIndex=V.expirationTime,t(m,V);else break;V=r(_)}}function Ne(M){if(q=!1,Xe(M),!F)if(r(m)!==null)F=!0,Z(nt);else{var V=r(_);V!==null&&Y(Ne,V.startTime-M)}}function nt(M,V){F=!1,q&&(q=!1,Fe(ot),ot=-1),O=!0;var L=I;try{for(Xe(V),E=r(m);E!==null&&(!(E.expirationTime>V)||M&&!Et());){var w=E.callback;if(typeof w=="function"){E.callback=null,I=E.priorityLevel;var T=w(E.expirationTime<=V);V=i.unstable_now(),typeof T=="function"?E.callback=T:E===r(m)&&o(m),Xe(V)}else o(m);E=r(m)}if(E!==null)var ee=!0;else{var ie=r(_);ie!==null&&Y(Ne,ie.startTime-V),ee=!1}return ee}finally{E=null,I=L,O=!1}}var $e=!1,qe=null,ot=-1,wt=5,Pt=-1;function Et(){return!(i.unstable_now()-Pt<wt)}function Ct(){if(qe!==null){var M=i.unstable_now();Pt=M;var V=!0;try{V=qe(!0,M)}finally{V?ze():($e=!1,qe=null)}}else $e=!1}var ze;if(typeof Ie=="function")ze=function(){Ie(Ct)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,K=j.port2;j.port1.onmessage=Ct,ze=function(){K.postMessage(null)}}else ze=function(){$(Ct,0)};function Z(M){qe=M,$e||($e=!0,ze())}function Y(M,V){ot=$(function(){M(i.unstable_now())},V)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(M){M.callback=null},i.unstable_continueExecution=function(){F||O||(F=!0,Z(nt))},i.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<M?Math.floor(1e3/M):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return r(m)},i.unstable_next=function(M){switch(I){case 1:case 2:case 3:var V=3;break;default:V=I}var L=I;I=V;try{return M()}finally{I=L}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(M,V){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var L=I;I=M;try{return V()}finally{I=L}},i.unstable_scheduleCallback=function(M,V,L){var w=i.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?w+L:w):L=w,M){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=L+T,M={id:S++,callback:V,priorityLevel:M,startTime:L,expirationTime:T,sortIndex:-1},L>w?(M.sortIndex=L,t(_,M),r(m)===null&&M===r(_)&&(q?(Fe(ot),ot=-1):q=!0,Y(Ne,L-w))):(M.sortIndex=T,t(m,M),F||O||(F=!0,Z(nt))),M},i.unstable_shouldYield=Et,i.unstable_wrapCallback=function(M){var V=I;return function(){var L=I;I=V;try{return M.apply(this,arguments)}finally{I=L}}}}(Ha)),Ha}var ah;function N_(){return ah||(ah=1,Wa.exports=I_()),Wa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uh;function T_(){if(uh)return ft;uh=1;var i=ku(),t=N_();function r(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,s=1;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function c(e,n){f(e,n),f(e+"Capture",n)}function f(e,n){for(a[e]=n,e=0;e<n.length;e++)o.add(n[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,_=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,S={},E={};function I(e){return m.call(E,e)?!0:m.call(S,e)?!1:_.test(e)?E[e]=!0:(S[e]=!0,!1)}function O(e,n,s,l){if(s!==null&&s.type===0)return!1;switch(typeof n){case"function":case"symbol":return!0;case"boolean":return l?!1:s!==null?!s.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F(e,n,s,l){if(n===null||typeof n>"u"||O(e,n,s,l))return!0;if(l)return!1;if(s!==null)switch(s.type){case 3:return!n;case 4:return n===!1;case 5:return isNaN(n);case 6:return isNaN(n)||1>n}return!1}function q(e,n,s,l,u,d,h){this.acceptsBooleans=n===2||n===3||n===4,this.attributeName=l,this.attributeNamespace=u,this.mustUseProperty=s,this.propertyName=e,this.type=n,this.sanitizeURL=d,this.removeEmptyString=h}var $={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){$[e]=new q(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var n=e[0];$[n]=new q(n,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){$[e]=new q(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){$[e]=new q(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){$[e]=new q(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){$[e]=new q(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){$[e]=new q(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){$[e]=new q(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){$[e]=new q(e,5,!1,e.toLowerCase(),null,!1,!1)});var Fe=/[\-:]([a-z])/g;function Ie(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var n=e.replace(Fe,Ie);$[n]=new q(n,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var n=e.replace(Fe,Ie);$[n]=new q(n,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var n=e.replace(Fe,Ie);$[n]=new q(n,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!1,!1)}),$.xlinkHref=new q("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){$[e]=new q(e,1,!1,e.toLowerCase(),null,!0,!0)});function Xe(e,n,s,l){var u=$.hasOwnProperty(n)?$[n]:null;(u!==null?u.type!==0:l||!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(F(n,s,u,l)&&(s=null),l||u===null?I(n)&&(s===null?e.removeAttribute(n):e.setAttribute(n,""+s)):u.mustUseProperty?e[u.propertyName]=s===null?u.type===3?!1:"":s:(n=u.attributeName,l=u.attributeNamespace,s===null?e.removeAttribute(n):(u=u.type,s=u===3||u===4&&s===!0?"":""+s,l?e.setAttributeNS(l,n,s):e.setAttribute(n,s))))}var Ne=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nt=Symbol.for("react.element"),$e=Symbol.for("react.portal"),qe=Symbol.for("react.fragment"),ot=Symbol.for("react.strict_mode"),wt=Symbol.for("react.profiler"),Pt=Symbol.for("react.provider"),Et=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),ze=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),Y=Symbol.for("react.offscreen"),M=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var L=Object.assign,w;function T(e){if(w===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);w=n&&n[1]||""}return`
`+w+e}var ee=!1;function ie(e,n){if(!e||ee)return"";ee=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(N){var l=N}Reflect.construct(e,[],n)}else{try{n.call()}catch(N){l=N}e.call(n.prototype)}else{try{throw Error()}catch(N){l=N}e()}}catch(N){if(N&&l&&typeof N.stack=="string"){for(var u=N.stack.split(`
`),d=l.stack.split(`
`),h=u.length-1,g=d.length-1;1<=h&&0<=g&&u[h]!==d[g];)g--;for(;1<=h&&0<=g;h--,g--)if(u[h]!==d[g]){if(h!==1||g!==1)do if(h--,g--,0>g||u[h]!==d[g]){var y=`
`+u[h].replace(" at new "," at ");return e.displayName&&y.includes("<anonymous>")&&(y=y.replace("<anonymous>",e.displayName)),y}while(1<=h&&0<=g);break}}}finally{ee=!1,Error.prepareStackTrace=s}return(e=e?e.displayName||e.name:"")?T(e):""}function le(e){switch(e.tag){case 5:return T(e.type);case 16:return T("Lazy");case 13:return T("Suspense");case 19:return T("SuspenseList");case 0:case 2:case 15:return e=ie(e.type,!1),e;case 11:return e=ie(e.type.render,!1),e;case 1:return e=ie(e.type,!0),e;default:return""}}function ae(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case qe:return"Fragment";case $e:return"Portal";case wt:return"Profiler";case ot:return"StrictMode";case ze:return"Suspense";case j:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Et:return(e.displayName||"Context")+".Consumer";case Pt:return(e._context.displayName||"Context")+".Provider";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return n=e.displayName||null,n!==null?n:ae(e.type)||"Memo";case Z:n=e._payload,e=e._init;try{return ae(e(n))}catch{}}return null}function pe(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ae(n);case 8:return n===ot?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function de(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ee(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function mt(e){var n=Ee(e)?"checked":"value",s=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),l=""+e[n];if(!e.hasOwnProperty(n)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var u=s.get,d=s.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(h){l=""+h,d.call(this,h)}}),Object.defineProperty(e,n,{enumerable:s.enumerable}),{getValue:function(){return l},setValue:function(h){l=""+h},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ts(e){e._valueTracker||(e._valueTracker=mt(e))}function ac(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=Ee(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function ns(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function qo(e,n){var s=n.checked;return L({},n,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??e._wrapperState.initialChecked})}function uc(e,n){var s=n.defaultValue==null?"":n.defaultValue,l=n.checked!=null?n.checked:n.defaultChecked;s=de(n.value!=null?n.value:s),e._wrapperState={initialChecked:l,initialValue:s,controlled:n.type==="checkbox"||n.type==="radio"?n.checked!=null:n.value!=null}}function cc(e,n){n=n.checked,n!=null&&Xe(e,"checked",n,!1)}function Qo(e,n){cc(e,n);var s=de(n.value),l=n.type;if(s!=null)l==="number"?(s===0&&e.value===""||e.value!=s)&&(e.value=""+s):e.value!==""+s&&(e.value=""+s);else if(l==="submit"||l==="reset"){e.removeAttribute("value");return}n.hasOwnProperty("value")?Go(e,n.type,s):n.hasOwnProperty("defaultValue")&&Go(e,n.type,de(n.defaultValue)),n.checked==null&&n.defaultChecked!=null&&(e.defaultChecked=!!n.defaultChecked)}function dc(e,n,s){if(n.hasOwnProperty("value")||n.hasOwnProperty("defaultValue")){var l=n.type;if(!(l!=="submit"&&l!=="reset"||n.value!==void 0&&n.value!==null))return;n=""+e._wrapperState.initialValue,s||n===e.value||(e.value=n),e.defaultValue=n}s=e.name,s!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,s!==""&&(e.name=s)}function Go(e,n,s){(n!=="number"||ns(e.ownerDocument)!==e)&&(s==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+s&&(e.defaultValue=""+s))}var Br=Array.isArray;function tr(e,n,s,l){if(e=e.options,n){n={};for(var u=0;u<s.length;u++)n["$"+s[u]]=!0;for(s=0;s<e.length;s++)u=n.hasOwnProperty("$"+e[s].value),e[s].selected!==u&&(e[s].selected=u),u&&l&&(e[s].defaultSelected=!0)}else{for(s=""+de(s),n=null,u=0;u<e.length;u++){if(e[u].value===s){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function Ko(e,n){if(n.dangerouslySetInnerHTML!=null)throw Error(r(91));return L({},n,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function fc(e,n){var s=n.value;if(s==null){if(s=n.children,n=n.defaultValue,s!=null){if(n!=null)throw Error(r(92));if(Br(s)){if(1<s.length)throw Error(r(93));s=s[0]}n=s}n==null&&(n=""),s=n}e._wrapperState={initialValue:de(s)}}function hc(e,n){var s=de(n.value),l=de(n.defaultValue);s!=null&&(s=""+s,s!==e.value&&(e.value=s),n.defaultValue==null&&e.defaultValue!==s&&(e.defaultValue=s)),l!=null&&(e.defaultValue=""+l)}function pc(e){var n=e.textContent;n===e._wrapperState.initialValue&&n!==""&&n!==null&&(e.value=n)}function mc(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Yo(e,n){return e==null||e==="http://www.w3.org/1999/xhtml"?mc(n):e==="http://www.w3.org/2000/svg"&&n==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var rs,gc=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(n,s,l,u){MSApp.execUnsafeLocalFunction(function(){return e(n,s,l,u)})}:e}(function(e,n){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=n;else{for(rs=rs||document.createElement("div"),rs.innerHTML="<svg>"+n.valueOf().toString()+"</svg>",n=rs.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;n.firstChild;)e.appendChild(n.firstChild)}});function Wr(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var Hr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Tm=["Webkit","ms","Moz","O"];Object.keys(Hr).forEach(function(e){Tm.forEach(function(n){n=n+e.charAt(0).toUpperCase()+e.substring(1),Hr[n]=Hr[e]})});function _c(e,n,s){return n==null||typeof n=="boolean"||n===""?"":s||typeof n!="number"||n===0||Hr.hasOwnProperty(e)&&Hr[e]?(""+n).trim():n+"px"}function yc(e,n){e=e.style;for(var s in n)if(n.hasOwnProperty(s)){var l=s.indexOf("--")===0,u=_c(s,n[s],l);s==="float"&&(s="cssFloat"),l?e.setProperty(s,u):e[s]=u}}var xm=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xo(e,n){if(n){if(xm[e]&&(n.children!=null||n.dangerouslySetInnerHTML!=null))throw Error(r(137,e));if(n.dangerouslySetInnerHTML!=null){if(n.children!=null)throw Error(r(60));if(typeof n.dangerouslySetInnerHTML!="object"||!("__html"in n.dangerouslySetInnerHTML))throw Error(r(61))}if(n.style!=null&&typeof n.style!="object")throw Error(r(62))}}function Jo(e,n){if(e.indexOf("-")===-1)return typeof n.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zo=null;function el(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var tl=null,nr=null,rr=null;function vc(e){if(e=di(e)){if(typeof tl!="function")throw Error(r(280));var n=e.stateNode;n&&(n=Ns(n),tl(e.stateNode,e.type,n))}}function wc(e){nr?rr?rr.push(e):rr=[e]:nr=e}function Ec(){if(nr){var e=nr,n=rr;if(rr=nr=null,vc(e),n)for(e=0;e<n.length;e++)vc(n[e])}}function Cc(e,n){return e(n)}function Sc(){}var nl=!1;function kc(e,n,s){if(nl)return e(n,s);nl=!0;try{return Cc(e,n,s)}finally{nl=!1,(nr!==null||rr!==null)&&(Sc(),Ec())}}function Vr(e,n){var s=e.stateNode;if(s===null)return null;var l=Ns(s);if(l===null)return null;s=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var rl=!1;if(p)try{var $r={};Object.defineProperty($r,"passive",{get:function(){rl=!0}}),window.addEventListener("test",$r,$r),window.removeEventListener("test",$r,$r)}catch{rl=!1}function Rm(e,n,s,l,u,d,h,g,y){var N=Array.prototype.slice.call(arguments,3);try{n.apply(s,N)}catch(R){this.onError(R)}}var qr=!1,is=null,ss=!1,il=null,Pm={onError:function(e){qr=!0,is=e}};function Dm(e,n,s,l,u,d,h,g,y){qr=!1,is=null,Rm.apply(Pm,arguments)}function Am(e,n,s,l,u,d,h,g,y){if(Dm.apply(this,arguments),qr){if(qr){var N=is;qr=!1,is=null}else throw Error(r(198));ss||(ss=!0,il=N)}}function On(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function Ic(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function Nc(e){if(On(e)!==e)throw Error(r(188))}function Om(e){var n=e.alternate;if(!n){if(n=On(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,l=n;;){var u=s.return;if(u===null)break;var d=u.alternate;if(d===null){if(l=u.return,l!==null){s=l;continue}break}if(u.child===d.child){for(d=u.child;d;){if(d===s)return Nc(u),e;if(d===l)return Nc(u),n;d=d.sibling}throw Error(r(188))}if(s.return!==l.return)s=u,l=d;else{for(var h=!1,g=u.child;g;){if(g===s){h=!0,s=u,l=d;break}if(g===l){h=!0,l=u,s=d;break}g=g.sibling}if(!h){for(g=d.child;g;){if(g===s){h=!0,s=d,l=u;break}if(g===l){h=!0,l=d,s=u;break}g=g.sibling}if(!h)throw Error(r(189))}}if(s.alternate!==l)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function Tc(e){return e=Om(e),e!==null?xc(e):null}function xc(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=xc(e);if(n!==null)return n;e=e.sibling}return null}var Rc=t.unstable_scheduleCallback,Pc=t.unstable_cancelCallback,Mm=t.unstable_shouldYield,Lm=t.unstable_requestPaint,De=t.unstable_now,Fm=t.unstable_getCurrentPriorityLevel,sl=t.unstable_ImmediatePriority,Dc=t.unstable_UserBlockingPriority,os=t.unstable_NormalPriority,zm=t.unstable_LowPriority,Ac=t.unstable_IdlePriority,ls=null,Bt=null;function jm(e){if(Bt&&typeof Bt.onCommitFiberRoot=="function")try{Bt.onCommitFiberRoot(ls,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:Bm,bm=Math.log,Um=Math.LN2;function Bm(e){return e>>>=0,e===0?32:31-(bm(e)/Um|0)|0}var as=64,us=4194304;function Qr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function cs(e,n){var s=e.pendingLanes;if(s===0)return 0;var l=0,u=e.suspendedLanes,d=e.pingedLanes,h=s&268435455;if(h!==0){var g=h&~u;g!==0?l=Qr(g):(d&=h,d!==0&&(l=Qr(d)))}else h=s&~u,h!==0?l=Qr(h):d!==0&&(l=Qr(d));if(l===0)return 0;if(n!==0&&n!==l&&!(n&u)&&(u=l&-l,d=n&-n,u>=d||u===16&&(d&4194240)!==0))return n;if(l&4&&(l|=s&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=l;0<n;)s=31-Dt(n),u=1<<s,l|=e[s],n&=~u;return l}function Wm(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hm(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,d=e.pendingLanes;0<d;){var h=31-Dt(d),g=1<<h,y=u[h];y===-1?(!(g&s)||g&l)&&(u[h]=Wm(g,n)):y<=n&&(e.expiredLanes|=g),d&=~g}}function ol(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Oc(){var e=as;return as<<=1,!(as&4194240)&&(as=64),e}function ll(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Gr(e,n,s){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-Dt(n),e[n]=s}function Vm(e,n){var s=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var l=e.eventTimes;for(e=e.expirationTimes;0<s;){var u=31-Dt(s),d=1<<u;n[u]=0,l[u]=-1,e[u]=-1,s&=~d}}function al(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Dt(s),u=1<<l;u&n|e[l]&n&&(e[l]|=n),s&=~u}}var fe=0;function Mc(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Lc,ul,Fc,zc,jc,cl=!1,ds=[],ln=null,an=null,un=null,Kr=new Map,Yr=new Map,cn=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bc(e,n){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":an=null;break;case"mouseover":case"mouseout":un=null;break;case"pointerover":case"pointerout":Kr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yr.delete(n.pointerId)}}function Xr(e,n,s,l,u,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:d,targetContainers:[u]},n!==null&&(n=di(n),n!==null&&ul(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function qm(e,n,s,l,u){switch(n){case"focusin":return ln=Xr(ln,e,n,s,l,u),!0;case"dragenter":return an=Xr(an,e,n,s,l,u),!0;case"mouseover":return un=Xr(un,e,n,s,l,u),!0;case"pointerover":var d=u.pointerId;return Kr.set(d,Xr(Kr.get(d)||null,e,n,s,l,u)),!0;case"gotpointercapture":return d=u.pointerId,Yr.set(d,Xr(Yr.get(d)||null,e,n,s,l,u)),!0}return!1}function Uc(e){var n=Mn(e.target);if(n!==null){var s=On(n);if(s!==null){if(n=s.tag,n===13){if(n=Ic(s),n!==null){e.blockedOn=n,jc(e.priority,function(){Fc(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function fs(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=fl(e.domEventName,e.eventSystemFlags,n[0],e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Zo=l,s.target.dispatchEvent(l),Zo=null}else return n=di(s),n!==null&&ul(n),e.blockedOn=s,!1;n.shift()}return!0}function Bc(e,n,s){fs(e)&&s.delete(n)}function Qm(){cl=!1,ln!==null&&fs(ln)&&(ln=null),an!==null&&fs(an)&&(an=null),un!==null&&fs(un)&&(un=null),Kr.forEach(Bc),Yr.forEach(Bc)}function Jr(e,n){e.blockedOn===n&&(e.blockedOn=null,cl||(cl=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Qm)))}function Zr(e){function n(u){return Jr(u,e)}if(0<ds.length){Jr(ds[0],e);for(var s=1;s<ds.length;s++){var l=ds[s];l.blockedOn===e&&(l.blockedOn=null)}}for(ln!==null&&Jr(ln,e),an!==null&&Jr(an,e),un!==null&&Jr(un,e),Kr.forEach(n),Yr.forEach(n),s=0;s<cn.length;s++)l=cn[s],l.blockedOn===e&&(l.blockedOn=null);for(;0<cn.length&&(s=cn[0],s.blockedOn===null);)Uc(s),s.blockedOn===null&&cn.shift()}var ir=Ne.ReactCurrentBatchConfig,hs=!0;function Gm(e,n,s,l){var u=fe,d=ir.transition;ir.transition=null;try{fe=1,dl(e,n,s,l)}finally{fe=u,ir.transition=d}}function Km(e,n,s,l){var u=fe,d=ir.transition;ir.transition=null;try{fe=4,dl(e,n,s,l)}finally{fe=u,ir.transition=d}}function dl(e,n,s,l){if(hs){var u=fl(e,n,s,l);if(u===null)Rl(e,n,l,ps,s),bc(e,l);else if(qm(u,e,n,s,l))l.stopPropagation();else if(bc(e,l),n&4&&-1<$m.indexOf(e)){for(;u!==null;){var d=di(u);if(d!==null&&Lc(d),d=fl(e,n,s,l),d===null&&Rl(e,n,l,ps,s),d===u)break;u=d}u!==null&&l.stopPropagation()}else Rl(e,n,l,null,s)}}var ps=null;function fl(e,n,s,l){if(ps=null,e=el(l),e=Mn(e),e!==null)if(n=On(e),n===null)e=null;else if(s=n.tag,s===13){if(e=Ic(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null);return ps=e,null}function Wc(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Fm()){case sl:return 1;case Dc:return 4;case os:case zm:return 16;case Ac:return 536870912;default:return 16}default:return 16}}var dn=null,hl=null,ms=null;function Hc(){if(ms)return ms;var e,n=hl,s=n.length,l,u="value"in dn?dn.value:dn.textContent,d=u.length;for(e=0;e<s&&n[e]===u[e];e++);var h=s-e;for(l=1;l<=h&&n[s-l]===u[d-l];l++);return ms=u.slice(e,1<l?1-l:void 0)}function gs(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function _s(){return!0}function Vc(){return!1}function gt(e){function n(s,l,u,d,h){this._reactName=s,this._targetInst=u,this.type=l,this.nativeEvent=d,this.target=h,this.currentTarget=null;for(var g in e)e.hasOwnProperty(g)&&(s=e[g],this[g]=s?s(d):d[g]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?_s:Vc,this.isPropagationStopped=Vc,this}return L(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),n}var sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pl=gt(sr),ei=L({},sr,{view:0,detail:0}),Ym=gt(ei),ml,gl,ti,ys=L({},ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:yl,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ti&&(ti&&e.type==="mousemove"?(ml=e.screenX-ti.screenX,gl=e.screenY-ti.screenY):gl=ml=0,ti=e),ml)},movementY:function(e){return"movementY"in e?e.movementY:gl}}),$c=gt(ys),Xm=L({},ys,{dataTransfer:0}),Jm=gt(Xm),Zm=L({},ei,{relatedTarget:0}),_l=gt(Zm),eg=L({},sr,{animationName:0,elapsedTime:0,pseudoElement:0}),tg=gt(eg),ng=L({},sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rg=gt(ng),ig=L({},sr,{data:0}),qc=gt(ig),sg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},og={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},lg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ag(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=lg[e])?!!n[e]:!1}function yl(){return ag}var ug=L({},ei,{key:function(e){if(e.key){var n=sg[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=gs(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?og[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:yl,charCode:function(e){return e.type==="keypress"?gs(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?gs(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),cg=gt(ug),dg=L({},ys,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qc=gt(dg),fg=L({},ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:yl}),hg=gt(fg),pg=L({},sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),mg=gt(pg),gg=L({},ys,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_g=gt(gg),yg=[9,13,27,32],vl=p&&"CompositionEvent"in window,ni=null;p&&"documentMode"in document&&(ni=document.documentMode);var vg=p&&"TextEvent"in window&&!ni,Gc=p&&(!vl||ni&&8<ni&&11>=ni),Kc=" ",Yc=!1;function Xc(e,n){switch(e){case"keyup":return yg.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jc(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var or=!1;function wg(e,n){switch(e){case"compositionend":return Jc(n);case"keypress":return n.which!==32?null:(Yc=!0,Kc);case"textInput":return e=n.data,e===Kc&&Yc?null:e;default:return null}}function Eg(e,n){if(or)return e==="compositionend"||!vl&&Xc(e,n)?(e=Hc(),ms=hl=dn=null,or=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Gc&&n.locale!=="ko"?null:n.data;default:return null}}var Cg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Zc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Cg[e.type]:n==="textarea"}function ed(e,n,s,l){wc(l),n=Ss(n,"onChange"),0<n.length&&(s=new pl("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var ri=null,ii=null;function Sg(e){yd(e,0)}function vs(e){var n=dr(e);if(ac(n))return e}function kg(e,n){if(e==="change")return n}var td=!1;if(p){var wl;if(p){var El="oninput"in document;if(!El){var nd=document.createElement("div");nd.setAttribute("oninput","return;"),El=typeof nd.oninput=="function"}wl=El}else wl=!1;td=wl&&(!document.documentMode||9<document.documentMode)}function rd(){ri&&(ri.detachEvent("onpropertychange",id),ii=ri=null)}function id(e){if(e.propertyName==="value"&&vs(ii)){var n=[];ed(n,ii,e,el(e)),kc(Sg,n)}}function Ig(e,n,s){e==="focusin"?(rd(),ri=n,ii=s,ri.attachEvent("onpropertychange",id)):e==="focusout"&&rd()}function Ng(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return vs(ii)}function Tg(e,n){if(e==="click")return vs(n)}function xg(e,n){if(e==="input"||e==="change")return vs(n)}function Rg(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var At=typeof Object.is=="function"?Object.is:Rg;function si(e,n){if(At(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var u=s[l];if(!m.call(n,u)||!At(e[u],n[u]))return!1}return!0}function sd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function od(e,n){var s=sd(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=sd(s)}}function ld(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?ld(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function ad(){for(var e=window,n=ns();n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ns(e.document)}return n}function Cl(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function Pg(e){var n=ad(),s=e.focusedElem,l=e.selectionRange;if(n!==s&&s&&s.ownerDocument&&ld(s.ownerDocument.documentElement,s)){if(l!==null&&Cl(s)){if(n=l.start,e=l.end,e===void 0&&(e=n),"selectionStart"in s)s.selectionStart=n,s.selectionEnd=Math.min(e,s.value.length);else if(e=(n=s.ownerDocument||document)&&n.defaultView||window,e.getSelection){e=e.getSelection();var u=s.textContent.length,d=Math.min(l.start,u);l=l.end===void 0?d:Math.min(l.end,u),!e.extend&&d>l&&(u=l,l=d,d=u),u=od(s,d);var h=od(s,l);u&&h&&(e.rangeCount!==1||e.anchorNode!==u.node||e.anchorOffset!==u.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(n=n.createRange(),n.setStart(u.node,u.offset),e.removeAllRanges(),d>l?(e.addRange(n),e.extend(h.node,h.offset)):(n.setEnd(h.node,h.offset),e.addRange(n)))}}for(n=[],e=s;e=e.parentNode;)e.nodeType===1&&n.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<n.length;s++)e=n[s],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Dg=p&&"documentMode"in document&&11>=document.documentMode,lr=null,Sl=null,oi=null,kl=!1;function ud(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kl||lr==null||lr!==ns(l)||(l=lr,"selectionStart"in l&&Cl(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),oi&&si(oi,l)||(oi=l,l=Ss(Sl,"onSelect"),0<l.length&&(n=new pl("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=lr)))}function ws(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ar={animationend:ws("Animation","AnimationEnd"),animationiteration:ws("Animation","AnimationIteration"),animationstart:ws("Animation","AnimationStart"),transitionend:ws("Transition","TransitionEnd")},Il={},cd={};p&&(cd=document.createElement("div").style,"AnimationEvent"in window||(delete ar.animationend.animation,delete ar.animationiteration.animation,delete ar.animationstart.animation),"TransitionEvent"in window||delete ar.transitionend.transition);function Es(e){if(Il[e])return Il[e];if(!ar[e])return e;var n=ar[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in cd)return Il[e]=n[s];return e}var dd=Es("animationend"),fd=Es("animationiteration"),hd=Es("animationstart"),pd=Es("transitionend"),md=new Map,gd="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fn(e,n){md.set(e,n),c(n,[e])}for(var Nl=0;Nl<gd.length;Nl++){var Tl=gd[Nl],Ag=Tl.toLowerCase(),Og=Tl[0].toUpperCase()+Tl.slice(1);fn(Ag,"on"+Og)}fn(dd,"onAnimationEnd"),fn(fd,"onAnimationIteration"),fn(hd,"onAnimationStart"),fn("dblclick","onDoubleClick"),fn("focusin","onFocus"),fn("focusout","onBlur"),fn(pd,"onTransitionEnd"),f("onMouseEnter",["mouseout","mouseover"]),f("onMouseLeave",["mouseout","mouseover"]),f("onPointerEnter",["pointerout","pointerover"]),f("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var li="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mg=new Set("cancel close invalid load scroll toggle".split(" ").concat(li));function _d(e,n,s){var l=e.type||"unknown-event";e.currentTarget=s,Am(l,n,void 0,e),e.currentTarget=null}function yd(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],u=l.event;l=l.listeners;e:{var d=void 0;if(n)for(var h=l.length-1;0<=h;h--){var g=l[h],y=g.instance,N=g.currentTarget;if(g=g.listener,y!==d&&u.isPropagationStopped())break e;_d(u,g,N),d=y}else for(h=0;h<l.length;h++){if(g=l[h],y=g.instance,N=g.currentTarget,g=g.listener,y!==d&&u.isPropagationStopped())break e;_d(u,g,N),d=y}}}if(ss)throw e=il,ss=!1,il=null,e}function ve(e,n){var s=n[Ll];s===void 0&&(s=n[Ll]=new Set);var l=e+"__bubble";s.has(l)||(vd(n,e,2,!1),s.add(l))}function xl(e,n,s){var l=0;n&&(l|=4),vd(s,e,l,n)}var Cs="_reactListening"+Math.random().toString(36).slice(2);function ai(e){if(!e[Cs]){e[Cs]=!0,o.forEach(function(s){s!=="selectionchange"&&(Mg.has(s)||xl(s,!1,e),xl(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Cs]||(n[Cs]=!0,xl("selectionchange",!1,n))}}function vd(e,n,s,l){switch(Wc(n)){case 1:var u=Gm;break;case 4:u=Km;break;default:u=dl}s=u.bind(null,n,s,e),u=void 0,!rl||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,s,{capture:!0,passive:u}):e.addEventListener(n,s,!0):u!==void 0?e.addEventListener(n,s,{passive:u}):e.addEventListener(n,s,!1)}function Rl(e,n,s,l,u){var d=l;if(!(n&1)&&!(n&2)&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var g=l.stateNode.containerInfo;if(g===u||g.nodeType===8&&g.parentNode===u)break;if(h===4)for(h=l.return;h!==null;){var y=h.tag;if((y===3||y===4)&&(y=h.stateNode.containerInfo,y===u||y.nodeType===8&&y.parentNode===u))return;h=h.return}for(;g!==null;){if(h=Mn(g),h===null)return;if(y=h.tag,y===5||y===6){l=d=h;continue e}g=g.parentNode}}l=l.return}kc(function(){var N=d,R=el(s),P=[];e:{var x=md.get(e);if(x!==void 0){var z=pl,U=e;switch(e){case"keypress":if(gs(s)===0)break e;case"keydown":case"keyup":z=cg;break;case"focusin":U="focus",z=_l;break;case"focusout":U="blur",z=_l;break;case"beforeblur":case"afterblur":z=_l;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=$c;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=Jm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=hg;break;case dd:case fd:case hd:z=tg;break;case pd:z=mg;break;case"scroll":z=Ym;break;case"wheel":z=_g;break;case"copy":case"cut":case"paste":z=rg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Qc}var B=(n&4)!==0,Ae=!B&&e==="scroll",C=B?x!==null?x+"Capture":null:x;B=[];for(var v=N,k;v!==null;){k=v;var D=k.stateNode;if(k.tag===5&&D!==null&&(k=D,C!==null&&(D=Vr(v,C),D!=null&&B.push(ui(v,D,k)))),Ae)break;v=v.return}0<B.length&&(x=new z(x,U,null,s,R),P.push({event:x,listeners:B}))}}if(!(n&7)){e:{if(x=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",x&&s!==Zo&&(U=s.relatedTarget||s.fromElement)&&(Mn(U)||U[Gt]))break e;if((z||x)&&(x=R.window===R?R:(x=R.ownerDocument)?x.defaultView||x.parentWindow:window,z?(U=s.relatedTarget||s.toElement,z=N,U=U?Mn(U):null,U!==null&&(Ae=On(U),U!==Ae||U.tag!==5&&U.tag!==6)&&(U=null)):(z=null,U=N),z!==U)){if(B=$c,D="onMouseLeave",C="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(B=Qc,D="onPointerLeave",C="onPointerEnter",v="pointer"),Ae=z==null?x:dr(z),k=U==null?x:dr(U),x=new B(D,v+"leave",z,s,R),x.target=Ae,x.relatedTarget=k,D=null,Mn(R)===N&&(B=new B(C,v+"enter",U,s,R),B.target=k,B.relatedTarget=Ae,D=B),Ae=D,z&&U)t:{for(B=z,C=U,v=0,k=B;k;k=ur(k))v++;for(k=0,D=C;D;D=ur(D))k++;for(;0<v-k;)B=ur(B),v--;for(;0<k-v;)C=ur(C),k--;for(;v--;){if(B===C||C!==null&&B===C.alternate)break t;B=ur(B),C=ur(C)}B=null}else B=null;z!==null&&wd(P,x,z,B,!1),U!==null&&Ae!==null&&wd(P,Ae,U,B,!0)}}e:{if(x=N?dr(N):window,z=x.nodeName&&x.nodeName.toLowerCase(),z==="select"||z==="input"&&x.type==="file")var W=kg;else if(Zc(x))if(td)W=xg;else{W=Ng;var Q=Ig}else(z=x.nodeName)&&z.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(W=Tg);if(W&&(W=W(e,N))){ed(P,W,s,R);break e}Q&&Q(e,x,N),e==="focusout"&&(Q=x._wrapperState)&&Q.controlled&&x.type==="number"&&Go(x,"number",x.value)}switch(Q=N?dr(N):window,e){case"focusin":(Zc(Q)||Q.contentEditable==="true")&&(lr=Q,Sl=N,oi=null);break;case"focusout":oi=Sl=lr=null;break;case"mousedown":kl=!0;break;case"contextmenu":case"mouseup":case"dragend":kl=!1,ud(P,s,R);break;case"selectionchange":if(Dg)break;case"keydown":case"keyup":ud(P,s,R)}var G;if(vl)e:{switch(e){case"compositionstart":var J="onCompositionStart";break e;case"compositionend":J="onCompositionEnd";break e;case"compositionupdate":J="onCompositionUpdate";break e}J=void 0}else or?Xc(e,s)&&(J="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(J="onCompositionStart");J&&(Gc&&s.locale!=="ko"&&(or||J!=="onCompositionStart"?J==="onCompositionEnd"&&or&&(G=Hc()):(dn=R,hl="value"in dn?dn.value:dn.textContent,or=!0)),Q=Ss(N,J),0<Q.length&&(J=new qc(J,e,null,s,R),P.push({event:J,listeners:Q}),G?J.data=G:(G=Jc(s),G!==null&&(J.data=G)))),(G=vg?wg(e,s):Eg(e,s))&&(N=Ss(N,"onBeforeInput"),0<N.length&&(R=new qc("onBeforeInput","beforeinput",null,s,R),P.push({event:R,listeners:N}),R.data=G))}yd(P,n)})}function ui(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ss(e,n){for(var s=n+"Capture",l=[];e!==null;){var u=e,d=u.stateNode;u.tag===5&&d!==null&&(u=d,d=Vr(e,s),d!=null&&l.unshift(ui(e,d,u)),d=Vr(e,n),d!=null&&l.push(ui(e,d,u))),e=e.return}return l}function ur(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function wd(e,n,s,l,u){for(var d=n._reactName,h=[];s!==null&&s!==l;){var g=s,y=g.alternate,N=g.stateNode;if(y!==null&&y===l)break;g.tag===5&&N!==null&&(g=N,u?(y=Vr(s,d),y!=null&&h.unshift(ui(s,y,g))):u||(y=Vr(s,d),y!=null&&h.push(ui(s,y,g)))),s=s.return}h.length!==0&&e.push({event:n,listeners:h})}var Lg=/\r\n?/g,Fg=/\u0000|\uFFFD/g;function Ed(e){return(typeof e=="string"?e:""+e).replace(Lg,`
`).replace(Fg,"")}function ks(e,n,s){if(n=Ed(n),Ed(e)!==n&&s)throw Error(r(425))}function Is(){}var Pl=null,Dl=null;function Al(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ol=typeof setTimeout=="function"?setTimeout:void 0,zg=typeof clearTimeout=="function"?clearTimeout:void 0,Cd=typeof Promise=="function"?Promise:void 0,jg=typeof queueMicrotask=="function"?queueMicrotask:typeof Cd<"u"?function(e){return Cd.resolve(null).then(e).catch(bg)}:Ol;function bg(e){setTimeout(function(){throw e})}function Ml(e,n){var s=n,l=0;do{var u=s.nextSibling;if(e.removeChild(s),u&&u.nodeType===8)if(s=u.data,s==="/$"){if(l===0){e.removeChild(u),Zr(n);return}l--}else s!=="$"&&s!=="$?"&&s!=="$!"||l++;s=u}while(s);Zr(n)}function hn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?")break;if(n==="/$")return null}}return e}function Sd(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"){if(n===0)return e;n--}else s==="/$"&&n++}e=e.previousSibling}return null}var cr=Math.random().toString(36).slice(2),Wt="__reactFiber$"+cr,ci="__reactProps$"+cr,Gt="__reactContainer$"+cr,Ll="__reactEvents$"+cr,Ug="__reactListeners$"+cr,Bg="__reactHandles$"+cr;function Mn(e){var n=e[Wt];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Gt]||s[Wt]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=Sd(e);e!==null;){if(s=e[Wt])return s;e=Sd(e)}return n}e=s,s=e.parentNode}return null}function di(e){return e=e[Wt]||e[Gt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(r(33))}function Ns(e){return e[ci]||null}var Fl=[],fr=-1;function pn(e){return{current:e}}function we(e){0>fr||(e.current=Fl[fr],Fl[fr]=null,fr--)}function me(e,n){fr++,Fl[fr]=e.current,e.current=n}var mn={},Je=pn(mn),lt=pn(!1),Ln=mn;function hr(e,n){var s=e.type.contextTypes;if(!s)return mn;var l=e.stateNode;if(l&&l.__reactInternalMemoizedUnmaskedChildContext===n)return l.__reactInternalMemoizedMaskedChildContext;var u={},d;for(d in s)u[d]=n[d];return l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=u),u}function at(e){return e=e.childContextTypes,e!=null}function Ts(){we(lt),we(Je)}function kd(e,n,s){if(Je.current!==mn)throw Error(r(168));me(Je,n),me(lt,s)}function Id(e,n,s){var l=e.stateNode;if(n=n.childContextTypes,typeof l.getChildContext!="function")return s;l=l.getChildContext();for(var u in l)if(!(u in n))throw Error(r(108,pe(e)||"Unknown",u));return L({},s,l)}function xs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||mn,Ln=Je.current,me(Je,e),me(lt,lt.current),!0}function Nd(e,n,s){var l=e.stateNode;if(!l)throw Error(r(169));s?(e=Id(e,n,Ln),l.__reactInternalMemoizedMergedChildContext=e,we(lt),we(Je),me(Je,e)):we(lt),me(lt,s)}var Kt=null,Rs=!1,zl=!1;function Td(e){Kt===null?Kt=[e]:Kt.push(e)}function Wg(e){Rs=!0,Td(e)}function gn(){if(!zl&&Kt!==null){zl=!0;var e=0,n=fe;try{var s=Kt;for(fe=1;e<s.length;e++){var l=s[e];do l=l(!0);while(l!==null)}Kt=null,Rs=!1}catch(u){throw Kt!==null&&(Kt=Kt.slice(e+1)),Rc(sl,gn),u}finally{fe=n,zl=!1}}return null}var pr=[],mr=0,Ps=null,Ds=0,St=[],kt=0,Fn=null,Yt=1,Xt="";function zn(e,n){pr[mr++]=Ds,pr[mr++]=Ps,Ps=e,Ds=n}function xd(e,n,s){St[kt++]=Yt,St[kt++]=Xt,St[kt++]=Fn,Fn=e;var l=Yt;e=Xt;var u=32-Dt(l)-1;l&=~(1<<u),s+=1;var d=32-Dt(n)+u;if(30<d){var h=u-u%5;d=(l&(1<<h)-1).toString(32),l>>=h,u-=h,Yt=1<<32-Dt(n)+u|s<<u|l,Xt=d+e}else Yt=1<<d|s<<u|l,Xt=e}function jl(e){e.return!==null&&(zn(e,1),xd(e,1,0))}function bl(e){for(;e===Ps;)Ps=pr[--mr],pr[mr]=null,Ds=pr[--mr],pr[mr]=null;for(;e===Fn;)Fn=St[--kt],St[kt]=null,Xt=St[--kt],St[kt]=null,Yt=St[--kt],St[kt]=null}var _t=null,yt=null,Ce=!1,Ot=null;function Rd(e,n){var s=xt(5,null,null,0);s.elementType="DELETED",s.stateNode=n,s.return=e,n=e.deletions,n===null?(e.deletions=[s],e.flags|=16):n.push(s)}function Pd(e,n){switch(e.tag){case 5:var s=e.type;return n=n.nodeType!==1||s.toLowerCase()!==n.nodeName.toLowerCase()?null:n,n!==null?(e.stateNode=n,_t=e,yt=hn(n.firstChild),!0):!1;case 6:return n=e.pendingProps===""||n.nodeType!==3?null:n,n!==null?(e.stateNode=n,_t=e,yt=null,!0):!1;case 13:return n=n.nodeType!==8?null:n,n!==null?(s=Fn!==null?{id:Yt,overflow:Xt}:null,e.memoizedState={dehydrated:n,treeContext:s,retryLane:1073741824},s=xt(18,null,null,0),s.stateNode=n,s.return=e,e.child=s,_t=e,yt=null,!0):!1;default:return!1}}function Ul(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Bl(e){if(Ce){var n=yt;if(n){var s=n;if(!Pd(e,n)){if(Ul(e))throw Error(r(418));n=hn(s.nextSibling);var l=_t;n&&Pd(e,n)?Rd(l,s):(e.flags=e.flags&-4097|2,Ce=!1,_t=e)}}else{if(Ul(e))throw Error(r(418));e.flags=e.flags&-4097|2,Ce=!1,_t=e}}}function Dd(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;_t=e}function As(e){if(e!==_t)return!1;if(!Ce)return Dd(e),Ce=!0,!1;var n;if((n=e.tag!==3)&&!(n=e.tag!==5)&&(n=e.type,n=n!=="head"&&n!=="body"&&!Al(e.type,e.memoizedProps)),n&&(n=yt)){if(Ul(e))throw Ad(),Error(r(418));for(;n;)Rd(e,n),n=hn(n.nextSibling)}if(Dd(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"){if(n===0){yt=hn(e.nextSibling);break e}n--}else s!=="$"&&s!=="$!"&&s!=="$?"||n++}e=e.nextSibling}yt=null}}else yt=_t?hn(e.stateNode.nextSibling):null;return!0}function Ad(){for(var e=yt;e;)e=hn(e.nextSibling)}function gr(){yt=_t=null,Ce=!1}function Wl(e){Ot===null?Ot=[e]:Ot.push(e)}var Hg=Ne.ReactCurrentBatchConfig;function fi(e,n,s){if(e=s.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(r(309));var l=s.stateNode}if(!l)throw Error(r(147,e));var u=l,d=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===d?n.ref:(n=function(h){var g=u.refs;h===null?delete g[d]:g[d]=h},n._stringRef=d,n)}if(typeof e!="string")throw Error(r(284));if(!s._owner)throw Error(r(290,e))}return e}function Os(e,n){throw e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function Od(e){var n=e._init;return n(e._payload)}function Md(e){function n(C,v){if(e){var k=C.deletions;k===null?(C.deletions=[v],C.flags|=16):k.push(v)}}function s(C,v){if(!e)return null;for(;v!==null;)n(C,v),v=v.sibling;return null}function l(C,v){for(C=new Map;v!==null;)v.key!==null?C.set(v.key,v):C.set(v.index,v),v=v.sibling;return C}function u(C,v){return C=kn(C,v),C.index=0,C.sibling=null,C}function d(C,v,k){return C.index=k,e?(k=C.alternate,k!==null?(k=k.index,k<v?(C.flags|=2,v):k):(C.flags|=2,v)):(C.flags|=1048576,v)}function h(C){return e&&C.alternate===null&&(C.flags|=2),C}function g(C,v,k,D){return v===null||v.tag!==6?(v=Oa(k,C.mode,D),v.return=C,v):(v=u(v,k),v.return=C,v)}function y(C,v,k,D){var W=k.type;return W===qe?R(C,v,k.props.children,D,k.key):v!==null&&(v.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Z&&Od(W)===v.type)?(D=u(v,k.props),D.ref=fi(C,v,k),D.return=C,D):(D=ro(k.type,k.key,k.props,null,C.mode,D),D.ref=fi(C,v,k),D.return=C,D)}function N(C,v,k,D){return v===null||v.tag!==4||v.stateNode.containerInfo!==k.containerInfo||v.stateNode.implementation!==k.implementation?(v=Ma(k,C.mode,D),v.return=C,v):(v=u(v,k.children||[]),v.return=C,v)}function R(C,v,k,D,W){return v===null||v.tag!==7?(v=$n(k,C.mode,D,W),v.return=C,v):(v=u(v,k),v.return=C,v)}function P(C,v,k){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Oa(""+v,C.mode,k),v.return=C,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case nt:return k=ro(v.type,v.key,v.props,null,C.mode,k),k.ref=fi(C,null,v),k.return=C,k;case $e:return v=Ma(v,C.mode,k),v.return=C,v;case Z:var D=v._init;return P(C,D(v._payload),k)}if(Br(v)||V(v))return v=$n(v,C.mode,k,null),v.return=C,v;Os(C,v)}return null}function x(C,v,k,D){var W=v!==null?v.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return W!==null?null:g(C,v,""+k,D);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case nt:return k.key===W?y(C,v,k,D):null;case $e:return k.key===W?N(C,v,k,D):null;case Z:return W=k._init,x(C,v,W(k._payload),D)}if(Br(k)||V(k))return W!==null?null:R(C,v,k,D,null);Os(C,k)}return null}function z(C,v,k,D,W){if(typeof D=="string"&&D!==""||typeof D=="number")return C=C.get(k)||null,g(v,C,""+D,W);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case nt:return C=C.get(D.key===null?k:D.key)||null,y(v,C,D,W);case $e:return C=C.get(D.key===null?k:D.key)||null,N(v,C,D,W);case Z:var Q=D._init;return z(C,v,k,Q(D._payload),W)}if(Br(D)||V(D))return C=C.get(k)||null,R(v,C,D,W,null);Os(v,D)}return null}function U(C,v,k,D){for(var W=null,Q=null,G=v,J=v=0,Ue=null;G!==null&&J<k.length;J++){G.index>J?(Ue=G,G=null):Ue=G.sibling;var ue=x(C,G,k[J],D);if(ue===null){G===null&&(G=Ue);break}e&&G&&ue.alternate===null&&n(C,G),v=d(ue,v,J),Q===null?W=ue:Q.sibling=ue,Q=ue,G=Ue}if(J===k.length)return s(C,G),Ce&&zn(C,J),W;if(G===null){for(;J<k.length;J++)G=P(C,k[J],D),G!==null&&(v=d(G,v,J),Q===null?W=G:Q.sibling=G,Q=G);return Ce&&zn(C,J),W}for(G=l(C,G);J<k.length;J++)Ue=z(G,C,J,k[J],D),Ue!==null&&(e&&Ue.alternate!==null&&G.delete(Ue.key===null?J:Ue.key),v=d(Ue,v,J),Q===null?W=Ue:Q.sibling=Ue,Q=Ue);return e&&G.forEach(function(In){return n(C,In)}),Ce&&zn(C,J),W}function B(C,v,k,D){var W=V(k);if(typeof W!="function")throw Error(r(150));if(k=W.call(k),k==null)throw Error(r(151));for(var Q=W=null,G=v,J=v=0,Ue=null,ue=k.next();G!==null&&!ue.done;J++,ue=k.next()){G.index>J?(Ue=G,G=null):Ue=G.sibling;var In=x(C,G,ue.value,D);if(In===null){G===null&&(G=Ue);break}e&&G&&In.alternate===null&&n(C,G),v=d(In,v,J),Q===null?W=In:Q.sibling=In,Q=In,G=Ue}if(ue.done)return s(C,G),Ce&&zn(C,J),W;if(G===null){for(;!ue.done;J++,ue=k.next())ue=P(C,ue.value,D),ue!==null&&(v=d(ue,v,J),Q===null?W=ue:Q.sibling=ue,Q=ue);return Ce&&zn(C,J),W}for(G=l(C,G);!ue.done;J++,ue=k.next())ue=z(G,C,J,ue.value,D),ue!==null&&(e&&ue.alternate!==null&&G.delete(ue.key===null?J:ue.key),v=d(ue,v,J),Q===null?W=ue:Q.sibling=ue,Q=ue);return e&&G.forEach(function(E_){return n(C,E_)}),Ce&&zn(C,J),W}function Ae(C,v,k,D){if(typeof k=="object"&&k!==null&&k.type===qe&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case nt:e:{for(var W=k.key,Q=v;Q!==null;){if(Q.key===W){if(W=k.type,W===qe){if(Q.tag===7){s(C,Q.sibling),v=u(Q,k.props.children),v.return=C,C=v;break e}}else if(Q.elementType===W||typeof W=="object"&&W!==null&&W.$$typeof===Z&&Od(W)===Q.type){s(C,Q.sibling),v=u(Q,k.props),v.ref=fi(C,Q,k),v.return=C,C=v;break e}s(C,Q);break}else n(C,Q);Q=Q.sibling}k.type===qe?(v=$n(k.props.children,C.mode,D,k.key),v.return=C,C=v):(D=ro(k.type,k.key,k.props,null,C.mode,D),D.ref=fi(C,v,k),D.return=C,C=D)}return h(C);case $e:e:{for(Q=k.key;v!==null;){if(v.key===Q)if(v.tag===4&&v.stateNode.containerInfo===k.containerInfo&&v.stateNode.implementation===k.implementation){s(C,v.sibling),v=u(v,k.children||[]),v.return=C,C=v;break e}else{s(C,v);break}else n(C,v);v=v.sibling}v=Ma(k,C.mode,D),v.return=C,C=v}return h(C);case Z:return Q=k._init,Ae(C,v,Q(k._payload),D)}if(Br(k))return U(C,v,k,D);if(V(k))return B(C,v,k,D);Os(C,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,v!==null&&v.tag===6?(s(C,v.sibling),v=u(v,k),v.return=C,C=v):(s(C,v),v=Oa(k,C.mode,D),v.return=C,C=v),h(C)):s(C,v)}return Ae}var _r=Md(!0),Ld=Md(!1),Ms=pn(null),Ls=null,yr=null,Hl=null;function Vl(){Hl=yr=Ls=null}function $l(e){var n=Ms.current;we(Ms),e._currentValue=n}function ql(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function vr(e,n){Ls=e,Hl=yr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(ut=!0),e.firstContext=null)}function It(e){var n=e._currentValue;if(Hl!==e)if(e={context:e,memoizedValue:n,next:null},yr===null){if(Ls===null)throw Error(r(308));yr=e,Ls.dependencies={lanes:0,firstContext:e}}else yr=yr.next=e;return n}var jn=null;function Ql(e){jn===null?jn=[e]:jn.push(e)}function Fd(e,n,s,l){var u=n.interleaved;return u===null?(s.next=s,Ql(n)):(s.next=u.next,u.next=s),n.interleaved=s,Jt(e,l)}function Jt(e,n){e.lanes|=n;var s=e.alternate;for(s!==null&&(s.lanes|=n),s=e,e=e.return;e!==null;)e.childLanes|=n,s=e.alternate,s!==null&&(s.childLanes|=n),s=e,e=e.return;return s.tag===3?s.stateNode:null}var _n=!1;function Gl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function zd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Zt(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function yn(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,oe&2){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,Jt(e,s)}return u=l.interleaved,u===null?(n.next=n,Ql(l)):(n.next=u.next,u.next=n),l.interleaved=n,Jt(e,s)}function Fs(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194240)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}function jd(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var u=null,d=null;if(s=s.firstBaseUpdate,s!==null){do{var h={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};d===null?u=d=h:d=d.next=h,s=s.next}while(s!==null);d===null?u=d=n:d=d.next=n}else u=d=n;s={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:d,shared:l.shared,effects:l.effects},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}function zs(e,n,s,l){var u=e.updateQueue;_n=!1;var d=u.firstBaseUpdate,h=u.lastBaseUpdate,g=u.shared.pending;if(g!==null){u.shared.pending=null;var y=g,N=y.next;y.next=null,h===null?d=N:h.next=N,h=y;var R=e.alternate;R!==null&&(R=R.updateQueue,g=R.lastBaseUpdate,g!==h&&(g===null?R.firstBaseUpdate=N:g.next=N,R.lastBaseUpdate=y))}if(d!==null){var P=u.baseState;h=0,R=N=y=null,g=d;do{var x=g.lane,z=g.eventTime;if((l&x)===x){R!==null&&(R=R.next={eventTime:z,lane:0,tag:g.tag,payload:g.payload,callback:g.callback,next:null});e:{var U=e,B=g;switch(x=n,z=s,B.tag){case 1:if(U=B.payload,typeof U=="function"){P=U.call(z,P,x);break e}P=U;break e;case 3:U.flags=U.flags&-65537|128;case 0:if(U=B.payload,x=typeof U=="function"?U.call(z,P,x):U,x==null)break e;P=L({},P,x);break e;case 2:_n=!0}}g.callback!==null&&g.lane!==0&&(e.flags|=64,x=u.effects,x===null?u.effects=[g]:x.push(g))}else z={eventTime:z,lane:x,tag:g.tag,payload:g.payload,callback:g.callback,next:null},R===null?(N=R=z,y=P):R=R.next=z,h|=x;if(g=g.next,g===null){if(g=u.shared.pending,g===null)break;x=g,g=x.next,x.next=null,u.lastBaseUpdate=x,u.shared.pending=null}}while(!0);if(R===null&&(y=P),u.baseState=y,u.firstBaseUpdate=N,u.lastBaseUpdate=R,n=u.shared.interleaved,n!==null){u=n;do h|=u.lane,u=u.next;while(u!==n)}else d===null&&(u.shared.lanes=0);Bn|=h,e.lanes=h,e.memoizedState=P}}function bd(e,n,s){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var l=e[n],u=l.callback;if(u!==null){if(l.callback=null,l=s,typeof u!="function")throw Error(r(191,u));u.call(l)}}}var hi={},Ht=pn(hi),pi=pn(hi),mi=pn(hi);function bn(e){if(e===hi)throw Error(r(174));return e}function Kl(e,n){switch(me(mi,n),me(pi,e),me(Ht,hi),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)?n.namespaceURI:Yo(null,"");break;default:e=e===8?n.parentNode:n,n=e.namespaceURI||null,e=e.tagName,n=Yo(n,e)}we(Ht),me(Ht,n)}function wr(){we(Ht),we(pi),we(mi)}function Ud(e){bn(mi.current);var n=bn(Ht.current),s=Yo(n,e.type);n!==s&&(me(pi,e),me(Ht,s))}function Yl(e){pi.current===e&&(we(Ht),we(pi))}var Se=pn(0);function js(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Xl=[];function Jl(){for(var e=0;e<Xl.length;e++)Xl[e]._workInProgressVersionPrimary=null;Xl.length=0}var bs=Ne.ReactCurrentDispatcher,Zl=Ne.ReactCurrentBatchConfig,Un=0,ke=null,Me=null,je=null,Us=!1,gi=!1,_i=0,Vg=0;function Ze(){throw Error(r(321))}function ea(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!At(e[s],n[s]))return!1;return!0}function ta(e,n,s,l,u,d){if(Un=d,ke=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,bs.current=e===null||e.memoizedState===null?Gg:Kg,e=s(l,u),gi){d=0;do{if(gi=!1,_i=0,25<=d)throw Error(r(301));d+=1,je=Me=null,n.updateQueue=null,bs.current=Yg,e=s(l,u)}while(gi)}if(bs.current=Hs,n=Me!==null&&Me.next!==null,Un=0,je=Me=ke=null,Us=!1,n)throw Error(r(300));return e}function na(){var e=_i!==0;return _i=0,e}function Vt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ke.memoizedState=je=e:je=je.next=e,je}function Nt(){if(Me===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var n=je===null?ke.memoizedState:je.next;if(n!==null)je=n,Me=e;else{if(e===null)throw Error(r(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},je===null?ke.memoizedState=je=e:je=je.next=e}return je}function yi(e,n){return typeof n=="function"?n(e):n}function ra(e){var n=Nt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=Me,u=l.baseQueue,d=s.pending;if(d!==null){if(u!==null){var h=u.next;u.next=d.next,d.next=h}l.baseQueue=u=d,s.pending=null}if(u!==null){d=u.next,l=l.baseState;var g=h=null,y=null,N=d;do{var R=N.lane;if((Un&R)===R)y!==null&&(y=y.next={lane:0,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null}),l=N.hasEagerState?N.eagerState:e(l,N.action);else{var P={lane:R,action:N.action,hasEagerState:N.hasEagerState,eagerState:N.eagerState,next:null};y===null?(g=y=P,h=l):y=y.next=P,ke.lanes|=R,Bn|=R}N=N.next}while(N!==null&&N!==d);y===null?h=l:y.next=g,At(l,n.memoizedState)||(ut=!0),n.memoizedState=l,n.baseState=h,n.baseQueue=y,s.lastRenderedState=l}if(e=s.interleaved,e!==null){u=e;do d=u.lane,ke.lanes|=d,Bn|=d,u=u.next;while(u!==e)}else u===null&&(s.lanes=0);return[n.memoizedState,s.dispatch]}function ia(e){var n=Nt(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var l=s.dispatch,u=s.pending,d=n.memoizedState;if(u!==null){s.pending=null;var h=u=u.next;do d=e(d,h.action),h=h.next;while(h!==u);At(d,n.memoizedState)||(ut=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),s.lastRenderedState=d}return[d,l]}function Bd(){}function Wd(e,n){var s=ke,l=Nt(),u=n(),d=!At(l.memoizedState,u);if(d&&(l.memoizedState=u,ut=!0),l=l.queue,sa($d.bind(null,s,l,e),[e]),l.getSnapshot!==n||d||je!==null&&je.memoizedState.tag&1){if(s.flags|=2048,vi(9,Vd.bind(null,s,l,u,n),void 0,null),be===null)throw Error(r(349));Un&30||Hd(s,n,u)}return u}function Hd(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=ke.updateQueue,n===null?(n={lastEffect:null,stores:null},ke.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Vd(e,n,s,l){n.value=s,n.getSnapshot=l,qd(n)&&Qd(e)}function $d(e,n,s){return s(function(){qd(n)&&Qd(e)})}function qd(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!At(e,s)}catch{return!0}}function Qd(e){var n=Jt(e,1);n!==null&&zt(n,e,1,-1)}function Gd(e){var n=Vt();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},n.queue=e,e=e.dispatch=Qg.bind(null,ke,e),[n.memoizedState,e]}function vi(e,n,s,l){return e={tag:e,create:n,destroy:s,deps:l,next:null},n=ke.updateQueue,n===null?(n={lastEffect:null,stores:null},ke.updateQueue=n,n.lastEffect=e.next=e):(s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e)),e}function Kd(){return Nt().memoizedState}function Bs(e,n,s,l){var u=Vt();ke.flags|=e,u.memoizedState=vi(1|n,s,void 0,l===void 0?null:l)}function Ws(e,n,s,l){var u=Nt();l=l===void 0?null:l;var d=void 0;if(Me!==null){var h=Me.memoizedState;if(d=h.destroy,l!==null&&ea(l,h.deps)){u.memoizedState=vi(n,s,d,l);return}}ke.flags|=e,u.memoizedState=vi(1|n,s,d,l)}function Yd(e,n){return Bs(8390656,8,e,n)}function sa(e,n){return Ws(2048,8,e,n)}function Xd(e,n){return Ws(4,2,e,n)}function Jd(e,n){return Ws(4,4,e,n)}function Zd(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function ef(e,n,s){return s=s!=null?s.concat([e]):null,Ws(4,4,Zd.bind(null,n,e),s)}function oa(){}function tf(e,n){var s=Nt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ea(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function nf(e,n){var s=Nt();n=n===void 0?null:n;var l=s.memoizedState;return l!==null&&n!==null&&ea(n,l[1])?l[0]:(e=e(),s.memoizedState=[e,n],e)}function rf(e,n,s){return Un&21?(At(s,n)||(s=Oc(),ke.lanes|=s,Bn|=s,e.baseState=!0),n):(e.baseState&&(e.baseState=!1,ut=!0),e.memoizedState=s)}function $g(e,n){var s=fe;fe=s!==0&&4>s?s:4,e(!0);var l=Zl.transition;Zl.transition={};try{e(!1),n()}finally{fe=s,Zl.transition=l}}function sf(){return Nt().memoizedState}function qg(e,n,s){var l=Cn(e);if(s={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null},of(e))lf(n,s);else if(s=Fd(e,n,s,l),s!==null){var u=it();zt(s,e,l,u),af(s,n,l)}}function Qg(e,n,s){var l=Cn(e),u={lane:l,action:s,hasEagerState:!1,eagerState:null,next:null};if(of(e))lf(n,u);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var h=n.lastRenderedState,g=d(h,s);if(u.hasEagerState=!0,u.eagerState=g,At(g,h)){var y=n.interleaved;y===null?(u.next=u,Ql(n)):(u.next=y.next,y.next=u),n.interleaved=u;return}}catch{}finally{}s=Fd(e,n,u,l),s!==null&&(u=it(),zt(s,e,l,u),af(s,n,l))}}function of(e){var n=e.alternate;return e===ke||n!==null&&n===ke}function lf(e,n){gi=Us=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function af(e,n,s){if(s&4194240){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,al(e,s)}}var Hs={readContext:It,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},Gg={readContext:It,useCallback:function(e,n){return Vt().memoizedState=[e,n===void 0?null:n],e},useContext:It,useEffect:Yd,useImperativeHandle:function(e,n,s){return s=s!=null?s.concat([e]):null,Bs(4194308,4,Zd.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Bs(4194308,4,e,n)},useInsertionEffect:function(e,n){return Bs(4,2,e,n)},useMemo:function(e,n){var s=Vt();return n=n===void 0?null:n,e=e(),s.memoizedState=[e,n],e},useReducer:function(e,n,s){var l=Vt();return n=s!==void 0?s(n):n,l.memoizedState=l.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=qg.bind(null,ke,e),[l.memoizedState,e]},useRef:function(e){var n=Vt();return e={current:e},n.memoizedState=e},useState:Gd,useDebugValue:oa,useDeferredValue:function(e){return Vt().memoizedState=e},useTransition:function(){var e=Gd(!1),n=e[0];return e=$g.bind(null,e[1]),Vt().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,s){var l=ke,u=Vt();if(Ce){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),be===null)throw Error(r(349));Un&30||Hd(l,n,s)}u.memoizedState=s;var d={value:s,getSnapshot:n};return u.queue=d,Yd($d.bind(null,l,d,e),[e]),l.flags|=2048,vi(9,Vd.bind(null,l,d,s,n),void 0,null),s},useId:function(){var e=Vt(),n=be.identifierPrefix;if(Ce){var s=Xt,l=Yt;s=(l&~(1<<32-Dt(l)-1)).toString(32)+s,n=":"+n+"R"+s,s=_i++,0<s&&(n+="H"+s.toString(32)),n+=":"}else s=Vg++,n=":"+n+"r"+s.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},Kg={readContext:It,useCallback:tf,useContext:It,useEffect:sa,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:ra,useRef:Kd,useState:function(){return ra(yi)},useDebugValue:oa,useDeferredValue:function(e){var n=Nt();return rf(n,Me.memoizedState,e)},useTransition:function(){var e=ra(yi)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:Bd,useSyncExternalStore:Wd,useId:sf,unstable_isNewReconciler:!1},Yg={readContext:It,useCallback:tf,useContext:It,useEffect:sa,useImperativeHandle:ef,useInsertionEffect:Xd,useLayoutEffect:Jd,useMemo:nf,useReducer:ia,useRef:Kd,useState:function(){return ia(yi)},useDebugValue:oa,useDeferredValue:function(e){var n=Nt();return Me===null?n.memoizedState=e:rf(n,Me.memoizedState,e)},useTransition:function(){var e=ia(yi)[0],n=Nt().memoizedState;return[e,n]},useMutableSource:Bd,useSyncExternalStore:Wd,useId:sf,unstable_isNewReconciler:!1};function Mt(e,n){if(e&&e.defaultProps){n=L({},n),e=e.defaultProps;for(var s in e)n[s]===void 0&&(n[s]=e[s]);return n}return n}function la(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:L({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Vs={isMounted:function(e){return(e=e._reactInternals)?On(e)===e:!1},enqueueSetState:function(e,n,s){e=e._reactInternals;var l=it(),u=Cn(e),d=Zt(l,u);d.payload=n,s!=null&&(d.callback=s),n=yn(e,d,u),n!==null&&(zt(n,e,u,l),Fs(n,e,u))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=it(),u=Cn(e),d=Zt(l,u);d.tag=1,d.payload=n,s!=null&&(d.callback=s),n=yn(e,d,u),n!==null&&(zt(n,e,u,l),Fs(n,e,u))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=it(),l=Cn(e),u=Zt(s,l);u.tag=2,n!=null&&(u.callback=n),n=yn(e,u,l),n!==null&&(zt(n,e,l,s),Fs(n,e,l))}};function uf(e,n,s,l,u,d,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,h):n.prototype&&n.prototype.isPureReactComponent?!si(s,l)||!si(u,d):!0}function cf(e,n,s){var l=!1,u=mn,d=n.contextType;return typeof d=="object"&&d!==null?d=It(d):(u=at(n)?Ln:Je.current,l=n.contextTypes,d=(l=l!=null)?hr(e,u):mn),n=new n(s,d),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=Vs,e.stateNode=n,n._reactInternals=e,l&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=u,e.__reactInternalMemoizedMaskedChildContext=d),n}function df(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Vs.enqueueReplaceState(n,n.state,null)}function aa(e,n,s,l){var u=e.stateNode;u.props=s,u.state=e.memoizedState,u.refs={},Gl(e);var d=n.contextType;typeof d=="object"&&d!==null?u.context=It(d):(d=at(n)?Ln:Je.current,u.context=hr(e,d)),u.state=e.memoizedState,d=n.getDerivedStateFromProps,typeof d=="function"&&(la(e,n,d,s),u.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(n=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),n!==u.state&&Vs.enqueueReplaceState(u,u.state,null),zs(e,s,u,l),u.state=e.memoizedState),typeof u.componentDidMount=="function"&&(e.flags|=4194308)}function Er(e,n){try{var s="",l=n;do s+=le(l),l=l.return;while(l);var u=s}catch(d){u=`
Error generating stack: `+d.message+`
`+d.stack}return{value:e,source:n,stack:u,digest:null}}function ua(e,n,s){return{value:e,source:null,stack:s??null,digest:n??null}}function ca(e,n){try{console.error(n.value)}catch(s){setTimeout(function(){throw s})}}var Xg=typeof WeakMap=="function"?WeakMap:Map;function ff(e,n,s){s=Zt(-1,s),s.tag=3,s.payload={element:null};var l=n.value;return s.callback=function(){Xs||(Xs=!0,Ia=l),ca(e,n)},s}function hf(e,n,s){s=Zt(-1,s),s.tag=3;var l=e.type.getDerivedStateFromError;if(typeof l=="function"){var u=n.value;s.payload=function(){return l(u)},s.callback=function(){ca(e,n)}}var d=e.stateNode;return d!==null&&typeof d.componentDidCatch=="function"&&(s.callback=function(){ca(e,n),typeof l!="function"&&(wn===null?wn=new Set([this]):wn.add(this));var h=n.stack;this.componentDidCatch(n.value,{componentStack:h!==null?h:""})}),s}function pf(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new Xg;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(s)||(u.add(s),e=d_.bind(null,e,n,s),n.then(e,e))}function mf(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function gf(e,n,s,l,u){return e.mode&1?(e.flags|=65536,e.lanes=u,e):(e===n?e.flags|=65536:(e.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(n=Zt(-1,1),n.tag=2,yn(s,n,1))),s.lanes|=1),e)}var Jg=Ne.ReactCurrentOwner,ut=!1;function rt(e,n,s,l){n.child=e===null?Ld(n,null,s,l):_r(n,e.child,s,l)}function _f(e,n,s,l,u){s=s.render;var d=n.ref;return vr(n,u),l=ta(e,n,s,l,d,u),s=na(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,en(e,n,u)):(Ce&&s&&jl(n),n.flags|=1,rt(e,n,l,u),n.child)}function yf(e,n,s,l,u){if(e===null){var d=s.type;return typeof d=="function"&&!Aa(d)&&d.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(n.tag=15,n.type=d,vf(e,n,d,l,u)):(e=ro(s.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!(e.lanes&u)){var h=d.memoizedProps;if(s=s.compare,s=s!==null?s:si,s(h,l)&&e.ref===n.ref)return en(e,n,u)}return n.flags|=1,e=kn(d,l),e.ref=n.ref,e.return=n,n.child=e}function vf(e,n,s,l,u){if(e!==null){var d=e.memoizedProps;if(si(d,l)&&e.ref===n.ref)if(ut=!1,n.pendingProps=l=d,(e.lanes&u)!==0)e.flags&131072&&(ut=!0);else return n.lanes=e.lanes,en(e,n,u)}return da(e,n,s,l,u)}function wf(e,n,s){var l=n.pendingProps,u=l.children,d=e!==null?e.memoizedState:null;if(l.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Sr,vt),vt|=s;else{if(!(s&1073741824))return e=d!==null?d.baseLanes|s:s,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null,transitions:null},n.updateQueue=null,me(Sr,vt),vt|=e,null;n.memoizedState={baseLanes:0,cachePool:null,transitions:null},l=d!==null?d.baseLanes:s,me(Sr,vt),vt|=l}else d!==null?(l=d.baseLanes|s,n.memoizedState=null):l=s,me(Sr,vt),vt|=l;return rt(e,n,u,s),n.child}function Ef(e,n){var s=n.ref;(e===null&&s!==null||e!==null&&e.ref!==s)&&(n.flags|=512,n.flags|=2097152)}function da(e,n,s,l,u){var d=at(s)?Ln:Je.current;return d=hr(n,d),vr(n,u),s=ta(e,n,s,l,d,u),l=na(),e!==null&&!ut?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~u,en(e,n,u)):(Ce&&l&&jl(n),n.flags|=1,rt(e,n,s,u),n.child)}function Cf(e,n,s,l,u){if(at(s)){var d=!0;xs(n)}else d=!1;if(vr(n,u),n.stateNode===null)qs(e,n),cf(n,s,l),aa(n,s,l,u),l=!0;else if(e===null){var h=n.stateNode,g=n.memoizedProps;h.props=g;var y=h.context,N=s.contextType;typeof N=="object"&&N!==null?N=It(N):(N=at(s)?Ln:Je.current,N=hr(n,N));var R=s.getDerivedStateFromProps,P=typeof R=="function"||typeof h.getSnapshotBeforeUpdate=="function";P||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==l||y!==N)&&df(n,h,l,N),_n=!1;var x=n.memoizedState;h.state=x,zs(n,l,h,u),y=n.memoizedState,g!==l||x!==y||lt.current||_n?(typeof R=="function"&&(la(n,s,R,l),y=n.memoizedState),(g=_n||uf(n,s,g,l,x,y,N))?(P||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=y),h.props=l,h.state=y,h.context=N,l=g):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,zd(e,n),g=n.memoizedProps,N=n.type===n.elementType?g:Mt(n.type,g),h.props=N,P=n.pendingProps,x=h.context,y=s.contextType,typeof y=="object"&&y!==null?y=It(y):(y=at(s)?Ln:Je.current,y=hr(n,y));var z=s.getDerivedStateFromProps;(R=typeof z=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(g!==P||x!==y)&&df(n,h,l,y),_n=!1,x=n.memoizedState,h.state=x,zs(n,l,h,u);var U=n.memoizedState;g!==P||x!==U||lt.current||_n?(typeof z=="function"&&(la(n,s,z,l),U=n.memoizedState),(N=_n||uf(n,s,N,l,x,U,y)||!1)?(R||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,U,y),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,U,y)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=U),h.props=l,h.state=U,h.context=y,l=N):(typeof h.componentDidUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),l=!1)}return fa(e,n,s,l,d,u)}function fa(e,n,s,l,u,d){Ef(e,n);var h=(n.flags&128)!==0;if(!l&&!h)return u&&Nd(n,s,!1),en(e,n,d);l=n.stateNode,Jg.current=n;var g=h&&typeof s.getDerivedStateFromError!="function"?null:l.render();return n.flags|=1,e!==null&&h?(n.child=_r(n,e.child,null,d),n.child=_r(n,null,g,d)):rt(e,n,g,d),n.memoizedState=l.state,u&&Nd(n,s,!0),n.child}function Sf(e){var n=e.stateNode;n.pendingContext?kd(e,n.pendingContext,n.pendingContext!==n.context):n.context&&kd(e,n.context,!1),Kl(e,n.containerInfo)}function kf(e,n,s,l,u){return gr(),Wl(u),n.flags|=256,rt(e,n,s,l),n.child}var ha={dehydrated:null,treeContext:null,retryLane:0};function pa(e){return{baseLanes:e,cachePool:null,transitions:null}}function If(e,n,s){var l=n.pendingProps,u=Se.current,d=!1,h=(n.flags&128)!==0,g;if((g=h)||(g=e!==null&&e.memoizedState===null?!1:(u&2)!==0),g?(d=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(u|=1),me(Se,u&1),e===null)return Bl(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?e.data==="$!"?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(h=l.children,e=l.fallback,d?(l=n.mode,d=n.child,h={mode:"hidden",children:h},!(l&1)&&d!==null?(d.childLanes=0,d.pendingProps=h):d=io(h,l,0,null),e=$n(e,l,s,null),d.return=n,e.return=n,d.sibling=e,n.child=d,n.child.memoizedState=pa(s),n.memoizedState=ha,e):ma(n,h));if(u=e.memoizedState,u!==null&&(g=u.dehydrated,g!==null))return Zg(e,n,h,l,g,u,s);if(d){d=l.fallback,h=n.mode,u=e.child,g=u.sibling;var y={mode:"hidden",children:l.children};return!(h&1)&&n.child!==u?(l=n.child,l.childLanes=0,l.pendingProps=y,n.deletions=null):(l=kn(u,y),l.subtreeFlags=u.subtreeFlags&14680064),g!==null?d=kn(g,d):(d=$n(d,h,s,null),d.flags|=2),d.return=n,l.return=n,l.sibling=d,n.child=l,l=d,d=n.child,h=e.child.memoizedState,h=h===null?pa(s):{baseLanes:h.baseLanes|s,cachePool:null,transitions:h.transitions},d.memoizedState=h,d.childLanes=e.childLanes&~s,n.memoizedState=ha,l}return d=e.child,e=d.sibling,l=kn(d,{mode:"visible",children:l.children}),!(n.mode&1)&&(l.lanes=s),l.return=n,l.sibling=null,e!==null&&(s=n.deletions,s===null?(n.deletions=[e],n.flags|=16):s.push(e)),n.child=l,n.memoizedState=null,l}function ma(e,n){return n=io({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function $s(e,n,s,l){return l!==null&&Wl(l),_r(n,e.child,null,s),e=ma(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Zg(e,n,s,l,u,d,h){if(s)return n.flags&256?(n.flags&=-257,l=ua(Error(r(422))),$s(e,n,h,l)):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(d=l.fallback,u=n.mode,l=io({mode:"visible",children:l.children},u,0,null),d=$n(d,u,h,null),d.flags|=2,l.return=n,d.return=n,l.sibling=d,n.child=l,n.mode&1&&_r(n,e.child,null,h),n.child.memoizedState=pa(h),n.memoizedState=ha,d);if(!(n.mode&1))return $s(e,n,h,null);if(u.data==="$!"){if(l=u.nextSibling&&u.nextSibling.dataset,l)var g=l.dgst;return l=g,d=Error(r(419)),l=ua(d,l,void 0),$s(e,n,h,l)}if(g=(h&e.childLanes)!==0,ut||g){if(l=be,l!==null){switch(h&-h){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(l.suspendedLanes|h)?0:u,u!==0&&u!==d.retryLane&&(d.retryLane=u,Jt(e,u),zt(l,e,u,-1))}return Da(),l=ua(Error(r(421))),$s(e,n,h,l)}return u.data==="$?"?(n.flags|=128,n.child=e.child,n=f_.bind(null,e),u._reactRetry=n,null):(e=d.treeContext,yt=hn(u.nextSibling),_t=n,Ce=!0,Ot=null,e!==null&&(St[kt++]=Yt,St[kt++]=Xt,St[kt++]=Fn,Yt=e.id,Xt=e.overflow,Fn=n),n=ma(n,l.children),n.flags|=4096,n)}function Nf(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ql(e.return,n,s)}function ga(e,n,s,l,u){var d=e.memoizedState;d===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:u}:(d.isBackwards=n,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=s,d.tailMode=u)}function Tf(e,n,s){var l=n.pendingProps,u=l.revealOrder,d=l.tail;if(rt(e,n,l.children,s),l=Se.current,l&2)l=l&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Nf(e,s,n);else if(e.tag===19)Nf(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}if(me(Se,l),!(n.mode&1))n.memoizedState=null;else switch(u){case"forwards":for(s=n.child,u=null;s!==null;)e=s.alternate,e!==null&&js(e)===null&&(u=s),s=s.sibling;s=u,s===null?(u=n.child,n.child=null):(u=s.sibling,s.sibling=null),ga(n,!1,u,s,d);break;case"backwards":for(s=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&js(e)===null){n.child=u;break}e=u.sibling,u.sibling=s,s=u,u=e}ga(n,!0,s,null,d);break;case"together":ga(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function qs(e,n){!(n.mode&1)&&e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2)}function en(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Bn|=n.lanes,!(s&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=kn(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=kn(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function e_(e,n,s){switch(n.tag){case 3:Sf(n),gr();break;case 5:Ud(n);break;case 1:at(n.type)&&xs(n);break;case 4:Kl(n,n.stateNode.containerInfo);break;case 10:var l=n.type._context,u=n.memoizedProps.value;me(Ms,l._currentValue),l._currentValue=u;break;case 13:if(l=n.memoizedState,l!==null)return l.dehydrated!==null?(me(Se,Se.current&1),n.flags|=128,null):s&n.child.childLanes?If(e,n,s):(me(Se,Se.current&1),e=en(e,n,s),e!==null?e.sibling:null);me(Se,Se.current&1);break;case 19:if(l=(s&n.childLanes)!==0,e.flags&128){if(l)return Tf(e,n,s);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),me(Se,Se.current),l)break;return null;case 22:case 23:return n.lanes=0,wf(e,n,s)}return en(e,n,s)}var xf,_a,Rf,Pf;xf=function(e,n){for(var s=n.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return;s=s.return}s.sibling.return=s.return,s=s.sibling}},_a=function(){},Rf=function(e,n,s,l){var u=e.memoizedProps;if(u!==l){e=n.stateNode,bn(Ht.current);var d=null;switch(s){case"input":u=qo(e,u),l=qo(e,l),d=[];break;case"select":u=L({},u,{value:void 0}),l=L({},l,{value:void 0}),d=[];break;case"textarea":u=Ko(e,u),l=Ko(e,l),d=[];break;default:typeof u.onClick!="function"&&typeof l.onClick=="function"&&(e.onclick=Is)}Xo(s,l);var h;s=null;for(N in u)if(!l.hasOwnProperty(N)&&u.hasOwnProperty(N)&&u[N]!=null)if(N==="style"){var g=u[N];for(h in g)g.hasOwnProperty(h)&&(s||(s={}),s[h]="")}else N!=="dangerouslySetInnerHTML"&&N!=="children"&&N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&N!=="autoFocus"&&(a.hasOwnProperty(N)?d||(d=[]):(d=d||[]).push(N,null));for(N in l){var y=l[N];if(g=u!=null?u[N]:void 0,l.hasOwnProperty(N)&&y!==g&&(y!=null||g!=null))if(N==="style")if(g){for(h in g)!g.hasOwnProperty(h)||y&&y.hasOwnProperty(h)||(s||(s={}),s[h]="");for(h in y)y.hasOwnProperty(h)&&g[h]!==y[h]&&(s||(s={}),s[h]=y[h])}else s||(d||(d=[]),d.push(N,s)),s=y;else N==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,g=g?g.__html:void 0,y!=null&&g!==y&&(d=d||[]).push(N,y)):N==="children"?typeof y!="string"&&typeof y!="number"||(d=d||[]).push(N,""+y):N!=="suppressContentEditableWarning"&&N!=="suppressHydrationWarning"&&(a.hasOwnProperty(N)?(y!=null&&N==="onScroll"&&ve("scroll",e),d||g===y||(d=[])):(d=d||[]).push(N,y))}s&&(d=d||[]).push("style",s);var N=d;(n.updateQueue=N)&&(n.flags|=4)}},Pf=function(e,n,s,l){s!==l&&(n.flags|=4)};function wi(e,n){if(!Ce)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function et(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags&14680064,l|=u.flags&14680064,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)s|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function t_(e,n,s){var l=n.pendingProps;switch(bl(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return et(n),null;case 1:return at(n.type)&&Ts(),et(n),null;case 3:return l=n.stateNode,wr(),we(lt),we(Je),Jl(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(As(n)?n.flags|=4:e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Ot!==null&&(xa(Ot),Ot=null))),_a(e,n),et(n),null;case 5:Yl(n);var u=bn(mi.current);if(s=n.type,e!==null&&n.stateNode!=null)Rf(e,n,s,l,u),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!l){if(n.stateNode===null)throw Error(r(166));return et(n),null}if(e=bn(Ht.current),As(n)){l=n.stateNode,s=n.type;var d=n.memoizedProps;switch(l[Wt]=n,l[ci]=d,e=(n.mode&1)!==0,s){case"dialog":ve("cancel",l),ve("close",l);break;case"iframe":case"object":case"embed":ve("load",l);break;case"video":case"audio":for(u=0;u<li.length;u++)ve(li[u],l);break;case"source":ve("error",l);break;case"img":case"image":case"link":ve("error",l),ve("load",l);break;case"details":ve("toggle",l);break;case"input":uc(l,d),ve("invalid",l);break;case"select":l._wrapperState={wasMultiple:!!d.multiple},ve("invalid",l);break;case"textarea":fc(l,d),ve("invalid",l)}Xo(s,d),u=null;for(var h in d)if(d.hasOwnProperty(h)){var g=d[h];h==="children"?typeof g=="string"?l.textContent!==g&&(d.suppressHydrationWarning!==!0&&ks(l.textContent,g,e),u=["children",g]):typeof g=="number"&&l.textContent!==""+g&&(d.suppressHydrationWarning!==!0&&ks(l.textContent,g,e),u=["children",""+g]):a.hasOwnProperty(h)&&g!=null&&h==="onScroll"&&ve("scroll",l)}switch(s){case"input":ts(l),dc(l,d,!0);break;case"textarea":ts(l),pc(l);break;case"select":case"option":break;default:typeof d.onClick=="function"&&(l.onclick=Is)}l=u,n.updateQueue=l,l!==null&&(n.flags|=4)}else{h=u.nodeType===9?u:u.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=mc(s)),e==="http://www.w3.org/1999/xhtml"?s==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof l.is=="string"?e=h.createElement(s,{is:l.is}):(e=h.createElement(s),s==="select"&&(h=e,l.multiple?h.multiple=!0:l.size&&(h.size=l.size))):e=h.createElementNS(e,s),e[Wt]=n,e[ci]=l,xf(e,n,!1,!1),n.stateNode=e;e:{switch(h=Jo(s,l),s){case"dialog":ve("cancel",e),ve("close",e),u=l;break;case"iframe":case"object":case"embed":ve("load",e),u=l;break;case"video":case"audio":for(u=0;u<li.length;u++)ve(li[u],e);u=l;break;case"source":ve("error",e),u=l;break;case"img":case"image":case"link":ve("error",e),ve("load",e),u=l;break;case"details":ve("toggle",e),u=l;break;case"input":uc(e,l),u=qo(e,l),ve("invalid",e);break;case"option":u=l;break;case"select":e._wrapperState={wasMultiple:!!l.multiple},u=L({},l,{value:void 0}),ve("invalid",e);break;case"textarea":fc(e,l),u=Ko(e,l),ve("invalid",e);break;default:u=l}Xo(s,u),g=u;for(d in g)if(g.hasOwnProperty(d)){var y=g[d];d==="style"?yc(e,y):d==="dangerouslySetInnerHTML"?(y=y?y.__html:void 0,y!=null&&gc(e,y)):d==="children"?typeof y=="string"?(s!=="textarea"||y!=="")&&Wr(e,y):typeof y=="number"&&Wr(e,""+y):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(a.hasOwnProperty(d)?y!=null&&d==="onScroll"&&ve("scroll",e):y!=null&&Xe(e,d,y,h))}switch(s){case"input":ts(e),dc(e,l,!1);break;case"textarea":ts(e),pc(e);break;case"option":l.value!=null&&e.setAttribute("value",""+de(l.value));break;case"select":e.multiple=!!l.multiple,d=l.value,d!=null?tr(e,!!l.multiple,d,!1):l.defaultValue!=null&&tr(e,!!l.multiple,l.defaultValue,!0);break;default:typeof u.onClick=="function"&&(e.onclick=Is)}switch(s){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}}l&&(n.flags|=4)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return et(n),null;case 6:if(e&&n.stateNode!=null)Pf(e,n,e.memoizedProps,l);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(s=bn(mi.current),bn(Ht.current),As(n)){if(l=n.stateNode,s=n.memoizedProps,l[Wt]=n,(d=l.nodeValue!==s)&&(e=_t,e!==null))switch(e.tag){case 3:ks(l.nodeValue,s,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ks(l.nodeValue,s,(e.mode&1)!==0)}d&&(n.flags|=4)}else l=(s.nodeType===9?s:s.ownerDocument).createTextNode(l),l[Wt]=n,n.stateNode=l}return et(n),null;case 13:if(we(Se),l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ce&&yt!==null&&n.mode&1&&!(n.flags&128))Ad(),gr(),n.flags|=98560,d=!1;else if(d=As(n),l!==null&&l.dehydrated!==null){if(e===null){if(!d)throw Error(r(318));if(d=n.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(r(317));d[Wt]=n}else gr(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;et(n),d=!1}else Ot!==null&&(xa(Ot),Ot=null),d=!0;if(!d)return n.flags&65536?n:null}return n.flags&128?(n.lanes=s,n):(l=l!==null,l!==(e!==null&&e.memoizedState!==null)&&l&&(n.child.flags|=8192,n.mode&1&&(e===null||Se.current&1?Le===0&&(Le=3):Da())),n.updateQueue!==null&&(n.flags|=4),et(n),null);case 4:return wr(),_a(e,n),e===null&&ai(n.stateNode.containerInfo),et(n),null;case 10:return $l(n.type._context),et(n),null;case 17:return at(n.type)&&Ts(),et(n),null;case 19:if(we(Se),d=n.memoizedState,d===null)return et(n),null;if(l=(n.flags&128)!==0,h=d.rendering,h===null)if(l)wi(d,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(h=js(e),h!==null){for(n.flags|=128,wi(d,!1),l=h.updateQueue,l!==null&&(n.updateQueue=l,n.flags|=4),n.subtreeFlags=0,l=s,s=n.child;s!==null;)d=s,e=l,d.flags&=14680066,h=d.alternate,h===null?(d.childLanes=0,d.lanes=e,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=h.childLanes,d.lanes=h.lanes,d.child=h.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=h.memoizedProps,d.memoizedState=h.memoizedState,d.updateQueue=h.updateQueue,d.type=h.type,e=h.dependencies,d.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),s=s.sibling;return me(Se,Se.current&1|2),n.child}e=e.sibling}d.tail!==null&&De()>kr&&(n.flags|=128,l=!0,wi(d,!1),n.lanes=4194304)}else{if(!l)if(e=js(h),e!==null){if(n.flags|=128,l=!0,s=e.updateQueue,s!==null&&(n.updateQueue=s,n.flags|=4),wi(d,!0),d.tail===null&&d.tailMode==="hidden"&&!h.alternate&&!Ce)return et(n),null}else 2*De()-d.renderingStartTime>kr&&s!==1073741824&&(n.flags|=128,l=!0,wi(d,!1),n.lanes=4194304);d.isBackwards?(h.sibling=n.child,n.child=h):(s=d.last,s!==null?s.sibling=h:n.child=h,d.last=h)}return d.tail!==null?(n=d.tail,d.rendering=n,d.tail=n.sibling,d.renderingStartTime=De(),n.sibling=null,s=Se.current,me(Se,l?s&1|2:s&1),n):(et(n),null);case 22:case 23:return Pa(),l=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==l&&(n.flags|=8192),l&&n.mode&1?vt&1073741824&&(et(n),n.subtreeFlags&6&&(n.flags|=8192)):et(n),null;case 24:return null;case 25:return null}throw Error(r(156,n.tag))}function n_(e,n){switch(bl(n),n.tag){case 1:return at(n.type)&&Ts(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wr(),we(lt),we(Je),Jl(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return Yl(n),null;case 13:if(we(Se),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));gr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return we(Se),null;case 4:return wr(),null;case 10:return $l(n.type._context),null;case 22:case 23:return Pa(),null;case 24:return null;default:return null}}var Qs=!1,tt=!1,r_=typeof WeakSet=="function"?WeakSet:Set,b=null;function Cr(e,n){var s=e.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(l){Te(e,n,l)}else s.current=null}function ya(e,n,s){try{s()}catch(l){Te(e,n,l)}}var Df=!1;function i_(e,n){if(Pl=hs,e=ad(),Cl(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else e:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var u=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{s.nodeType,d.nodeType}catch{s=null;break e}var h=0,g=-1,y=-1,N=0,R=0,P=e,x=null;t:for(;;){for(var z;P!==s||u!==0&&P.nodeType!==3||(g=h+u),P!==d||l!==0&&P.nodeType!==3||(y=h+l),P.nodeType===3&&(h+=P.nodeValue.length),(z=P.firstChild)!==null;)x=P,P=z;for(;;){if(P===e)break t;if(x===s&&++N===u&&(g=h),x===d&&++R===l&&(y=h),(z=P.nextSibling)!==null)break;P=x,x=P.parentNode}P=z}s=g===-1||y===-1?null:{start:g,end:y}}else s=null}s=s||{start:0,end:0}}else s=null;for(Dl={focusedElem:e,selectionRange:s},hs=!1,b=n;b!==null;)if(n=b,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,b=e;else for(;b!==null;){n=b;try{var U=n.alternate;if(n.flags&1024)switch(n.tag){case 0:case 11:case 15:break;case 1:if(U!==null){var B=U.memoizedProps,Ae=U.memoizedState,C=n.stateNode,v=C.getSnapshotBeforeUpdate(n.elementType===n.type?B:Mt(n.type,B),Ae);C.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var k=n.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(D){Te(n,n.return,D)}if(e=n.sibling,e!==null){e.return=n.return,b=e;break}b=n.return}return U=Df,Df=!1,U}function Ei(e,n,s){var l=n.updateQueue;if(l=l!==null?l.lastEffect:null,l!==null){var u=l=l.next;do{if((u.tag&e)===e){var d=u.destroy;u.destroy=void 0,d!==void 0&&ya(n,s,d)}u=u.next}while(u!==l)}}function Gs(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var l=s.create;s.destroy=l()}s=s.next}while(s!==n)}}function va(e){var n=e.ref;if(n!==null){var s=e.stateNode;switch(e.tag){case 5:e=s;break;default:e=s}typeof n=="function"?n(e):n.current=e}}function Af(e){var n=e.alternate;n!==null&&(e.alternate=null,Af(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&(delete n[Wt],delete n[ci],delete n[Ll],delete n[Ug],delete n[Bg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Of(e){return e.tag===5||e.tag===3||e.tag===4}function Mf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Of(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function wa(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.nodeType===8?s.parentNode.insertBefore(e,n):s.insertBefore(e,n):(s.nodeType===8?(n=s.parentNode,n.insertBefore(e,s)):(n=s,n.appendChild(e)),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Is));else if(l!==4&&(e=e.child,e!==null))for(wa(e,n,s),e=e.sibling;e!==null;)wa(e,n,s),e=e.sibling}function Ea(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(e=e.child,e!==null))for(Ea(e,n,s),e=e.sibling;e!==null;)Ea(e,n,s),e=e.sibling}var Qe=null,Lt=!1;function vn(e,n,s){for(s=s.child;s!==null;)Lf(e,n,s),s=s.sibling}function Lf(e,n,s){if(Bt&&typeof Bt.onCommitFiberUnmount=="function")try{Bt.onCommitFiberUnmount(ls,s)}catch{}switch(s.tag){case 5:tt||Cr(s,n);case 6:var l=Qe,u=Lt;Qe=null,vn(e,n,s),Qe=l,Lt=u,Qe!==null&&(Lt?(e=Qe,s=s.stateNode,e.nodeType===8?e.parentNode.removeChild(s):e.removeChild(s)):Qe.removeChild(s.stateNode));break;case 18:Qe!==null&&(Lt?(e=Qe,s=s.stateNode,e.nodeType===8?Ml(e.parentNode,s):e.nodeType===1&&Ml(e,s),Zr(e)):Ml(Qe,s.stateNode));break;case 4:l=Qe,u=Lt,Qe=s.stateNode.containerInfo,Lt=!0,vn(e,n,s),Qe=l,Lt=u;break;case 0:case 11:case 14:case 15:if(!tt&&(l=s.updateQueue,l!==null&&(l=l.lastEffect,l!==null))){u=l=l.next;do{var d=u,h=d.destroy;d=d.tag,h!==void 0&&(d&2||d&4)&&ya(s,n,h),u=u.next}while(u!==l)}vn(e,n,s);break;case 1:if(!tt&&(Cr(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"))try{l.props=s.memoizedProps,l.state=s.memoizedState,l.componentWillUnmount()}catch(g){Te(s,n,g)}vn(e,n,s);break;case 21:vn(e,n,s);break;case 22:s.mode&1?(tt=(l=tt)||s.memoizedState!==null,vn(e,n,s),tt=l):vn(e,n,s);break;default:vn(e,n,s)}}function Ff(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var s=e.stateNode;s===null&&(s=e.stateNode=new r_),n.forEach(function(l){var u=h_.bind(null,e,l);s.has(l)||(s.add(l),l.then(u,u))})}}function Ft(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];try{var d=e,h=n,g=h;e:for(;g!==null;){switch(g.tag){case 5:Qe=g.stateNode,Lt=!1;break e;case 3:Qe=g.stateNode.containerInfo,Lt=!0;break e;case 4:Qe=g.stateNode.containerInfo,Lt=!0;break e}g=g.return}if(Qe===null)throw Error(r(160));Lf(d,h,u),Qe=null,Lt=!1;var y=u.alternate;y!==null&&(y.return=null),u.return=null}catch(N){Te(u,n,N)}}if(n.subtreeFlags&12854)for(n=n.child;n!==null;)zf(n,e),n=n.sibling}function zf(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ft(n,e),$t(e),l&4){try{Ei(3,e,e.return),Gs(3,e)}catch(B){Te(e,e.return,B)}try{Ei(5,e,e.return)}catch(B){Te(e,e.return,B)}}break;case 1:Ft(n,e),$t(e),l&512&&s!==null&&Cr(s,s.return);break;case 5:if(Ft(n,e),$t(e),l&512&&s!==null&&Cr(s,s.return),e.flags&32){var u=e.stateNode;try{Wr(u,"")}catch(B){Te(e,e.return,B)}}if(l&4&&(u=e.stateNode,u!=null)){var d=e.memoizedProps,h=s!==null?s.memoizedProps:d,g=e.type,y=e.updateQueue;if(e.updateQueue=null,y!==null)try{g==="input"&&d.type==="radio"&&d.name!=null&&cc(u,d),Jo(g,h);var N=Jo(g,d);for(h=0;h<y.length;h+=2){var R=y[h],P=y[h+1];R==="style"?yc(u,P):R==="dangerouslySetInnerHTML"?gc(u,P):R==="children"?Wr(u,P):Xe(u,R,P,N)}switch(g){case"input":Qo(u,d);break;case"textarea":hc(u,d);break;case"select":var x=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!d.multiple;var z=d.value;z!=null?tr(u,!!d.multiple,z,!1):x!==!!d.multiple&&(d.defaultValue!=null?tr(u,!!d.multiple,d.defaultValue,!0):tr(u,!!d.multiple,d.multiple?[]:"",!1))}u[ci]=d}catch(B){Te(e,e.return,B)}}break;case 6:if(Ft(n,e),$t(e),l&4){if(e.stateNode===null)throw Error(r(162));u=e.stateNode,d=e.memoizedProps;try{u.nodeValue=d}catch(B){Te(e,e.return,B)}}break;case 3:if(Ft(n,e),$t(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{Zr(n.containerInfo)}catch(B){Te(e,e.return,B)}break;case 4:Ft(n,e),$t(e);break;case 13:Ft(n,e),$t(e),u=e.child,u.flags&8192&&(d=u.memoizedState!==null,u.stateNode.isHidden=d,!d||u.alternate!==null&&u.alternate.memoizedState!==null||(ka=De())),l&4&&Ff(e);break;case 22:if(R=s!==null&&s.memoizedState!==null,e.mode&1?(tt=(N=tt)||R,Ft(n,e),tt=N):Ft(n,e),$t(e),l&8192){if(N=e.memoizedState!==null,(e.stateNode.isHidden=N)&&!R&&e.mode&1)for(b=e,R=e.child;R!==null;){for(P=b=R;b!==null;){switch(x=b,z=x.child,x.tag){case 0:case 11:case 14:case 15:Ei(4,x,x.return);break;case 1:Cr(x,x.return);var U=x.stateNode;if(typeof U.componentWillUnmount=="function"){l=x,s=x.return;try{n=l,U.props=n.memoizedProps,U.state=n.memoizedState,U.componentWillUnmount()}catch(B){Te(l,s,B)}}break;case 5:Cr(x,x.return);break;case 22:if(x.memoizedState!==null){Uf(P);continue}}z!==null?(z.return=x,b=z):Uf(P)}R=R.sibling}e:for(R=null,P=e;;){if(P.tag===5){if(R===null){R=P;try{u=P.stateNode,N?(d=u.style,typeof d.setProperty=="function"?d.setProperty("display","none","important"):d.display="none"):(g=P.stateNode,y=P.memoizedProps.style,h=y!=null&&y.hasOwnProperty("display")?y.display:null,g.style.display=_c("display",h))}catch(B){Te(e,e.return,B)}}}else if(P.tag===6){if(R===null)try{P.stateNode.nodeValue=N?"":P.memoizedProps}catch(B){Te(e,e.return,B)}}else if((P.tag!==22&&P.tag!==23||P.memoizedState===null||P===e)&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===e)break e;for(;P.sibling===null;){if(P.return===null||P.return===e)break e;R===P&&(R=null),P=P.return}R===P&&(R=null),P.sibling.return=P.return,P=P.sibling}}break;case 19:Ft(n,e),$t(e),l&4&&Ff(e);break;case 21:break;default:Ft(n,e),$t(e)}}function $t(e){var n=e.flags;if(n&2){try{e:{for(var s=e.return;s!==null;){if(Of(s)){var l=s;break e}s=s.return}throw Error(r(160))}switch(l.tag){case 5:var u=l.stateNode;l.flags&32&&(Wr(u,""),l.flags&=-33);var d=Mf(e);Ea(e,d,u);break;case 3:case 4:var h=l.stateNode.containerInfo,g=Mf(e);wa(e,g,h);break;default:throw Error(r(161))}}catch(y){Te(e,e.return,y)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function s_(e,n,s){b=e,jf(e)}function jf(e,n,s){for(var l=(e.mode&1)!==0;b!==null;){var u=b,d=u.child;if(u.tag===22&&l){var h=u.memoizedState!==null||Qs;if(!h){var g=u.alternate,y=g!==null&&g.memoizedState!==null||tt;g=Qs;var N=tt;if(Qs=h,(tt=y)&&!N)for(b=u;b!==null;)h=b,y=h.child,h.tag===22&&h.memoizedState!==null?Bf(u):y!==null?(y.return=h,b=y):Bf(u);for(;d!==null;)b=d,jf(d),d=d.sibling;b=u,Qs=g,tt=N}bf(e)}else u.subtreeFlags&8772&&d!==null?(d.return=u,b=d):bf(e)}}function bf(e){for(;b!==null;){var n=b;if(n.flags&8772){var s=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:tt||Gs(5,n);break;case 1:var l=n.stateNode;if(n.flags&4&&!tt)if(s===null)l.componentDidMount();else{var u=n.elementType===n.type?s.memoizedProps:Mt(n.type,s.memoizedProps);l.componentDidUpdate(u,s.memoizedState,l.__reactInternalSnapshotBeforeUpdate)}var d=n.updateQueue;d!==null&&bd(n,d,l);break;case 3:var h=n.updateQueue;if(h!==null){if(s=null,n.child!==null)switch(n.child.tag){case 5:s=n.child.stateNode;break;case 1:s=n.child.stateNode}bd(n,h,s)}break;case 5:var g=n.stateNode;if(s===null&&n.flags&4){s=g;var y=n.memoizedProps;switch(n.type){case"button":case"input":case"select":case"textarea":y.autoFocus&&s.focus();break;case"img":y.src&&(s.src=y.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(n.memoizedState===null){var N=n.alternate;if(N!==null){var R=N.memoizedState;if(R!==null){var P=R.dehydrated;P!==null&&Zr(P)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}tt||n.flags&512&&va(n)}catch(x){Te(n,n.return,x)}}if(n===e){b=null;break}if(s=n.sibling,s!==null){s.return=n.return,b=s;break}b=n.return}}function Uf(e){for(;b!==null;){var n=b;if(n===e){b=null;break}var s=n.sibling;if(s!==null){s.return=n.return,b=s;break}b=n.return}}function Bf(e){for(;b!==null;){var n=b;try{switch(n.tag){case 0:case 11:case 15:var s=n.return;try{Gs(4,n)}catch(y){Te(n,s,y)}break;case 1:var l=n.stateNode;if(typeof l.componentDidMount=="function"){var u=n.return;try{l.componentDidMount()}catch(y){Te(n,u,y)}}var d=n.return;try{va(n)}catch(y){Te(n,d,y)}break;case 5:var h=n.return;try{va(n)}catch(y){Te(n,h,y)}}}catch(y){Te(n,n.return,y)}if(n===e){b=null;break}var g=n.sibling;if(g!==null){g.return=n.return,b=g;break}b=n.return}}var o_=Math.ceil,Ks=Ne.ReactCurrentDispatcher,Ca=Ne.ReactCurrentOwner,Tt=Ne.ReactCurrentBatchConfig,oe=0,be=null,Oe=null,Ge=0,vt=0,Sr=pn(0),Le=0,Ci=null,Bn=0,Ys=0,Sa=0,Si=null,ct=null,ka=0,kr=1/0,tn=null,Xs=!1,Ia=null,wn=null,Js=!1,En=null,Zs=0,ki=0,Na=null,eo=-1,to=0;function it(){return oe&6?De():eo!==-1?eo:eo=De()}function Cn(e){return e.mode&1?oe&2&&Ge!==0?Ge&-Ge:Hg.transition!==null?(to===0&&(to=Oc()),to):(e=fe,e!==0||(e=window.event,e=e===void 0?16:Wc(e.type)),e):1}function zt(e,n,s,l){if(50<ki)throw ki=0,Na=null,Error(r(185));Gr(e,s,l),(!(oe&2)||e!==be)&&(e===be&&(!(oe&2)&&(Ys|=s),Le===4&&Sn(e,Ge)),dt(e,l),s===1&&oe===0&&!(n.mode&1)&&(kr=De()+500,Rs&&gn()))}function dt(e,n){var s=e.callbackNode;Hm(e,n);var l=cs(e,e===be?Ge:0);if(l===0)s!==null&&Pc(s),e.callbackNode=null,e.callbackPriority=0;else if(n=l&-l,e.callbackPriority!==n){if(s!=null&&Pc(s),n===1)e.tag===0?Wg(Hf.bind(null,e)):Td(Hf.bind(null,e)),jg(function(){!(oe&6)&&gn()}),s=null;else{switch(Mc(l)){case 1:s=sl;break;case 4:s=Dc;break;case 16:s=os;break;case 536870912:s=Ac;break;default:s=os}s=Xf(s,Wf.bind(null,e))}e.callbackPriority=n,e.callbackNode=s}}function Wf(e,n){if(eo=-1,to=0,oe&6)throw Error(r(327));var s=e.callbackNode;if(Ir()&&e.callbackNode!==s)return null;var l=cs(e,e===be?Ge:0);if(l===0)return null;if(l&30||l&e.expiredLanes||n)n=no(e,l);else{n=l;var u=oe;oe|=2;var d=$f();(be!==e||Ge!==n)&&(tn=null,kr=De()+500,Hn(e,n));do try{u_();break}catch(g){Vf(e,g)}while(!0);Vl(),Ks.current=d,oe=u,Oe!==null?n=0:(be=null,Ge=0,n=Le)}if(n!==0){if(n===2&&(u=ol(e),u!==0&&(l=u,n=Ta(e,u))),n===1)throw s=Ci,Hn(e,0),Sn(e,l),dt(e,De()),s;if(n===6)Sn(e,l);else{if(u=e.current.alternate,!(l&30)&&!l_(u)&&(n=no(e,l),n===2&&(d=ol(e),d!==0&&(l=d,n=Ta(e,d))),n===1))throw s=Ci,Hn(e,0),Sn(e,l),dt(e,De()),s;switch(e.finishedWork=u,e.finishedLanes=l,n){case 0:case 1:throw Error(r(345));case 2:Vn(e,ct,tn);break;case 3:if(Sn(e,l),(l&130023424)===l&&(n=ka+500-De(),10<n)){if(cs(e,0)!==0)break;if(u=e.suspendedLanes,(u&l)!==l){it(),e.pingedLanes|=e.suspendedLanes&u;break}e.timeoutHandle=Ol(Vn.bind(null,e,ct,tn),n);break}Vn(e,ct,tn);break;case 4:if(Sn(e,l),(l&4194240)===l)break;for(n=e.eventTimes,u=-1;0<l;){var h=31-Dt(l);d=1<<h,h=n[h],h>u&&(u=h),l&=~d}if(l=u,l=De()-l,l=(120>l?120:480>l?480:1080>l?1080:1920>l?1920:3e3>l?3e3:4320>l?4320:1960*o_(l/1960))-l,10<l){e.timeoutHandle=Ol(Vn.bind(null,e,ct,tn),l);break}Vn(e,ct,tn);break;case 5:Vn(e,ct,tn);break;default:throw Error(r(329))}}}return dt(e,De()),e.callbackNode===s?Wf.bind(null,e):null}function Ta(e,n){var s=Si;return e.current.memoizedState.isDehydrated&&(Hn(e,n).flags|=256),e=no(e,n),e!==2&&(n=ct,ct=s,n!==null&&xa(n)),e}function xa(e){ct===null?ct=e:ct.push.apply(ct,e)}function l_(e){for(var n=e;;){if(n.flags&16384){var s=n.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var l=0;l<s.length;l++){var u=s[l],d=u.getSnapshot;u=u.value;try{if(!At(d(),u))return!1}catch{return!1}}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Sn(e,n){for(n&=~Sa,n&=~Ys,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var s=31-Dt(n),l=1<<s;e[s]=-1,n&=~l}}function Hf(e){if(oe&6)throw Error(r(327));Ir();var n=cs(e,0);if(!(n&1))return dt(e,De()),null;var s=no(e,n);if(e.tag!==0&&s===2){var l=ol(e);l!==0&&(n=l,s=Ta(e,l))}if(s===1)throw s=Ci,Hn(e,0),Sn(e,n),dt(e,De()),s;if(s===6)throw Error(r(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,Vn(e,ct,tn),dt(e,De()),null}function Ra(e,n){var s=oe;oe|=1;try{return e(n)}finally{oe=s,oe===0&&(kr=De()+500,Rs&&gn())}}function Wn(e){En!==null&&En.tag===0&&!(oe&6)&&Ir();var n=oe;oe|=1;var s=Tt.transition,l=fe;try{if(Tt.transition=null,fe=1,e)return e()}finally{fe=l,Tt.transition=s,oe=n,!(oe&6)&&gn()}}function Pa(){vt=Sr.current,we(Sr)}function Hn(e,n){e.finishedWork=null,e.finishedLanes=0;var s=e.timeoutHandle;if(s!==-1&&(e.timeoutHandle=-1,zg(s)),Oe!==null)for(s=Oe.return;s!==null;){var l=s;switch(bl(l),l.tag){case 1:l=l.type.childContextTypes,l!=null&&Ts();break;case 3:wr(),we(lt),we(Je),Jl();break;case 5:Yl(l);break;case 4:wr();break;case 13:we(Se);break;case 19:we(Se);break;case 10:$l(l.type._context);break;case 22:case 23:Pa()}s=s.return}if(be=e,Oe=e=kn(e.current,null),Ge=vt=n,Le=0,Ci=null,Sa=Ys=Bn=0,ct=Si=null,jn!==null){for(n=0;n<jn.length;n++)if(s=jn[n],l=s.interleaved,l!==null){s.interleaved=null;var u=l.next,d=s.pending;if(d!==null){var h=d.next;d.next=u,l.next=h}s.pending=l}jn=null}return e}function Vf(e,n){do{var s=Oe;try{if(Vl(),bs.current=Hs,Us){for(var l=ke.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Us=!1}if(Un=0,je=Me=ke=null,gi=!1,_i=0,Ca.current=null,s===null||s.return===null){Le=1,Ci=n,Oe=null;break}e:{var d=e,h=s.return,g=s,y=n;if(n=Ge,g.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){var N=y,R=g,P=R.tag;if(!(R.mode&1)&&(P===0||P===11||P===15)){var x=R.alternate;x?(R.updateQueue=x.updateQueue,R.memoizedState=x.memoizedState,R.lanes=x.lanes):(R.updateQueue=null,R.memoizedState=null)}var z=mf(h);if(z!==null){z.flags&=-257,gf(z,h,g,d,n),z.mode&1&&pf(d,N,n),n=z,y=N;var U=n.updateQueue;if(U===null){var B=new Set;B.add(y),n.updateQueue=B}else U.add(y);break e}else{if(!(n&1)){pf(d,N,n),Da();break e}y=Error(r(426))}}else if(Ce&&g.mode&1){var Ae=mf(h);if(Ae!==null){!(Ae.flags&65536)&&(Ae.flags|=256),gf(Ae,h,g,d,n),Wl(Er(y,g));break e}}d=y=Er(y,g),Le!==4&&(Le=2),Si===null?Si=[d]:Si.push(d),d=h;do{switch(d.tag){case 3:d.flags|=65536,n&=-n,d.lanes|=n;var C=ff(d,y,n);jd(d,C);break e;case 1:g=y;var v=d.type,k=d.stateNode;if(!(d.flags&128)&&(typeof v.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(wn===null||!wn.has(k)))){d.flags|=65536,n&=-n,d.lanes|=n;var D=hf(d,g,n);jd(d,D);break e}}d=d.return}while(d!==null)}Qf(s)}catch(W){n=W,Oe===s&&s!==null&&(Oe=s=s.return);continue}break}while(!0)}function $f(){var e=Ks.current;return Ks.current=Hs,e===null?Hs:e}function Da(){(Le===0||Le===3||Le===2)&&(Le=4),be===null||!(Bn&268435455)&&!(Ys&268435455)||Sn(be,Ge)}function no(e,n){var s=oe;oe|=2;var l=$f();(be!==e||Ge!==n)&&(tn=null,Hn(e,n));do try{a_();break}catch(u){Vf(e,u)}while(!0);if(Vl(),oe=s,Ks.current=l,Oe!==null)throw Error(r(261));return be=null,Ge=0,Le}function a_(){for(;Oe!==null;)qf(Oe)}function u_(){for(;Oe!==null&&!Mm();)qf(Oe)}function qf(e){var n=Yf(e.alternate,e,vt);e.memoizedProps=e.pendingProps,n===null?Qf(e):Oe=n,Ca.current=null}function Qf(e){var n=e;do{var s=n.alternate;if(e=n.return,n.flags&32768){if(s=n_(s,n),s!==null){s.flags&=32767,Oe=s;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,Oe=null;return}}else if(s=t_(s,n,vt),s!==null){Oe=s;return}if(n=n.sibling,n!==null){Oe=n;return}Oe=n=e}while(n!==null);Le===0&&(Le=5)}function Vn(e,n,s){var l=fe,u=Tt.transition;try{Tt.transition=null,fe=1,c_(e,n,s,l)}finally{Tt.transition=u,fe=l}return null}function c_(e,n,s,l){do Ir();while(En!==null);if(oe&6)throw Error(r(327));s=e.finishedWork;var u=e.finishedLanes;if(s===null)return null;if(e.finishedWork=null,e.finishedLanes=0,s===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0;var d=s.lanes|s.childLanes;if(Vm(e,d),e===be&&(Oe=be=null,Ge=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||Js||(Js=!0,Xf(os,function(){return Ir(),null})),d=(s.flags&15990)!==0,s.subtreeFlags&15990||d){d=Tt.transition,Tt.transition=null;var h=fe;fe=1;var g=oe;oe|=4,Ca.current=null,i_(e,s),zf(s,e),Pg(Dl),hs=!!Pl,Dl=Pl=null,e.current=s,s_(s),Lm(),oe=g,fe=h,Tt.transition=d}else e.current=s;if(Js&&(Js=!1,En=e,Zs=u),d=e.pendingLanes,d===0&&(wn=null),jm(s.stateNode),dt(e,De()),n!==null)for(l=e.onRecoverableError,s=0;s<n.length;s++)u=n[s],l(u.value,{componentStack:u.stack,digest:u.digest});if(Xs)throw Xs=!1,e=Ia,Ia=null,e;return Zs&1&&e.tag!==0&&Ir(),d=e.pendingLanes,d&1?e===Na?ki++:(ki=0,Na=e):ki=0,gn(),null}function Ir(){if(En!==null){var e=Mc(Zs),n=Tt.transition,s=fe;try{if(Tt.transition=null,fe=16>e?16:e,En===null)var l=!1;else{if(e=En,En=null,Zs=0,oe&6)throw Error(r(331));var u=oe;for(oe|=4,b=e.current;b!==null;){var d=b,h=d.child;if(b.flags&16){var g=d.deletions;if(g!==null){for(var y=0;y<g.length;y++){var N=g[y];for(b=N;b!==null;){var R=b;switch(R.tag){case 0:case 11:case 15:Ei(8,R,d)}var P=R.child;if(P!==null)P.return=R,b=P;else for(;b!==null;){R=b;var x=R.sibling,z=R.return;if(Af(R),R===N){b=null;break}if(x!==null){x.return=z,b=x;break}b=z}}}var U=d.alternate;if(U!==null){var B=U.child;if(B!==null){U.child=null;do{var Ae=B.sibling;B.sibling=null,B=Ae}while(B!==null)}}b=d}}if(d.subtreeFlags&2064&&h!==null)h.return=d,b=h;else e:for(;b!==null;){if(d=b,d.flags&2048)switch(d.tag){case 0:case 11:case 15:Ei(9,d,d.return)}var C=d.sibling;if(C!==null){C.return=d.return,b=C;break e}b=d.return}}var v=e.current;for(b=v;b!==null;){h=b;var k=h.child;if(h.subtreeFlags&2064&&k!==null)k.return=h,b=k;else e:for(h=v;b!==null;){if(g=b,g.flags&2048)try{switch(g.tag){case 0:case 11:case 15:Gs(9,g)}}catch(W){Te(g,g.return,W)}if(g===h){b=null;break e}var D=g.sibling;if(D!==null){D.return=g.return,b=D;break e}b=g.return}}if(oe=u,gn(),Bt&&typeof Bt.onPostCommitFiberRoot=="function")try{Bt.onPostCommitFiberRoot(ls,e)}catch{}l=!0}return l}finally{fe=s,Tt.transition=n}}return!1}function Gf(e,n,s){n=Er(s,n),n=ff(e,n,1),e=yn(e,n,1),n=it(),e!==null&&(Gr(e,1,n),dt(e,n))}function Te(e,n,s){if(e.tag===3)Gf(e,e,s);else for(;n!==null;){if(n.tag===3){Gf(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(wn===null||!wn.has(l))){e=Er(s,e),e=hf(n,e,1),n=yn(n,e,1),e=it(),n!==null&&(Gr(n,1,e),dt(n,e));break}}n=n.return}}function d_(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),n=it(),e.pingedLanes|=e.suspendedLanes&s,be===e&&(Ge&s)===s&&(Le===4||Le===3&&(Ge&130023424)===Ge&&500>De()-ka?Hn(e,0):Sa|=s),dt(e,n)}function Kf(e,n){n===0&&(e.mode&1?(n=us,us<<=1,!(us&130023424)&&(us=4194304)):n=1);var s=it();e=Jt(e,n),e!==null&&(Gr(e,n,s),dt(e,s))}function f_(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Kf(e,s)}function h_(e,n){var s=0;switch(e.tag){case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(s=u.retryLane);break;case 19:l=e.stateNode;break;default:throw Error(r(314))}l!==null&&l.delete(n),Kf(e,s)}var Yf;Yf=function(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps||lt.current)ut=!0;else{if(!(e.lanes&s)&&!(n.flags&128))return ut=!1,e_(e,n,s);ut=!!(e.flags&131072)}else ut=!1,Ce&&n.flags&1048576&&xd(n,Ds,n.index);switch(n.lanes=0,n.tag){case 2:var l=n.type;qs(e,n),e=n.pendingProps;var u=hr(n,Je.current);vr(n,s),u=ta(null,n,l,e,u,s);var d=na();return n.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,at(l)?(d=!0,xs(n)):d=!1,n.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,Gl(n),u.updater=Vs,n.stateNode=u,u._reactInternals=n,aa(n,l,e,s),n=fa(null,n,l,!0,d,s)):(n.tag=0,Ce&&d&&jl(n),rt(null,n,u,s),n=n.child),n;case 16:l=n.elementType;e:{switch(qs(e,n),e=n.pendingProps,u=l._init,l=u(l._payload),n.type=l,u=n.tag=m_(l),e=Mt(l,e),u){case 0:n=da(null,n,l,e,s);break e;case 1:n=Cf(null,n,l,e,s);break e;case 11:n=_f(null,n,l,e,s);break e;case 14:n=yf(null,n,l,Mt(l.type,e),s);break e}throw Error(r(306,l,""))}return n;case 0:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),da(e,n,l,u,s);case 1:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),Cf(e,n,l,u,s);case 3:e:{if(Sf(n),e===null)throw Error(r(387));l=n.pendingProps,d=n.memoizedState,u=d.element,zd(e,n),zs(n,l,null,s);var h=n.memoizedState;if(l=h.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){u=Er(Error(r(423)),n),n=kf(e,n,l,s,u);break e}else if(l!==u){u=Er(Error(r(424)),n),n=kf(e,n,l,s,u);break e}else for(yt=hn(n.stateNode.containerInfo.firstChild),_t=n,Ce=!0,Ot=null,s=Ld(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(gr(),l===u){n=en(e,n,s);break e}rt(e,n,l,s)}n=n.child}return n;case 5:return Ud(n),e===null&&Bl(n),l=n.type,u=n.pendingProps,d=e!==null?e.memoizedProps:null,h=u.children,Al(l,u)?h=null:d!==null&&Al(l,d)&&(n.flags|=32),Ef(e,n),rt(e,n,h,s),n.child;case 6:return e===null&&Bl(n),null;case 13:return If(e,n,s);case 4:return Kl(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=_r(n,null,l,s):rt(e,n,l,s),n.child;case 11:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),_f(e,n,l,u,s);case 7:return rt(e,n,n.pendingProps,s),n.child;case 8:return rt(e,n,n.pendingProps.children,s),n.child;case 12:return rt(e,n,n.pendingProps.children,s),n.child;case 10:e:{if(l=n.type._context,u=n.pendingProps,d=n.memoizedProps,h=u.value,me(Ms,l._currentValue),l._currentValue=h,d!==null)if(At(d.value,h)){if(d.children===u.children&&!lt.current){n=en(e,n,s);break e}}else for(d=n.child,d!==null&&(d.return=n);d!==null;){var g=d.dependencies;if(g!==null){h=d.child;for(var y=g.firstContext;y!==null;){if(y.context===l){if(d.tag===1){y=Zt(-1,s&-s),y.tag=2;var N=d.updateQueue;if(N!==null){N=N.shared;var R=N.pending;R===null?y.next=y:(y.next=R.next,R.next=y),N.pending=y}}d.lanes|=s,y=d.alternate,y!==null&&(y.lanes|=s),ql(d.return,s,n),g.lanes|=s;break}y=y.next}}else if(d.tag===10)h=d.type===n.type?null:d.child;else if(d.tag===18){if(h=d.return,h===null)throw Error(r(341));h.lanes|=s,g=h.alternate,g!==null&&(g.lanes|=s),ql(h,s,n),h=d.sibling}else h=d.child;if(h!==null)h.return=d;else for(h=d;h!==null;){if(h===n){h=null;break}if(d=h.sibling,d!==null){d.return=h.return,h=d;break}h=h.return}d=h}rt(e,n,u.children,s),n=n.child}return n;case 9:return u=n.type,l=n.pendingProps.children,vr(n,s),u=It(u),l=l(u),n.flags|=1,rt(e,n,l,s),n.child;case 14:return l=n.type,u=Mt(l,n.pendingProps),u=Mt(l.type,u),yf(e,n,l,u,s);case 15:return vf(e,n,n.type,n.pendingProps,s);case 17:return l=n.type,u=n.pendingProps,u=n.elementType===l?u:Mt(l,u),qs(e,n),n.tag=1,at(l)?(e=!0,xs(n)):e=!1,vr(n,s),cf(n,l,u),aa(n,l,u,s),fa(null,n,l,!0,e,s);case 19:return Tf(e,n,s);case 22:return wf(e,n,s)}throw Error(r(156,n.tag))};function Xf(e,n){return Rc(e,n)}function p_(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xt(e,n,s,l){return new p_(e,n,s,l)}function Aa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function m_(e){if(typeof e=="function")return Aa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ct)return 11;if(e===K)return 14}return 2}function kn(e,n){var s=e.alternate;return s===null?(s=xt(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&14680064,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s}function ro(e,n,s,l,u,d){var h=2;if(l=e,typeof e=="function")Aa(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case qe:return $n(s.children,u,d,n);case ot:h=8,u|=8;break;case wt:return e=xt(12,s,n,u|2),e.elementType=wt,e.lanes=d,e;case ze:return e=xt(13,s,n,u),e.elementType=ze,e.lanes=d,e;case j:return e=xt(19,s,n,u),e.elementType=j,e.lanes=d,e;case Y:return io(s,u,d,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Pt:h=10;break e;case Et:h=9;break e;case Ct:h=11;break e;case K:h=14;break e;case Z:h=16,l=null;break e}throw Error(r(130,e==null?e:typeof e,""))}return n=xt(h,s,n,u),n.elementType=e,n.type=l,n.lanes=d,n}function $n(e,n,s,l){return e=xt(7,e,l,n),e.lanes=s,e}function io(e,n,s,l){return e=xt(22,e,l,n),e.elementType=Y,e.lanes=s,e.stateNode={isHidden:!1},e}function Oa(e,n,s){return e=xt(6,e,null,n),e.lanes=s,e}function Ma(e,n,s){return n=xt(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function g_(e,n,s,l,u){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ll(0),this.expirationTimes=ll(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ll(0),this.identifierPrefix=l,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function La(e,n,s,l,u,d,h,g,y){return e=new g_(e,n,s,g,y),n===1?(n=1,d===!0&&(n|=8)):n=0,d=xt(3,null,null,n),e.current=d,d.stateNode=e,d.memoizedState={element:l,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},Gl(d),e}function __(e,n,s){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:$e,key:l==null?null:""+l,children:e,containerInfo:n,implementation:s}}function Jf(e){if(!e)return mn;e=e._reactInternals;e:{if(On(e)!==e||e.tag!==1)throw Error(r(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(at(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(r(171))}if(e.tag===1){var s=e.type;if(at(s))return Id(e,s,n)}return n}function Zf(e,n,s,l,u,d,h,g,y){return e=La(s,l,!0,e,u,d,h,g,y),e.context=Jf(null),s=e.current,l=it(),u=Cn(s),d=Zt(l,u),d.callback=n??null,yn(s,d,u),e.current.lanes=u,Gr(e,u,l),dt(e,l),e}function so(e,n,s,l){var u=n.current,d=it(),h=Cn(u);return s=Jf(s),n.context===null?n.context=s:n.pendingContext=s,n=Zt(d,h),n.payload={element:e},l=l===void 0?null:l,l!==null&&(n.callback=l),e=yn(u,n,h),e!==null&&(zt(e,u,h,d),Fs(e,u,h)),h}function oo(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function eh(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Fa(e,n){eh(e,n),(e=e.alternate)&&eh(e,n)}var th=typeof reportError=="function"?reportError:function(e){console.error(e)};function za(e){this._internalRoot=e}lo.prototype.render=za.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));so(e,n,null,null)},lo.prototype.unmount=za.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Wn(function(){so(null,e,null,null)}),n[Gt]=null}};function lo(e){this._internalRoot=e}lo.prototype.unstable_scheduleHydration=function(e){if(e){var n=zc();e={blockedOn:null,target:e,priority:n};for(var s=0;s<cn.length&&n!==0&&n<cn[s].priority;s++);cn.splice(s,0,e),s===0&&Uc(e)}};function ja(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ao(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function nh(){}function y_(e,n,s,l,u){if(u){if(typeof l=="function"){var d=l;l=function(){var N=oo(h);d.call(N)}}var h=Zf(n,l,e,0,null,!1,!1,"",nh);return e._reactRootContainer=h,e[Gt]=h.current,ai(e.nodeType===8?e.parentNode:e),Wn(),h}for(;u=e.lastChild;)e.removeChild(u);if(typeof l=="function"){var g=l;l=function(){var N=oo(y);g.call(N)}}var y=La(e,0,!1,null,null,!1,!1,"",nh);return e._reactRootContainer=y,e[Gt]=y.current,ai(e.nodeType===8?e.parentNode:e),Wn(function(){so(n,y,s,l)}),y}function uo(e,n,s,l,u){var d=s._reactRootContainer;if(d){var h=d;if(typeof u=="function"){var g=u;u=function(){var y=oo(h);g.call(y)}}so(n,h,e,u)}else h=y_(s,n,e,u,l);return oo(h)}Lc=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var s=Qr(n.pendingLanes);s!==0&&(al(n,s|1),dt(n,De()),!(oe&6)&&(kr=De()+500,gn()))}break;case 13:Wn(function(){var l=Jt(e,1);if(l!==null){var u=it();zt(l,e,1,u)}}),Fa(e,1)}},ul=function(e){if(e.tag===13){var n=Jt(e,134217728);if(n!==null){var s=it();zt(n,e,134217728,s)}Fa(e,134217728)}},Fc=function(e){if(e.tag===13){var n=Cn(e),s=Jt(e,n);if(s!==null){var l=it();zt(s,e,n,l)}Fa(e,n)}},zc=function(){return fe},jc=function(e,n){var s=fe;try{return fe=e,n()}finally{fe=s}},tl=function(e,n,s){switch(n){case"input":if(Qo(e,s),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var u=Ns(l);if(!u)throw Error(r(90));ac(l),Qo(l,u)}}}break;case"textarea":hc(e,s);break;case"select":n=s.value,n!=null&&tr(e,!!s.multiple,n,!1)}},Cc=Ra,Sc=Wn;var v_={usingClientEntryPoint:!1,Events:[di,dr,Ns,wc,Ec,Ra]},Ii={findFiberByHostInstance:Mn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w_={bundleType:Ii.bundleType,version:Ii.version,rendererPackageName:Ii.rendererPackageName,rendererConfig:Ii.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Tc(e),e===null?null:e.stateNode},findFiberByHostInstance:Ii.findFiberByHostInstance,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var co=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!co.isDisabled&&co.supportsFiber)try{ls=co.inject(w_),Bt=co}catch{}}return ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v_,ft.createPortal=function(e,n){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ja(n))throw Error(r(200));return __(e,n,null,s)},ft.createRoot=function(e,n){if(!ja(e))throw Error(r(299));var s=!1,l="",u=th;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),n=La(e,1,!1,null,null,s,!1,l,u),e[Gt]=n.current,ai(e.nodeType===8?e.parentNode:e),new za(n)},ft.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=Tc(n),e=e===null?null:e.stateNode,e},ft.flushSync=function(e){return Wn(e)},ft.hydrate=function(e,n,s){if(!ao(n))throw Error(r(200));return uo(null,e,n,!0,s)},ft.hydrateRoot=function(e,n,s){if(!ja(e))throw Error(r(405));var l=s!=null&&s.hydratedSources||null,u=!1,d="",h=th;if(s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(d=s.identifierPrefix),s.onRecoverableError!==void 0&&(h=s.onRecoverableError)),n=Zf(n,null,e,1,s??null,u,!1,d,h),e[Gt]=n.current,ai(e),l)for(e=0;e<l.length;e++)s=l[e],u=s._getVersion,u=u(s._source),n.mutableSourceEagerHydrationData==null?n.mutableSourceEagerHydrationData=[s,u]:n.mutableSourceEagerHydrationData.push(s,u);return new lo(n)},ft.render=function(e,n,s){if(!ao(n))throw Error(r(200));return uo(null,e,n,!1,s)},ft.unmountComponentAtNode=function(e){if(!ao(e))throw Error(r(40));return e._reactRootContainer?(Wn(function(){uo(null,null,e,!1,function(){e._reactRootContainer=null,e[Gt]=null})}),!0):!1},ft.unstable_batchedUpdates=Ra,ft.unstable_renderSubtreeIntoContainer=function(e,n,s,l){if(!ao(s))throw Error(r(200));if(e==null||e._reactInternals===void 0)throw Error(r(38));return uo(e,n,s,!1,l)},ft.version="18.3.1-next-f1338f8080-20240426",ft}var ch;function x_(){if(ch)return Ba.exports;ch=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),Ba.exports=T_(),Ba.exports}var dh;function R_(){if(dh)return fo;dh=1;var i=x_();return fo.createRoot=i.createRoot,fo.hydrateRoot=i.hydrateRoot,fo}var P_=R_();/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),rp=(...i)=>i.filter((t,r,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===r).join(" ").trim();/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var A_={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=xe.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:o,className:a="",children:c,iconNode:f,...p},m)=>xe.createElement("svg",{ref:m,...A_,width:t,height:t,stroke:i,strokeWidth:o?Number(r)*24/Number(t):r,className:rp("lucide",a),...p},[...f.map(([_,S])=>xe.createElement(_,S)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ip=(i,t)=>{const r=xe.forwardRef(({className:o,...a},c)=>xe.createElement(O_,{ref:c,iconNode:t,className:rp(`lucide-${D_(i)}`,o),...a}));return r.displayName=`${i}`,r};/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],L_=ip("DollarSign",M_);/**
 * @license lucide-react v0.471.1 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=[["path",{d:"m18 14 4 4-4 4",key:"10pe0f"}],["path",{d:"m18 2 4 4-4 4",key:"pucp1d"}],["path",{d:"M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22",key:"1ailkh"}],["path",{d:"M2 6h1.972a4 4 0 0 1 3.6 2.2",key:"km57vx"}],["path",{d:"M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45",key:"os18l9"}]],z_=ip("Shuffle",F_);var fh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sp={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A=function(i,t){if(!i)throw zr(t)},zr=function(i){return new Error("Firebase Database ("+sp.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const op=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):(a&64512)===55296&&o+1<i.length&&(i.charCodeAt(o+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++o)&1023),t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},j_=function(i){const t=[];let r=0,o=0;for(;r<i.length;){const a=i[r++];if(a<128)t[o++]=String.fromCharCode(a);else if(a>191&&a<224){const c=i[r++];t[o++]=String.fromCharCode((a&31)<<6|c&63)}else if(a>239&&a<365){const c=i[r++],f=i[r++],p=i[r++],m=((a&7)<<18|(c&63)<<12|(f&63)<<6|p&63)-65536;t[o++]=String.fromCharCode(55296+(m>>10)),t[o++]=String.fromCharCode(56320+(m&1023))}else{const c=i[r++],f=i[r++];t[o++]=String.fromCharCode((a&15)<<12|(c&63)<<6|f&63)}}return t.join("")},Iu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let a=0;a<i.length;a+=3){const c=i[a],f=a+1<i.length,p=f?i[a+1]:0,m=a+2<i.length,_=m?i[a+2]:0,S=c>>2,E=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,O=_&63;m||(O=64,f||(I=64)),o.push(r[S],r[E],r[I],r[O])}return o.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(op(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):j_(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let a=0;a<i.length;){const c=r[i.charAt(a++)],p=a<i.length?r[i.charAt(a)]:0;++a;const _=a<i.length?r[i.charAt(a)]:64;++a;const E=a<i.length?r[i.charAt(a)]:64;if(++a,c==null||p==null||_==null||E==null)throw new b_;const I=c<<2|p>>4;if(o.push(I),_!==64){const O=p<<4&240|_>>2;if(o.push(O),E!==64){const F=_<<6&192|E;o.push(F)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class b_ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lp=function(i){const t=op(i);return Iu.encodeByteArray(t,!0)},go=function(i){return lp(i).replace(/\./g,"")},nu=function(i){try{return Iu.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U_(i){return ap(void 0,i)}function ap(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const r=t;return new Date(r.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const r in t)!t.hasOwnProperty(r)||!B_(r)||(i[r]=ap(i[r],t[r]));return i}function B_(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W_(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H_=()=>W_().__FIREBASE_DEFAULTS__,V_=()=>{if(typeof process>"u"||typeof fh>"u")return;const i=fh.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},$_=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&nu(i[1]);return t&&JSON.parse(t)},up=()=>{try{return H_()||V_()||$_()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},q_=i=>{var t,r;return(r=(t=up())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[i]},Q_=i=>{const t=q_(i);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),o]:[t.substring(0,r),o]},cp=()=>{var i;return(i=up())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,o)=>{r?this.reject(r):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,o))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},o=t||"demo-project",a=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const f=Object.assign({iss:`https://securetoken.google.com/${o}`,aud:o,iat:a,exp:a+3600,auth_time:a,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[go(JSON.stringify(r)),go(JSON.stringify(f)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(K_())}function Y_(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function X_(){return sp.NODE_ADMIN===!0}function J_(){try{return typeof indexedDB=="object"}catch{return!1}}function Z_(){return new Promise((i,t)=>{try{let r=!0;const o="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(o);a.onsuccess=()=>{a.result.close(),r||self.indexedDB.deleteDatabase(o),i(!0)},a.onupgradeneeded=()=>{r=!1},a.onerror=()=>{var c;t(((c=a.error)===null||c===void 0?void 0:c.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey="FirebaseError";class Ki extends Error{constructor(t,r,o){super(r),this.code=t,this.customData=o,this.name=ey,Object.setPrototypeOf(this,Ki.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fp.prototype.create)}}class fp{constructor(t,r,o){this.service=t,this.serviceName=r,this.errors=o}create(t,...r){const o=r[0]||{},a=`${this.service}/${t}`,c=this.errors[t],f=c?ty(c,o):"Error",p=`${this.serviceName}: ${f} (${a}).`;return new Ki(a,p,o)}}function ty(i,t){return i.replace(ny,(r,o)=>{const a=t[o];return a!=null?String(a):`<${o}?>`})}const ny=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i){return JSON.parse(i)}function Ve(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hp=function(i){let t={},r={},o={},a="";try{const c=i.split(".");t=bi(nu(c[0])||""),r=bi(nu(c[1])||""),a=c[2],o=r.d||{},delete r.d}catch{}return{header:t,claims:r,data:o,signature:a}},ry=function(i){const t=hp(i),r=t.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},iy=function(i){const t=hp(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function Dr(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function hh(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function _o(i,t,r){const o={};for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&(o[a]=t.call(r,i[a],a,i));return o}function ru(i,t){if(i===t)return!0;const r=Object.keys(i),o=Object.keys(t);for(const a of r){if(!o.includes(a))return!1;const c=i[a],f=t[a];if(ph(c)&&ph(f)){if(!ru(c,f))return!1}else if(c!==f)return!1}for(const a of o)if(!r.includes(a))return!1;return!0}function ph(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sy(i){const t=[];for(const[r,o]of Object.entries(i))Array.isArray(o)?o.forEach(a=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oy{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,r){r||(r=0);const o=this.W_;if(typeof t=="string")for(let E=0;E<16;E++)o[E]=t.charCodeAt(r)<<24|t.charCodeAt(r+1)<<16|t.charCodeAt(r+2)<<8|t.charCodeAt(r+3),r+=4;else for(let E=0;E<16;E++)o[E]=t[r]<<24|t[r+1]<<16|t[r+2]<<8|t[r+3],r+=4;for(let E=16;E<80;E++){const I=o[E-3]^o[E-8]^o[E-14]^o[E-16];o[E]=(I<<1|I>>>31)&4294967295}let a=this.chain_[0],c=this.chain_[1],f=this.chain_[2],p=this.chain_[3],m=this.chain_[4],_,S;for(let E=0;E<80;E++){E<40?E<20?(_=p^c&(f^p),S=1518500249):(_=c^f^p,S=1859775393):E<60?(_=c&f|p&(c|f),S=2400959708):(_=c^f^p,S=3395469782);const I=(a<<5|a>>>27)+_+m+S+o[E]&4294967295;m=p,p=f,f=(c<<30|c>>>2)&4294967295,c=a,a=I}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+f&4294967295,this.chain_[3]=this.chain_[3]+p&4294967295,this.chain_[4]=this.chain_[4]+m&4294967295}update(t,r){if(t==null)return;r===void 0&&(r=t.length);const o=r-this.blockSize;let a=0;const c=this.buf_;let f=this.inbuf_;for(;a<r;){if(f===0)for(;a<=o;)this.compress_(t,a),a+=this.blockSize;if(typeof t=="string"){for(;a<r;)if(c[f]=t.charCodeAt(a),++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}else for(;a<r;)if(c[f]=t[a],++f,++a,f===this.blockSize){this.compress_(c),f=0;break}}this.inbuf_=f,this.total_+=r}digest(){const t=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let a=this.blockSize-1;a>=56;a--)this.buf_[a]=r&255,r/=256;this.compress_(this.buf_);let o=0;for(let a=0;a<5;a++)for(let c=24;c>=0;c-=8)t[o]=this.chain_[a]>>c&255,++o;return t}}function Oo(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ly=function(i){const t=[];let r=0;for(let o=0;o<i.length;o++){let a=i.charCodeAt(o);if(a>=55296&&a<=56319){const c=a-55296;o++,A(o<i.length,"Surrogate pair missing trail surrogate.");const f=i.charCodeAt(o)-56320;a=65536+(c<<10)+f}a<128?t[r++]=a:a<2048?(t[r++]=a>>6|192,t[r++]=a&63|128):a<65536?(t[r++]=a>>12|224,t[r++]=a>>6&63|128,t[r++]=a&63|128):(t[r++]=a>>18|240,t[r++]=a>>12&63|128,t[r++]=a>>6&63|128,t[r++]=a&63|128)}return t},Mo=function(i){let t=0;for(let r=0;r<i.length;r++){const o=i.charCodeAt(r);o<128?t++:o<2048?t+=2:o>=55296&&o<=56319?(t+=4,r++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yi(i){return i&&i._delegate?i._delegate:i}class Ui{constructor(t,r,o){this.name=t,this.instanceFactory=r,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qn="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const o=new Gi;if(this.instancesDeferred.set(r,o),this.isInitialized(r)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:r});a&&o.resolve(a)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),a=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(c){if(a)return null;throw c}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(cy(t))try{this.getOrInitializeService({instanceIdentifier:qn})}catch{}for(const[r,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(r);try{const c=this.getOrInitializeService({instanceIdentifier:a});o.resolve(c)}catch{}}}}clearInstance(t=qn){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qn){return this.instances.has(t)}getOptions(t=qn){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:o,options:r});for(const[c,f]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);o===p&&f.resolve(a)}return a}onInit(t,r){var o;const a=this.normalizeInstanceIdentifier(r),c=(o=this.onInitCallbacks.get(a))!==null&&o!==void 0?o:new Set;c.add(t),this.onInitCallbacks.set(a,c);const f=this.instances.get(a);return f&&t(f,a),()=>{c.delete(t)}}invokeOnInitCallbacks(t,r){const o=this.onInitCallbacks.get(r);if(o)for(const a of o)try{a(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:uy(t),options:r}),this.instances.set(t,o),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=qn){return this.component?this.component.multipleInstances?t:qn:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uy(i){return i===qn?void 0:i}function cy(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new ay(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _e;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(_e||(_e={}));const fy={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},hy=_e.INFO,py={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},my=(i,t,...r)=>{if(t<i.logLevel)return;const o=new Date().toISOString(),a=py[t];if(a)console[a](`[${o}]  ${i.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pp{constructor(t){this.name=t,this._logLevel=hy,this._logHandler=my,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in _e))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fy[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...t),this._logHandler(this,_e.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...t),this._logHandler(this,_e.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...t),this._logHandler(this,_e.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...t),this._logHandler(this,_e.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...t),this._logHandler(this,_e.ERROR,...t)}}const gy=(i,t)=>t.some(r=>i instanceof r);let mh,gh;function _y(){return mh||(mh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yy(){return gh||(gh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const mp=new WeakMap,iu=new WeakMap,gp=new WeakMap,Va=new WeakMap,Nu=new WeakMap;function vy(i){const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("success",c),i.removeEventListener("error",f)},c=()=>{r(Tn(i.result)),a()},f=()=>{o(i.error),a()};i.addEventListener("success",c),i.addEventListener("error",f)});return t.then(r=>{r instanceof IDBCursor&&mp.set(r,i)}).catch(()=>{}),Nu.set(t,i),t}function wy(i){if(iu.has(i))return;const t=new Promise((r,o)=>{const a=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",f),i.removeEventListener("abort",f)},c=()=>{r(),a()},f=()=>{o(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",c),i.addEventListener("error",f),i.addEventListener("abort",f)});iu.set(i,t)}let su={get(i,t,r){if(i instanceof IDBTransaction){if(t==="done")return iu.get(i);if(t==="objectStoreNames")return i.objectStoreNames||gp.get(i);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Tn(i[t])},set(i,t,r){return i[t]=r,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function Ey(i){su=i(su)}function Cy(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const o=i.call($a(this),t,...r);return gp.set(o,t.sort?t.sort():[t]),Tn(o)}:yy().includes(i)?function(...t){return i.apply($a(this),t),Tn(mp.get(this))}:function(...t){return Tn(i.apply($a(this),t))}}function Sy(i){return typeof i=="function"?Cy(i):(i instanceof IDBTransaction&&wy(i),gy(i,_y())?new Proxy(i,su):i)}function Tn(i){if(i instanceof IDBRequest)return vy(i);if(Va.has(i))return Va.get(i);const t=Sy(i);return t!==i&&(Va.set(i,t),Nu.set(t,i)),t}const $a=i=>Nu.get(i);function ky(i,t,{blocked:r,upgrade:o,blocking:a,terminated:c}={}){const f=indexedDB.open(i,t),p=Tn(f);return o&&f.addEventListener("upgradeneeded",m=>{o(Tn(f.result),m.oldVersion,m.newVersion,Tn(f.transaction),m)}),r&&f.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),p.then(m=>{c&&m.addEventListener("close",()=>c()),a&&m.addEventListener("versionchange",_=>a(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Iy=["get","getKey","getAll","getAllKeys","count"],Ny=["put","add","delete","clear"],qa=new Map;function _h(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(qa.get(t))return qa.get(t);const r=t.replace(/FromIndex$/,""),o=t!==r,a=Ny.includes(r);if(!(r in(o?IDBIndex:IDBObjectStore).prototype)||!(a||Iy.includes(r)))return;const c=async function(f,...p){const m=this.transaction(f,a?"readwrite":"readonly");let _=m.store;return o&&(_=_.index(p.shift())),(await Promise.all([_[r](...p),a&&m.done]))[0]};return qa.set(t,c),c}Ey(i=>({...i,get:(t,r,o)=>_h(t,r)||i.get(t,r,o),has:(t,r)=>!!_h(t,r)||i.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(xy(r)){const o=r.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(r=>r).join(" ")}}function xy(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ou="@firebase/app",yh="0.10.18";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sn=new pp("@firebase/app"),Ry="@firebase/app-compat",Py="@firebase/analytics-compat",Dy="@firebase/analytics",Ay="@firebase/app-check-compat",Oy="@firebase/app-check",My="@firebase/auth",Ly="@firebase/auth-compat",Fy="@firebase/database",zy="@firebase/data-connect",jy="@firebase/database-compat",by="@firebase/functions",Uy="@firebase/functions-compat",By="@firebase/installations",Wy="@firebase/installations-compat",Hy="@firebase/messaging",Vy="@firebase/messaging-compat",$y="@firebase/performance",qy="@firebase/performance-compat",Qy="@firebase/remote-config",Gy="@firebase/remote-config-compat",Ky="@firebase/storage",Yy="@firebase/storage-compat",Xy="@firebase/firestore",Jy="@firebase/vertexai",Zy="@firebase/firestore-compat",ev="firebase",tv="11.2.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lu="[DEFAULT]",nv={[ou]:"fire-core",[Ry]:"fire-core-compat",[Dy]:"fire-analytics",[Py]:"fire-analytics-compat",[Oy]:"fire-app-check",[Ay]:"fire-app-check-compat",[My]:"fire-auth",[Ly]:"fire-auth-compat",[Fy]:"fire-rtdb",[zy]:"fire-data-connect",[jy]:"fire-rtdb-compat",[by]:"fire-fn",[Uy]:"fire-fn-compat",[By]:"fire-iid",[Wy]:"fire-iid-compat",[Hy]:"fire-fcm",[Vy]:"fire-fcm-compat",[$y]:"fire-perf",[qy]:"fire-perf-compat",[Qy]:"fire-rc",[Gy]:"fire-rc-compat",[Ky]:"fire-gcs",[Yy]:"fire-gcs-compat",[Xy]:"fire-fst",[Zy]:"fire-fst-compat",[Jy]:"fire-vertex","fire-js":"fire-js",[ev]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yo=new Map,rv=new Map,au=new Map;function vh(i,t){try{i.container.addComponent(t)}catch(r){sn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,r)}}function vo(i){const t=i.name;if(au.has(t))return sn.debug(`There were multiple attempts to register component ${t}.`),!1;au.set(t,i);for(const r of yo.values())vh(r,i);for(const r of rv.values())vh(r,i);return!0}function iv(i,t){const r=i.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),i.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sv={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xn=new fp("app","Firebase",sv);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(t,r,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new Ui("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw xn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv=tv;function _p(i,t={}){let r=i;typeof t!="object"&&(t={name:t});const o=Object.assign({name:lu,automaticDataCollectionEnabled:!1},t),a=o.name;if(typeof a!="string"||!a)throw xn.create("bad-app-name",{appName:String(a)});if(r||(r=cp()),!r)throw xn.create("no-options");const c=yo.get(a);if(c){if(ru(r,c.options)&&ru(o,c.config))return c;throw xn.create("duplicate-app",{appName:a})}const f=new dy(a);for(const m of au.values())f.addComponent(m);const p=new ov(r,o,f);return yo.set(a,p),p}function av(i=lu){const t=yo.get(i);if(!t&&i===lu&&cp())return _p();if(!t)throw xn.create("no-app",{appName:i});return t}function Tr(i,t,r){var o;let a=(o=nv[i])!==null&&o!==void 0?o:i;r&&(a+=`-${r}`);const c=a.match(/\s|\//),f=t.match(/\s|\//);if(c||f){const p=[`Unable to register library "${a}" with version "${t}":`];c&&p.push(`library name "${a}" contains illegal characters (whitespace or "/")`),c&&f&&p.push("and"),f&&p.push(`version name "${t}" contains illegal characters (whitespace or "/")`),sn.warn(p.join(" "));return}vo(new Ui(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv="firebase-heartbeat-database",cv=1,Bi="firebase-heartbeat-store";let Qa=null;function yp(){return Qa||(Qa=ky(uv,cv,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Bi)}catch(r){console.warn(r)}}}}).catch(i=>{throw xn.create("idb-open",{originalErrorMessage:i.message})})),Qa}async function dv(i){try{const r=(await yp()).transaction(Bi),o=await r.objectStore(Bi).get(vp(i));return await r.done,o}catch(t){if(t instanceof Ki)sn.warn(t.message);else{const r=xn.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});sn.warn(r.message)}}}async function wh(i,t){try{const o=(await yp()).transaction(Bi,"readwrite");await o.objectStore(Bi).put(t,vp(i)),await o.done}catch(r){if(r instanceof Ki)sn.warn(r.message);else{const o=xn.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});sn.warn(o.message)}}}function vp(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv=1024,hv=30*24*60*60*1e3;class pv{constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new gv(r),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){var t,r;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=Eh();return((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(f=>f.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(f=>{const p=new Date(f.date).valueOf();return Date.now()-p<=hv}),this._storage.overwrite(this._heartbeatsCache))}catch(o){sn.warn(o)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Eh(),{heartbeatsToSend:o,unsentEntries:a}=mv(this._heartbeatsCache.heartbeats),c=go(JSON.stringify({version:2,heartbeats:o}));return this._heartbeatsCache.lastSentHeartbeatDate=r,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(r){return sn.warn(r),""}}}function Eh(){return new Date().toISOString().substring(0,10)}function mv(i,t=fv){const r=[];let o=i.slice();for(const a of i){const c=r.find(f=>f.agent===a.agent);if(c){if(c.dates.push(a.date),Ch(r)>t){c.dates.pop();break}}else if(r.push({agent:a.agent,dates:[a.date]}),Ch(r)>t){r.pop();break}o=o.slice(1)}return{heartbeatsToSend:r,unsentEntries:o}}class gv{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return J_()?Z_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await dv(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const a=await this.read();return wh(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function Ch(i){return go(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(i){vo(new Ui("platform-logger",t=>new Ty(t),"PRIVATE")),vo(new Ui("heartbeat",t=>new pv(t),"PRIVATE")),Tr(ou,yh,i),Tr(ou,yh,"esm2017"),Tr("fire-js","")}_v("");var yv="firebase",vv="11.2.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Tr(yv,vv,"app");var Sh={};const kh="@firebase/database",Ih="1.0.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wp="";function wv(i){wp=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,r){r==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Ve(r))}get(t){const r=this.domStorage_.getItem(this.prefixedName_(t));return r==null?null:bi(r)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cv{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,r){r==null?delete this.cache_[t]:this.cache_[t]=r}get(t){return Qt(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ev(t)}}catch{}return new Cv},Gn=Ep("localStorage"),Sv=Ep("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xr=new pp("@firebase/database"),kv=function(){let i=1;return function(){return i++}}(),Cp=function(i){const t=ly(i),r=new oy;r.update(t);const o=r.digest();return Iu.encodeByteArray(o)},Xi=function(...i){let t="";for(let r=0;r<i.length;r++){const o=i[r];Array.isArray(o)||o&&typeof o=="object"&&typeof o.length=="number"?t+=Xi.apply(null,o):typeof o=="object"?t+=Ve(o):t+=o,t+=" "}return t};let Mi=null,Nh=!0;const Iv=function(i,t){A(!0,"Can't turn on custom loggers persistently."),xr.logLevel=_e.VERBOSE,Mi=xr.log.bind(xr)},Ke=function(...i){if(Nh===!0&&(Nh=!1,Mi===null&&Sv.get("logging_enabled")===!0&&Iv()),Mi){const t=Xi.apply(null,i);Mi(t)}},Ji=function(i){return function(...t){Ke(i,...t)}},uu=function(...i){const t="FIREBASE INTERNAL ERROR: "+Xi(...i);xr.error(t)},on=function(...i){const t=`FIREBASE FATAL ERROR: ${Xi(...i)}`;throw xr.error(t),new Error(t)},st=function(...i){const t="FIREBASE WARNING: "+Xi(...i);xr.warn(t)},Nv=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&st("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},Tu=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},Tv=function(i){if(document.readyState==="complete")i();else{let t=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ar="[MIN_NAME]",Kn="[MAX_NAME]",Zn=function(i,t){if(i===t)return 0;if(i===Ar||t===Kn)return-1;if(t===Ar||i===Kn)return 1;{const r=Th(i),o=Th(t);return r!==null?o!==null?r-o===0?i.length-t.length:r-o:-1:o!==null?1:i<t?-1:1}},xv=function(i,t){return i===t?0:i<t?-1:1},Ti=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+Ve(t))},xu=function(i){if(typeof i!="object"||i===null)return Ve(i);const t=[];for(const o in i)t.push(o);t.sort();let r="{";for(let o=0;o<t.length;o++)o!==0&&(r+=","),r+=Ve(t[o]),r+=":",r+=xu(i[t[o]]);return r+="}",r},Sp=function(i,t){const r=i.length;if(r<=t)return[i];const o=[];for(let a=0;a<r;a+=t)a+t>r?o.push(i.substring(a,r)):o.push(i.substring(a,a+t));return o};function Ye(i,t){for(const r in i)i.hasOwnProperty(r)&&t(r,i[r])}const kp=function(i){A(!Tu(i),"Invalid JSON number");const t=11,r=52,o=(1<<t-1)-1;let a,c,f,p,m;i===0?(c=0,f=0,a=1/i===-1/0?1:0):(a=i<0,i=Math.abs(i),i>=Math.pow(2,1-o)?(p=Math.min(Math.floor(Math.log(i)/Math.LN2),o),c=p+o,f=Math.round(i*Math.pow(2,r-p)-Math.pow(2,r))):(c=0,f=Math.round(i/Math.pow(2,1-o-r))));const _=[];for(m=r;m;m-=1)_.push(f%2?1:0),f=Math.floor(f/2);for(m=t;m;m-=1)_.push(c%2?1:0),c=Math.floor(c/2);_.push(a?1:0),_.reverse();const S=_.join("");let E="";for(m=0;m<64;m+=8){let I=parseInt(S.substr(m,8),2).toString(16);I.length===1&&(I="0"+I),E=E+I}return E.toLowerCase()},Rv=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},Pv=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function Dv(i,t){let r="Unknown Error";i==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?r="Client doesn't have permission to access the desired data.":i==="unavailable"&&(r="The service is unavailable");const o=new Error(i+" at "+t._path.toString()+": "+r);return o.code=i.toUpperCase(),o}const Av=new RegExp("^-?(0*)\\d{1,10}$"),Ov=-2147483648,Mv=2147483647,Th=function(i){if(Av.test(i)){const t=Number(i);if(t>=Ov&&t<=Mv)return t}return null},jr=function(i){try{i()}catch(t){setTimeout(()=>{const r=t.stack||"";throw st("Exception was thrown by user callback.",r),t},Math.floor(0))}},Lv=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Li=function(i,t){const r=setTimeout(i,t);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(t,r){this.appName_=t,this.appCheckProvider=r,this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(o=>this.appCheck=o)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((r,o)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){var r;(r=this.appCheckProvider)===null||r===void 0||r.get().then(o=>o.addTokenListener(t))}notifyForInvalidToken(){st(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,r,o){this.appName_=t,this.firebaseOptions_=r,this.authProvider_=o,this.auth_=null,this.auth_=o.getImmediate({optional:!0}),this.auth_||o.onInit(a=>this.auth_=a)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ke("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,o)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(r,o):r(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(r=>r.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(r=>r.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',st(t)}}class mo{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}mo.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ru="5",Ip="v",Np="s",Tp="r",xp="f",Rp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Pp="ls",Dp="p",cu="ac",Ap="websocket",Op="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(t,r,o,a,c=!1,f="",p=!1,m=!1){this.secure=r,this.namespace=o,this.webSocketOnly=a,this.nodeAdmin=c,this.persistenceKey=f,this.includeNamespaceInQueryParams=p,this.isUsingEmulator=m,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Gn.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Gn.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${r}`}}function jv(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function Lp(i,t,r){A(typeof t=="string","typeof type must == string"),A(typeof r=="object","typeof params must == object");let o;if(t===Ap)o=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===Op)o=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);jv(i)&&(r.ns=i.namespace);const a=[];return Ye(r,(c,f)=>{a.push(c+"="+f)}),o+a.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bv{constructor(){this.counters_={}}incrementCounter(t,r=1){Qt(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=r}get(){return U_(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ga={},Ka={};function Pu(i){const t=i.toString();return Ga[t]||(Ga[t]=new bv),Ga[t]}function Uv(i,t){const r=i.toString();return Ka[r]||(Ka[r]=t()),Ka[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bv{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,r){this.closeAfterResponse=t,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,r){for(this.pendingResponses[t]=r;this.pendingResponses[this.currentResponseNum];){const o=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let a=0;a<o.length;++a)o[a]&&jr(()=>{this.onMessage_(o[a])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="start",Wv="close",Hv="pLPCommand",Vv="pRTLPCB",Fp="id",zp="pw",jp="ser",$v="cb",qv="seg",Qv="ts",Gv="d",Kv="dframe",bp=1870,Up=30,Yv=bp-Up,Xv=25e3,Jv=3e4;class Nr{constructor(t,r,o,a,c,f,p){this.connId=t,this.repoInfo=r,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.transportSessionId=f,this.lastSessionId=p,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ji(t),this.stats_=Pu(r),this.urlFn=m=>(this.appCheckToken&&(m[cu]=this.appCheckToken),Lp(r,Op,m))}open(t,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new Bv(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(Jv)),Tv(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Du((...c)=>{const[f,p,m,_,S]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,f===xh)this.id=p,this.password=m;else if(f===Wv)p?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(p,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+f)},(...c)=>{const[f,p]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(f,p)},()=>{this.onClosed_()},this.urlFn);const o={};o[xh]="t",o[jp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(o[$v]=this.scriptTagHolder.uniqueCallbackIdentifier),o[Ip]=Ru,this.transportSessionId&&(o[Np]=this.transportSessionId),this.lastSessionId&&(o[Pp]=this.lastSessionId),this.applicationId&&(o[Dp]=this.applicationId),this.appCheckToken&&(o[cu]=this.appCheckToken),typeof location<"u"&&location.hostname&&Rp.test(location.hostname)&&(o[Tp]=xp);const a=this.urlFn(o);this.log_("Connecting via long-poll to "+a),this.scriptTagHolder.addTag(a,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Nr.forceAllow_=!0}static forceDisallow(){Nr.forceDisallow_=!0}static isAvailable(){return Nr.forceAllow_?!0:!Nr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Rv()&&!Pv()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const r=Ve(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=lp(r),a=Sp(o,Yv);for(let c=0;c<a.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,a.length,a[c]),this.curSegmentNum++}addDisconnectPingFrame(t,r){this.myDisconnFrame=document.createElement("iframe");const o={};o[Kv]="t",o[Fp]=t,o[zp]=r,this.myDisconnFrame.src=this.urlFn(o),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const r=Ve(t).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class Du{constructor(t,r,o,a){this.onDisconnect=o,this.urlFn=a,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=kv(),window[Hv+this.uniqueCallbackIdentifier]=t,window[Vv+this.uniqueCallbackIdentifier]=r,this.myIFrame=Du.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const f="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(f),this.myIFrame.doc.close()}catch(p){Ke("frame writing exception"),p.stack&&Ke(p.stack),Ke(p)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ke("No IE domain setting required")}catch{const o=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+o+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,r){for(this.myID=t,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Fp]=this.myID,t[zp]=this.myPW,t[jp]=this.currentSerial;let r=this.urlFn(t),o="",a=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Up+o.length<=bp;){const f=this.pendingSegs.shift();o=o+"&"+qv+a+"="+f.seg+"&"+Qv+a+"="+f.ts+"&"+Gv+a+"="+f.d,a++}return r=r+o,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(t,r,o){this.pendingSegs.push({seg:t,ts:r,d:o}),this.alive&&this.newRequest_()}addLongPollTag_(t,r){this.outstandingRequests.add(r);const o=()=>{this.outstandingRequests.delete(r),this.newRequest_()},a=setTimeout(o,Math.floor(Xv)),c=()=>{clearTimeout(a),o()};this.addTag(t,c)}addTag(t,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const o=this.myIFrame.doc.createElement("script");o.type="text/javascript",o.async=!0,o.src=t,o.onload=o.onreadystatechange=function(){const a=o.readyState;(!a||a==="loaded"||a==="complete")&&(o.onload=o.onreadystatechange=null,o.parentNode&&o.parentNode.removeChild(o),r())},o.onerror=()=>{Ke("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(o)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=16384,ew=45e3;let wo=null;typeof MozWebSocket<"u"?wo=MozWebSocket:typeof WebSocket<"u"&&(wo=WebSocket);class qt{constructor(t,r,o,a,c,f,p){this.connId=t,this.applicationId=o,this.appCheckToken=a,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ji(this.connId),this.stats_=Pu(r),this.connURL=qt.connectionURL_(r,f,p,a,o),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,o,a,c){const f={};return f[Ip]=Ru,typeof location<"u"&&location.hostname&&Rp.test(location.hostname)&&(f[Tp]=xp),r&&(f[Np]=r),o&&(f[Pp]=o),a&&(f[cu]=a),c&&(f[Dp]=c),Lp(t,Ap,f)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Gn.set("previous_websocket_failure",!0);try{let o;X_(),this.mySock=new wo(this.connURL,[],o)}catch(o){this.log_("Error instantiating WebSocket.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=o=>{this.handleIncomingFrame(o)},this.mySock.onerror=o=>{this.log_("WebSocket error.  Closing connection.");const a=o.message||o.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){qt.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,o=navigator.userAgent.match(r);o&&o.length>1&&parseFloat(o[1])<4.4&&(t=!0)}return!t&&wo!==null&&!qt.forceDisallow_}static previouslyFailed(){return Gn.isInMemoryStorage||Gn.get("previous_websocket_failure")===!0}markConnectionHealthy(){Gn.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const o=bi(r);this.onMessage(o)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(A(this.frames===null,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const o=this.extractFrameCount_(r);o!==null&&this.appendFrame_(o)}}send(t){this.resetKeepAlive();const r=Ve(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const o=Sp(r,Zv);o.length>1&&this.sendString_(String(o.length));for(let a=0;a<o.length;a++)this.sendString_(o[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(ew))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}qt.responsesRequiredToBeHealthy=2;qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{static get ALL_TRANSPORTS(){return[Nr,qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const r=qt.isAvailable();let o=r&&!qt.previouslyFailed();if(t.webSocketOnly&&(r||st("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[qt];else{const a=this.transports_=[];for(const c of Wi.ALL_TRANSPORTS)c&&c.isAvailable()&&a.push(c);Wi.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Wi.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=6e4,nw=5e3,rw=10*1024,iw=100*1024,Ya="t",Rh="d",sw="s",Ph="r",ow="e",Dh="o",Ah="a",Oh="n",Mh="p",lw="h";class aw{constructor(t,r,o,a,c,f,p,m,_,S){this.id=t,this.repoInfo_=r,this.applicationId_=o,this.appCheckToken_=a,this.authToken_=c,this.onMessage_=f,this.onReady_=p,this.onDisconnect_=m,this.onKill_=_,this.lastSessionId=S,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ji("c:"+this.id+":"),this.transportManager_=new Wi(r),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),o=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,o)},Math.floor(0));const a=t.healthyTimeout||0;a>0&&(this.healthyTimeout_=Li(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>iw?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>rw?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(a)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return r=>{t===this.conn_?this.onConnectionLost_(r):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return r=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(r):t===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(t){const r={t:"d",d:t};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Ya in t){const r=t[Ya];r===Ah?this.upgradeIfSecondaryHealthy_():r===Ph?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===Dh&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const r=Ti("t",t),o=Ti("d",t);if(r==="c")this.onSecondaryControl_(o);else if(r==="d")this.pendingDataMessages.push(o);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Mh,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ah,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Oh,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const r=Ti("t",t),o=Ti("d",t);r==="c"?this.onControl_(o):r==="d"&&this.onDataMessage_(o)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const r=Ti(Ya,t);if(Rh in t){const o=t[Rh];if(r===lw){const a=Object.assign({},o);this.repoInfo_.isUsingEmulator&&(a.h=this.repoInfo_.host),this.onHandshake_(a)}else if(r===Oh){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let a=0;a<this.pendingDataMessages.length;++a)this.onDataMessage_(this.pendingDataMessages[a]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===sw?this.onConnectionShutdown_(o):r===Ph?this.onReset_(o):r===ow?uu("Server Error: "+o):r===Dh?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):uu("Unknown control packet command: "+r)}}onHandshake_(t){const r=t.ts,o=t.v,a=t.h;this.sessionId=t.s,this.repoInfo_.host=a,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),Ru!==o&&st("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),o=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,o),Li(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(tw))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,r){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Li(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(nw))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Mh,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Gn.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bp{put(t,r,o,a){}merge(t,r,o,a){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,r,o){}onDisconnectMerge(t,r,o){}onDisconnectCancel(t,r){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(t){this.allowedEvents_=t,this.listeners_={},A(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...r){if(Array.isArray(this.listeners_[t])){const o=[...this.listeners_[t]];for(let a=0;a<o.length;a++)o[a].callback.apply(o[a].context,r)}}on(t,r,o){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:r,context:o});const a=this.getInitialEvent(t);a&&r.apply(o,a)}off(t,r,o){this.validateEventType_(t);const a=this.listeners_[t]||[];for(let c=0;c<a.length;c++)if(a[c].callback===r&&(!o||o===a[c].context)){a.splice(c,1);return}}validateEventType_(t){A(this.allowedEvents_.find(r=>r===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo extends Wp{static getInstance(){return new Eo}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!dp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return A(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=32,Fh=768;class he{constructor(t,r){if(r===void 0){this.pieces_=t.split("/");let o=0;for(let a=0;a<this.pieces_.length;a++)this.pieces_[a].length>0&&(this.pieces_[o]=this.pieces_[a],o++);this.pieces_.length=o,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=r}toString(){let t="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(t+="/"+this.pieces_[r]);return t||"/"}}function ce(){return new he("")}function ne(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Pn(i){return i.pieces_.length-i.pieceNum_}function ye(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new he(i.pieces_,t)}function Au(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function uw(i){let t="";for(let r=i.pieceNum_;r<i.pieces_.length;r++)i.pieces_[r]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[r])));return t||"/"}function Hi(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function Hp(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let r=i.pieceNum_;r<i.pieces_.length-1;r++)t.push(i.pieces_[r]);return new he(t,0)}function Re(i,t){const r=[];for(let o=i.pieceNum_;o<i.pieces_.length;o++)r.push(i.pieces_[o]);if(t instanceof he)for(let o=t.pieceNum_;o<t.pieces_.length;o++)r.push(t.pieces_[o]);else{const o=t.split("/");for(let a=0;a<o.length;a++)o[a].length>0&&r.push(o[a])}return new he(r,0)}function se(i){return i.pieceNum_>=i.pieces_.length}function ht(i,t){const r=ne(i),o=ne(t);if(r===null)return t;if(r===o)return ht(ye(i),ye(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function cw(i,t){const r=Hi(i,0),o=Hi(t,0);for(let a=0;a<r.length&&a<o.length;a++){const c=Zn(r[a],o[a]);if(c!==0)return c}return r.length===o.length?0:r.length<o.length?-1:1}function Ou(i,t){if(Pn(i)!==Pn(t))return!1;for(let r=i.pieceNum_,o=t.pieceNum_;r<=i.pieces_.length;r++,o++)if(i.pieces_[r]!==t.pieces_[o])return!1;return!0}function Rt(i,t){let r=i.pieceNum_,o=t.pieceNum_;if(Pn(i)>Pn(t))return!1;for(;r<i.pieces_.length;){if(i.pieces_[r]!==t.pieces_[o])return!1;++r,++o}return!0}class dw{constructor(t,r){this.errorPrefix_=r,this.parts_=Hi(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let o=0;o<this.parts_.length;o++)this.byteLength_+=Mo(this.parts_[o]);Vp(this)}}function fw(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Mo(t),Vp(i)}function hw(i){const t=i.parts_.pop();i.byteLength_-=Mo(t),i.parts_.length>0&&(i.byteLength_-=1)}function Vp(i){if(i.byteLength_>Fh)throw new Error(i.errorPrefix_+"has a key path longer than "+Fh+" bytes ("+i.byteLength_+").");if(i.parts_.length>Lh)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Lh+") or object contains a cycle "+Qn(i))}function Qn(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends Wp{static getInstance(){return new Mu}constructor(){super(["visible"]);let t,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const o=!document[t];o!==this.visible_&&(this.visible_=o,this.trigger("visible",o))},!1)}getInitialEvent(t){return A(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=1e3,pw=60*5*1e3,zh=30*1e3,mw=1.3,gw=3e4,_w="server_kill",jh=3;class rn extends Bp{constructor(t,r,o,a,c,f,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=o,this.onConnectStatus_=a,this.onServerInfoUpdate_=c,this.authTokenProvider_=f,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=rn.nextPersistentConnectionId_++,this.log_=Ji("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=xi,this.maxReconnectDelay_=pw,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Mu.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&Eo.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,o){const a=++this.requestNumber_,c={r:a,a:t,b:r};this.log_(Ve(c)),A(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),o&&(this.requestCBHash_[a]=o)}get(t){this.initConnection_();const r=new Gi,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:f=>{const p=f.d;f.s==="ok"?r.resolve(p):r.reject(p)}};this.outstandingGets_.push(a),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),r.promise}listen(t,r,o,a){this.initConnection_();const c=t._queryIdentifier,f=t._path.toString();this.log_("Listen called for "+f+" "+c),this.listens.has(f)||this.listens.set(f,new Map),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),A(!this.listens.get(f).has(c),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:o};this.listens.get(f).set(c,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,o=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(o)})}sendListen_(t){const r=t.query,o=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+o+" for "+a);const c={p:o},f="q";t.tag&&(c.q=r._queryObject,c.t=t.tag),c.h=t.hashFn(),this.sendRequest(f,c,p=>{const m=p.d,_=p.s;rn.warnOnListenWarnings_(m,r),(this.listens.get(o)&&this.listens.get(o).get(a))===t&&(this.log_("listen response",p),_!=="ok"&&this.removeListen_(o,a),t.onComplete&&t.onComplete(_,m))})}static warnOnListenWarnings_(t,r){if(t&&typeof t=="object"&&Qt(t,"w")){const o=Dr(t,"w");if(Array.isArray(o)&&~o.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',c=r._path.toString();st(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||iy(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=zh)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=ry(t)?"auth":"gauth",o={cred:t};this.authOverride_===null?o.noauth=!0:typeof this.authOverride_=="object"&&(o.authvar=this.authOverride_),this.sendRequest(r,o,a=>{const c=a.s,f=a.d||"error";this.authToken_===t&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,f))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,o=t.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,o)})}unlisten(t,r){const o=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+o+" "+a),A(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(o,a)&&this.connected_&&this.sendUnlisten_(o,a,t._queryObject,r)}sendUnlisten_(t,r,o,a){this.log_("Unlisten on "+t+" for "+r);const c={p:t},f="n";a&&(c.q=o,c.t=a),this.sendRequest(f,c)}onDisconnectPut(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:o})}onDisconnectMerge(t,r,o){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,o):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:o})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,o,a){const c={p:r,d:o};this.log_("onDisconnect "+t,c),this.sendRequest(t,c,f=>{a&&setTimeout(()=>{a(f.s,f.d)},Math.floor(0))})}put(t,r,o,a){this.putInternal("p",t,r,o,a)}merge(t,r,o,a){this.putInternal("m",t,r,o,a)}putInternal(t,r,o,a,c){this.initConnection_();const f={p:r,d:o};c!==void 0&&(f.h=c),this.outstandingPuts_.push({action:t,request:f,onComplete:a}),this.outstandingPutCount_++;const p=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(p):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,o=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,o,c=>{this.log_(r+" response",c),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),a&&a(c.s,c.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,o=>{if(o.s!=="ok"){const c=o.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+Ve(t));const r=t.r,o=this.requestCBHash_[r];o&&(delete this.requestCBHash_[r],o(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),t==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):t==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):t==="c"?this.onListenRevoked_(r.p,r.q):t==="ac"?this.onAuthRevoked_(r.s,r.d):t==="apc"?this.onAppCheckRevoked_(r.s,r.d):t==="sd"?this.onSecurityDebugPacket_(r):uu("Unrecognized action received from server: "+Ve(t)+`
Are you using the latest client?`)}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){A(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gw&&(this.reconnectDelay_=xi),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mw)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),o=this.onRealtimeDisconnect_.bind(this),a=this.id+":"+rn.nextConnectionId_++,c=this.lastSessionId;let f=!1,p=null;const m=function(){p?p.close():(f=!0,o())},_=function(E){A(p,"sendRequest call when we're not connected not allowed."),p.sendRequest(E)};this.realtime_={close:m,sendRequest:_};const S=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[E,I]=await Promise.all([this.authTokenProvider_.getToken(S),this.appCheckTokenProvider_.getToken(S)]);f?Ke("getToken() completed but was canceled"):(Ke("getToken() completed. Creating connection."),this.authToken_=E&&E.accessToken,this.appCheckToken_=I&&I.token,p=new aw(a,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,r,o,O=>{st(O+" ("+this.repoInfo_.toString()+")"),this.interrupt(_w)},c))}catch(E){this.log_("Failed to get token: "+E),f||(this.repoInfo_.nodeAdmin&&st(E),m())}}}interrupt(t){Ke("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ke("Resuming connection for reason: "+t),delete this.interruptReasons_[t],hh(this.interruptReasons_)&&(this.reconnectDelay_=xi,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let o;r?o=r.map(c=>xu(c)).join("$"):o="default";const a=this.removeListen_(t,o);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const o=new he(t).toString();let a;if(this.listens.has(o)){const c=this.listens.get(o);a=c.get(r),c.delete(r),c.size===0&&this.listens.delete(o)}else a=void 0;return a}onAuthRevoked_(t,r){Ke("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=jh&&(this.reconnectDelay_=zh,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Ke("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=jh&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";t["sdk."+r+"."+wp.replace(/\./g,"-")]=1,dp()?t["framework.cordova"]=1:Y_()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=Eo.getInstance().currentlyOnline();return hh(this.interruptReasons_)&&t}}rn.nextPersistentConnectionId_=0;rn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class re{constructor(t,r){this.name=t,this.node=r}static Wrap(t,r){return new re(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,r){const o=new re(Ar,t),a=new re(Ar,r);return this.compare(o,a)!==0}minPost(){return re.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ho;class $p extends Lo{static get __EMPTY_NODE(){return ho}static set __EMPTY_NODE(t){ho=t}compare(t,r){return Zn(t.name,r.name)}isDefinedOn(t){throw zr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,r){return!1}minPost(){return re.MIN}maxPost(){return new re(Kn,ho)}makePost(t,r){return A(typeof t=="string","KeyIndex indexValue must always be a string."),new re(t,ho)}toString(){return".key"}}const Rr=new $p;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(t,r,o,a,c=null){this.isReverse_=a,this.resultGenerator_=c,this.nodeStack_=[];let f=1;for(;!t.isEmpty();)if(t=t,f=r?o(t.key,r):1,a&&(f*=-1),f<0)this.isReverse_?t=t.left:t=t.right;else if(f===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(t.key,t.value):r={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class We{constructor(t,r,o,a,c){this.key=t,this.value=r,this.color=o??We.RED,this.left=a??pt.EMPTY_NODE,this.right=c??pt.EMPTY_NODE}copy(t,r,o,a,c){return new We(t??this.key,r??this.value,o??this.color,a??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,o){let a=this;const c=o(t,a.key);return c<0?a=a.copy(null,null,null,a.left.insert(t,r,o),null):c===0?a=a.copy(null,r,null,null,null):a=a.copy(null,null,null,null,a.right.insert(t,r,o)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return pt.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let o,a;if(o=this,r(t,o.key)<0)!o.left.isEmpty()&&!o.left.isRed_()&&!o.left.left.isRed_()&&(o=o.moveRedLeft_()),o=o.copy(null,null,null,o.left.remove(t,r),null);else{if(o.left.isRed_()&&(o=o.rotateRight_()),!o.right.isEmpty()&&!o.right.isRed_()&&!o.right.left.isRed_()&&(o=o.moveRedRight_()),r(t,o.key)===0){if(o.right.isEmpty())return pt.EMPTY_NODE;a=o.right.min_(),o=o.copy(a.key,a.value,null,null,o.right.removeMin_())}o=o.copy(null,null,null,null,o.right.remove(t,r))}return o.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class yw{copy(t,r,o,a,c){return this}insert(t,r,o){return new We(t,r,null)}remove(t,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class pt{constructor(t,r=pt.EMPTY_NODE){this.comparator_=t,this.root_=r}insert(t,r){return new pt(this.comparator_,this.root_.insert(t,r,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(t){return new pt(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,We.BLACK,null,null))}get(t){let r,o=this.root_;for(;!o.isEmpty();){if(r=this.comparator_(t,o.key),r===0)return o.value;r<0?o=o.left:r>0&&(o=o.right)}return null}getPredecessorKey(t){let r,o=this.root_,a=null;for(;!o.isEmpty();)if(r=this.comparator_(t,o.key),r===0){if(o.left.isEmpty())return a?a.key:null;for(o=o.left;!o.right.isEmpty();)o=o.right;return o.key}else r<0?o=o.left:r>0&&(a=o,o=o.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new po(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,r){return new po(this.root_,t,this.comparator_,!1,r)}getReverseIteratorFrom(t,r){return new po(this.root_,t,this.comparator_,!0,r)}getReverseIterator(t){return new po(this.root_,null,this.comparator_,!0,t)}}pt.EMPTY_NODE=new yw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vw(i,t){return Zn(i.name,t.name)}function Lu(i,t){return Zn(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let du;function ww(i){du=i}const qp=function(i){return typeof i=="number"?"number:"+kp(i):"string:"+i},Qp=function(i){if(i.isLeafNode()){const t=i.val();A(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Qt(t,".sv"),"Priority must be a string or number.")}else A(i===du||i.isEmpty(),"priority of unexpected type.");A(i===du||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bh;class Be{static set __childrenNodeConstructor(t){bh=t}static get __childrenNodeConstructor(){return bh}constructor(t,r=Be.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,A(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Qp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Be(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return se(t)?this:ne(t)===".priority"?this.priorityNode_:Be.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return t===".priority"?this.updatePriority(r):r.isEmpty()&&t!==".priority"?this:Be.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const o=ne(t);return o===null?r:r.isEmpty()&&o!==".priority"?this:(A(o!==".priority"||Pn(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(o,Be.__childrenNodeConstructor.EMPTY_NODE.updateChild(ye(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+qp(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",r==="number"?t+=kp(this.value_):t+=this.value_,this.lazyHash_=Cp(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Be.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Be.__childrenNodeConstructor?-1:(A(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,o=typeof this.value_,a=Be.VALUE_TYPE_ORDER.indexOf(r),c=Be.VALUE_TYPE_ORDER.indexOf(o);return A(a>=0,"Unknown leaf type: "+r),A(c>=0,"Unknown leaf type: "+o),a===c?o==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:c-a}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const r=t;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Be.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Gp,Kp;function Ew(i){Gp=i}function Cw(i){Kp=i}class Sw extends Lo{compare(t,r){const o=t.node.getPriority(),a=r.node.getPriority(),c=o.compareTo(a);return c===0?Zn(t.name,r.name):c}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,r){return!t.getPriority().equals(r.getPriority())}minPost(){return re.MIN}maxPost(){return new re(Kn,new Be("[PRIORITY-POST]",Kp))}makePost(t,r){const o=Gp(t);return new re(r,new Be("[PRIORITY-POST]",o))}toString(){return".priority"}}const Pe=new Sw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=Math.log(2);class Iw{constructor(t){const r=c=>parseInt(Math.log(c)/kw,10),o=c=>parseInt(Array(c+1).join("1"),2);this.count=r(t+1),this.current_=this.count-1;const a=o(this.count);this.bits_=t+1&a}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const Co=function(i,t,r,o){i.sort(t);const a=function(m,_){const S=_-m;let E,I;if(S===0)return null;if(S===1)return E=i[m],I=r?r(E):E,new We(I,E.node,We.BLACK,null,null);{const O=parseInt(S/2,10)+m,F=a(m,O),q=a(O+1,_);return E=i[O],I=r?r(E):E,new We(I,E.node,We.BLACK,F,q)}},c=function(m){let _=null,S=null,E=i.length;const I=function(F,q){const $=E-F,Fe=E;E-=F;const Ie=a($+1,Fe),Xe=i[$],Ne=r?r(Xe):Xe;O(new We(Ne,Xe.node,q,null,Ie))},O=function(F){_?(_.left=F,_=F):(S=F,_=F)};for(let F=0;F<m.count;++F){const q=m.nextBitIsOne(),$=Math.pow(2,m.count-(F+1));q?I($,We.BLACK):(I($,We.BLACK),I($,We.RED))}return S},f=new Iw(i.length),p=c(f);return new pt(o||t,p)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xa;const Ri={};class nn{static get Default(){return A(Pe,"ChildrenNode.ts has not been loaded"),Xa=Xa||new nn({".priority":Ri},{".priority":Pe}),Xa}constructor(t,r){this.indexes_=t,this.indexSet_=r}get(t){const r=Dr(this.indexes_,t);if(!r)throw new Error("No index defined for "+t);return r instanceof pt?r:null}hasIndex(t){return Qt(this.indexSet_,t.toString())}addIndex(t,r){A(t!==Rr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const o=[];let a=!1;const c=r.getIterator(re.Wrap);let f=c.getNext();for(;f;)a=a||t.isDefinedOn(f.node),o.push(f),f=c.getNext();let p;a?p=Co(o,t.getCompare()):p=Ri;const m=t.toString(),_=Object.assign({},this.indexSet_);_[m]=t;const S=Object.assign({},this.indexes_);return S[m]=p,new nn(S,_)}addToIndexes(t,r){const o=_o(this.indexes_,(a,c)=>{const f=Dr(this.indexSet_,c);if(A(f,"Missing index implementation for "+c),a===Ri)if(f.isDefinedOn(t.node)){const p=[],m=r.getIterator(re.Wrap);let _=m.getNext();for(;_;)_.name!==t.name&&p.push(_),_=m.getNext();return p.push(t),Co(p,f.getCompare())}else return Ri;else{const p=r.get(t.name);let m=a;return p&&(m=m.remove(new re(t.name,p))),m.insert(t,t.node)}});return new nn(o,this.indexSet_)}removeFromIndexes(t,r){const o=_o(this.indexes_,a=>{if(a===Ri)return a;{const c=r.get(t.name);return c?a.remove(new re(t.name,c)):a}});return new nn(o,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi;class X{static get EMPTY_NODE(){return Pi||(Pi=new X(new pt(Lu),null,nn.Default))}constructor(t,r,o){this.children_=t,this.priorityNode_=r,this.indexMap_=o,this.lazyHash_=null,this.priorityNode_&&Qp(this.priorityNode_),this.children_.isEmpty()&&A(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Pi}updatePriority(t){return this.children_.isEmpty()?this:new X(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const r=this.children_.get(t);return r===null?Pi:r}}getChild(t){const r=ne(t);return r===null?this:this.getImmediateChild(r).getChild(ye(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,r){if(A(r,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(r);{const o=new re(t,r);let a,c;r.isEmpty()?(a=this.children_.remove(t),c=this.indexMap_.removeFromIndexes(o,this.children_)):(a=this.children_.insert(t,r),c=this.indexMap_.addToIndexes(o,this.children_));const f=a.isEmpty()?Pi:this.priorityNode_;return new X(a,f,c)}}updateChild(t,r){const o=ne(t);if(o===null)return r;{A(ne(t)!==".priority"||Pn(t)===1,".priority must be the last token in a path");const a=this.getImmediateChild(o).updateChild(ye(t),r);return this.updateImmediateChild(o,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let o=0,a=0,c=!0;if(this.forEachChild(Pe,(f,p)=>{r[f]=p.val(t),o++,c&&X.INTEGER_REGEXP_.test(f)?a=Math.max(a,Number(f)):c=!1}),!t&&c&&a<2*o){const f=[];for(const p in r)f[p]=r[p];return f}else return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+qp(this.getPriority().val())+":"),this.forEachChild(Pe,(r,o)=>{const a=o.hash();a!==""&&(t+=":"+r+":"+a)}),this.lazyHash_=t===""?"":Cp(t)}return this.lazyHash_}getPredecessorChildName(t,r,o){const a=this.resolveIndex_(o);if(a){const c=a.getPredecessorKey(new re(t,r));return c?c.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.minKey();return o&&o.name}else return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new re(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const o=r.maxKey();return o&&o.name}else return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new re(r,this.children_.get(r)):null}forEachChild(t,r){const o=this.resolveIndex_(t);return o?o.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,re.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)<0;)a.getNext(),c=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const o=this.resolveIndex_(r);if(o)return o.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,re.Wrap);let c=a.peek();for(;c!=null&&r.compare(c,t)>0;)a.getNext(),c=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Zi?-1:0}withIndex(t){if(t===Rr||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new X(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===Rr||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const o=this.getIterator(Pe),a=r.getIterator(Pe);let c=o.getNext(),f=a.getNext();for(;c&&f;){if(c.name!==f.name||!c.node.equals(f.node))return!1;c=o.getNext(),f=a.getNext()}return c===null&&f===null}else return!1;else return!1}}resolveIndex_(t){return t===Rr?null:this.indexMap_.get(t.toString())}}X.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Nw extends X{constructor(){super(new pt(Lu),X.EMPTY_NODE,nn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return X.EMPTY_NODE}isEmpty(){return!1}}const Zi=new Nw;Object.defineProperties(re,{MIN:{value:new re(Ar,X.EMPTY_NODE)},MAX:{value:new re(Kn,Zi)}});$p.__EMPTY_NODE=X.EMPTY_NODE;Be.__childrenNodeConstructor=X;ww(Zi);Cw(Zi);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw=!0;function He(i,t=null){if(i===null)return X.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),A(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const r=i;return new Be(r,He(t))}if(!(i instanceof Array)&&Tw){const r=[];let o=!1;if(Ye(i,(f,p)=>{if(f.substring(0,1)!=="."){const m=He(p);m.isEmpty()||(o=o||!m.getPriority().isEmpty(),r.push(new re(f,m)))}}),r.length===0)return X.EMPTY_NODE;const c=Co(r,vw,f=>f.name,Lu);if(o){const f=Co(r,Pe.getCompare());return new X(c,He(t),new nn({".priority":f},{".priority":Pe}))}else return new X(c,He(t),nn.Default)}else{let r=X.EMPTY_NODE;return Ye(i,(o,a)=>{if(Qt(i,o)&&o.substring(0,1)!=="."){const c=He(a);(c.isLeafNode()||!c.isEmpty())&&(r=r.updateImmediateChild(o,c))}}),r.updatePriority(He(t))}}Ew(He);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xw extends Lo{constructor(t){super(),this.indexPath_=t,A(!se(t)&&ne(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,r){const o=this.extractChild(t.node),a=this.extractChild(r.node),c=o.compareTo(a);return c===0?Zn(t.name,r.name):c}makePost(t,r){const o=He(t),a=X.EMPTY_NODE.updateChild(this.indexPath_,o);return new re(r,a)}maxPost(){const t=X.EMPTY_NODE.updateChild(this.indexPath_,Zi);return new re(Kn,t)}toString(){return Hi(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw extends Lo{compare(t,r){const o=t.node.compareTo(r.node);return o===0?Zn(t.name,r.name):o}isDefinedOn(t){return!0}indexedValueChanged(t,r){return!t.equals(r)}minPost(){return re.MIN}maxPost(){return re.MAX}makePost(t,r){const o=He(t);return new re(r,o)}toString(){return".value"}}const Pw=new Rw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(i){return{type:"value",snapshotNode:i}}function Or(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Vi(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function $i(i,t,r){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:r}}function Dw(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(t){this.index_=t}updateChild(t,r,o,a,c,f){A(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const p=t.getImmediateChild(r);return p.getChild(a).equals(o.getChild(a))&&p.isEmpty()===o.isEmpty()||(f!=null&&(o.isEmpty()?t.hasChild(r)?f.trackChildChange(Vi(r,p)):A(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):p.isEmpty()?f.trackChildChange(Or(r,o)):f.trackChildChange($i(r,o,p))),t.isLeafNode()&&o.isEmpty())?t:t.updateImmediateChild(r,o).withIndex(this.index_)}updateFullNode(t,r,o){return o!=null&&(t.isLeafNode()||t.forEachChild(Pe,(a,c)=>{r.hasChild(a)||o.trackChildChange(Vi(a,c))}),r.isLeafNode()||r.forEachChild(Pe,(a,c)=>{if(t.hasChild(a)){const f=t.getImmediateChild(a);f.equals(c)||o.trackChildChange($i(a,c,f))}else o.trackChildChange(Or(a,c))})),r.withIndex(this.index_)}updatePriority(t,r){return t.isEmpty()?X.EMPTY_NODE:t.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi{constructor(t){this.indexedFilter_=new Fu(t.getIndex()),this.index_=t.getIndex(),this.startPost_=qi.getStartPost_(t),this.endPost_=qi.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,o=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return r&&o}updateChild(t,r,o,a,c,f){return this.matches(new re(r,o))||(o=X.EMPTY_NODE),this.indexedFilter_.updateChild(t,r,o,a,c,f)}updateFullNode(t,r,o){r.isLeafNode()&&(r=X.EMPTY_NODE);let a=r.withIndex(this.index_);a=a.updatePriority(X.EMPTY_NODE);const c=this;return r.forEachChild(Pe,(f,p)=>{c.matches(new re(f,p))||(a=a.updateImmediateChild(f,X.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const r=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),r)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const r=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),r)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(t){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const o=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?o<=0:o<0},this.withinEndPost=r=>{const o=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?o<=0:o<0},this.rangedFilter_=new qi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,r,o,a,c,f){return this.rangedFilter_.matches(new re(r,o))||(o=X.EMPTY_NODE),t.getImmediateChild(r).equals(o)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,r,o,a,c,f):this.fullLimitUpdateChild_(t,r,o,c,f)}updateFullNode(t,r,o){let a;if(r.isLeafNode()||r.isEmpty())a=X.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){a=X.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let f=0;for(;c.hasNext()&&f<this.limit_;){const p=c.getNext();if(this.withinDirectionalStart(p))if(this.withinDirectionalEnd(p))a=a.updateImmediateChild(p.name,p.node),f++;else break;else continue}}else{a=r.withIndex(this.index_),a=a.updatePriority(X.EMPTY_NODE);let c;this.reverse_?c=a.getReverseIterator(this.index_):c=a.getIterator(this.index_);let f=0;for(;c.hasNext();){const p=c.getNext();f<this.limit_&&this.withinDirectionalStart(p)&&this.withinDirectionalEnd(p)?f++:a=a.updateImmediateChild(p.name,X.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,a,o)}updatePriority(t,r){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,r,o,a,c){let f;if(this.reverse_){const E=this.index_.getCompare();f=(I,O)=>E(O,I)}else f=this.index_.getCompare();const p=t;A(p.numChildren()===this.limit_,"");const m=new re(r,o),_=this.reverse_?p.getFirstChild(this.index_):p.getLastChild(this.index_),S=this.rangedFilter_.matches(m);if(p.hasChild(r)){const E=p.getImmediateChild(r);let I=a.getChildAfterChild(this.index_,_,this.reverse_);for(;I!=null&&(I.name===r||p.hasChild(I.name));)I=a.getChildAfterChild(this.index_,I,this.reverse_);const O=I==null?1:f(I,m);if(S&&!o.isEmpty()&&O>=0)return c!=null&&c.trackChildChange($i(r,o,E)),p.updateImmediateChild(r,o);{c!=null&&c.trackChildChange(Vi(r,E));const q=p.updateImmediateChild(r,X.EMPTY_NODE);return I!=null&&this.rangedFilter_.matches(I)?(c!=null&&c.trackChildChange(Or(I.name,I.node)),q.updateImmediateChild(I.name,I.node)):q}}else return o.isEmpty()?t:S&&f(_,m)>=0?(c!=null&&(c.trackChildChange(Vi(_.name,_.node)),c.trackChildChange(Or(r,o))),p.updateImmediateChild(r,o).updateImmediateChild(_.name,X.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Pe}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return A(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return A(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ar}hasEnd(){return this.endSet_}getIndexEndValue(){return A(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return A(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Kn}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return A(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Pe}copy(){const t=new zu;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Ow(i){return i.loadsAllData()?new Fu(i.getIndex()):i.hasLimit()?new Aw(i):new qi(i)}function Uh(i){const t={};if(i.isDefault())return t;let r;if(i.index_===Pe?r="$priority":i.index_===Pw?r="$value":i.index_===Rr?r="$key":(A(i.index_ instanceof xw,"Unrecognized index type!"),r=i.index_.toString()),t.orderBy=Ve(r),i.startSet_){const o=i.startAfterSet_?"startAfter":"startAt";t[o]=Ve(i.indexStartValue_),i.startNameSet_&&(t[o]+=","+Ve(i.indexStartName_))}if(i.endSet_){const o=i.endBeforeSet_?"endBefore":"endAt";t[o]=Ve(i.indexEndValue_),i.endNameSet_&&(t[o]+=","+Ve(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Bh(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let r=i.viewFrom_;r===""&&(i.isViewFromLeft()?r="l":r="r"),t.vf=r}return i.index_!==Pe&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Bp{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,r){return r!==void 0?"tag$"+r:(A(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,r,o,a){super(),this.repoInfo_=t,this.onDataUpdate_=r,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.log_=Ji("p:rest:"),this.listens_={}}listen(t,r,o,a){const c=t._path.toString();this.log_("Listen called for "+c+" "+t._queryIdentifier);const f=So.getListenId_(t,o),p={};this.listens_[f]=p;const m=Uh(t._queryParams);this.restRequest_(c+".json",m,(_,S)=>{let E=S;if(_===404&&(E=null,_=null),_===null&&this.onDataUpdate_(c,E,!1,o),Dr(this.listens_,f)===p){let I;_?_===401?I="permission_denied":I="rest_error:"+_:I="ok",a(I,null)}})}unlisten(t,r){const o=So.getListenId_(t,r);delete this.listens_[o]}get(t){const r=Uh(t._queryParams),o=t._path.toString(),a=new Gi;return this.restRequest_(o+".json",r,(c,f)=>{let p=f;c===404&&(p=null,c=null),c===null?(this.onDataUpdate_(o,p,!1,null),a.resolve(p)):a.reject(new Error(p))}),a.promise}refreshAuthToken(t){}restRequest_(t,r={},o){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([a,c])=>{a&&a.accessToken&&(r.auth=a.accessToken),c&&c.token&&(r.ac=c.token);const f=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+sy(r);this.log_("Sending REST request for "+f);const p=new XMLHttpRequest;p.onreadystatechange=()=>{if(o&&p.readyState===4){this.log_("REST Response for "+f+" received. status:",p.status,"response:",p.responseText);let m=null;if(p.status>=200&&p.status<300){try{m=bi(p.responseText)}catch{st("Failed to parse JSON response for "+f+": "+p.responseText)}o(null,m)}else p.status!==401&&p.status!==404&&st("Got unsuccessful REST response for "+f+" Status: "+p.status),o(p.status);o=null}},p.open("GET",f,!0),p.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.rootNode_=X.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,r){this.rootNode_=this.rootNode_.updateChild(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ko(){return{value:null,children:new Map}}function Xp(i,t,r){if(se(t))i.value=r,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,r);else{const o=ne(t);i.children.has(o)||i.children.set(o,ko());const a=i.children.get(o);t=ye(t),Xp(a,t,r)}}function fu(i,t,r){i.value!==null?r(t,i.value):Lw(i,(o,a)=>{const c=new he(t.toString()+"/"+o);fu(a,c,r)})}function Lw(i,t){i.children.forEach((r,o)=>{t(o,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),r=Object.assign({},t);return this.last_&&Ye(this.last_,(o,a)=>{r[o]=r[o]-a}),this.last_=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh=10*1e3,zw=30*1e3,jw=5*60*1e3;class bw{constructor(t,r){this.server_=r,this.statsToReport_={},this.statsListener_=new Fw(t);const o=Wh+(zw-Wh)*Math.random();Li(this.reportStats_.bind(this),Math.floor(o))}reportStats_(){const t=this.statsListener_.get(),r={};let o=!1;Ye(t,(a,c)=>{c>0&&Qt(this.statsToReport_,a)&&(r[a]=c,o=!0)}),o&&this.server_.reportStats(r),Li(this.reportStats_.bind(this),Math.floor(Math.random()*2*jw))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jt;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(jt||(jt={}));function ju(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function bu(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Uu(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(t,r,o){this.path=t,this.affectedTree=r,this.revert=o,this.type=jt.ACK_USER_WRITE,this.source=ju()}operationForChild(t){if(se(this.path)){if(this.affectedTree.value!=null)return A(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new he(t));return new Io(ce(),r,this.revert)}}else return A(ne(this.path)===t,"operationForChild called for unrelated child."),new Io(ye(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(t,r){this.source=t,this.path=r,this.type=jt.LISTEN_COMPLETE}operationForChild(t){return se(this.path)?new Qi(this.source,ce()):new Qi(this.source,ye(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn{constructor(t,r,o){this.source=t,this.path=r,this.snap=o,this.type=jt.OVERWRITE}operationForChild(t){return se(this.path)?new Yn(this.source,ce(),this.snap.getImmediateChild(t)):new Yn(this.source,ye(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(t,r,o){this.source=t,this.path=r,this.children=o,this.type=jt.MERGE}operationForChild(t){if(se(this.path)){const r=this.children.subtree(new he(t));return r.isEmpty()?null:r.value?new Yn(this.source,ce(),r.value):new Mr(this.source,ce(),r)}else return A(ne(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Mr(this.source,ye(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t,r,o){this.node_=t,this.fullyInitialized_=r,this.filtered_=o}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(se(t))return this.isFullyInitialized()&&!this.filtered_;const r=ne(t);return this.isCompleteForChild(r)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function Bw(i,t,r,o){const a=[],c=[];return t.forEach(f=>{f.type==="child_changed"&&i.index_.indexedValueChanged(f.oldSnap,f.snapshotNode)&&c.push(Dw(f.childName,f.snapshotNode))}),Di(i,a,"child_removed",t,o,r),Di(i,a,"child_added",t,o,r),Di(i,a,"child_moved",c,o,r),Di(i,a,"child_changed",t,o,r),Di(i,a,"value",t,o,r),a}function Di(i,t,r,o,a,c){const f=o.filter(p=>p.type===r);f.sort((p,m)=>Hw(i,p,m)),f.forEach(p=>{const m=Ww(i,p,c);a.forEach(_=>{_.respondsTo(p.type)&&t.push(_.createEvent(m,i.query_))})})}function Ww(i,t,r){return t.type==="value"||t.type==="child_removed"||(t.prevName=r.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function Hw(i,t,r){if(t.childName==null||r.childName==null)throw zr("Should only compare child_ events.");const o=new re(t.childName,t.snapshotNode),a=new re(r.childName,r.snapshotNode);return i.index_.compare(o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fo(i,t){return{eventCache:i,serverCache:t}}function Fi(i,t,r,o){return Fo(new Xn(t,r,o),i.serverCache)}function Jp(i,t,r,o){return Fo(i.eventCache,new Xn(t,r,o))}function hu(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Jn(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ja;const Vw=()=>(Ja||(Ja=new pt(xv)),Ja);class ge{static fromObject(t){let r=new ge(null);return Ye(t,(o,a)=>{r=r.set(new he(o),a)}),r}constructor(t,r=Vw()){this.value=t,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,r){if(this.value!=null&&r(this.value))return{path:ce(),value:this.value};if(se(t))return null;{const o=ne(t),a=this.children.get(o);if(a!==null){const c=a.findRootMostMatchingPathAndValue(ye(t),r);return c!=null?{path:Re(new he(o),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(se(t))return this;{const r=ne(t),o=this.children.get(r);return o!==null?o.subtree(ye(t)):new ge(null)}}set(t,r){if(se(t))return new ge(r,this.children);{const o=ne(t),c=(this.children.get(o)||new ge(null)).set(ye(t),r),f=this.children.insert(o,c);return new ge(this.value,f)}}remove(t){if(se(t))return this.children.isEmpty()?new ge(null):new ge(null,this.children);{const r=ne(t),o=this.children.get(r);if(o){const a=o.remove(ye(t));let c;return a.isEmpty()?c=this.children.remove(r):c=this.children.insert(r,a),this.value===null&&c.isEmpty()?new ge(null):new ge(this.value,c)}else return this}}get(t){if(se(t))return this.value;{const r=ne(t),o=this.children.get(r);return o?o.get(ye(t)):null}}setTree(t,r){if(se(t))return r;{const o=ne(t),c=(this.children.get(o)||new ge(null)).setTree(ye(t),r);let f;return c.isEmpty()?f=this.children.remove(o):f=this.children.insert(o,c),new ge(this.value,f)}}fold(t){return this.fold_(ce(),t)}fold_(t,r){const o={};return this.children.inorderTraversal((a,c)=>{o[a]=c.fold_(Re(t,a),r)}),r(t,this.value,o)}findOnPath(t,r){return this.findOnPath_(t,ce(),r)}findOnPath_(t,r,o){const a=this.value?o(r,this.value):!1;if(a)return a;if(se(t))return null;{const c=ne(t),f=this.children.get(c);return f?f.findOnPath_(ye(t),Re(r,c),o):null}}foreachOnPath(t,r){return this.foreachOnPath_(t,ce(),r)}foreachOnPath_(t,r,o){if(se(t))return this;{this.value&&o(r,this.value);const a=ne(t),c=this.children.get(a);return c?c.foreachOnPath_(ye(t),Re(r,a),o):new ge(null)}}foreach(t){this.foreach_(ce(),t)}foreach_(t,r){this.children.inorderTraversal((o,a)=>{a.foreach_(Re(t,o),r)}),this.value&&r(t,this.value)}foreachChild(t){this.children.inorderTraversal((r,o)=>{o.value&&t(r,o.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(t){this.writeTree_=t}static empty(){return new bt(new ge(null))}}function zi(i,t,r){if(se(t))return new bt(new ge(r));{const o=i.writeTree_.findRootMostValueAndPath(t);if(o!=null){const a=o.path;let c=o.value;const f=ht(a,t);return c=c.updateChild(f,r),new bt(i.writeTree_.set(a,c))}else{const a=new ge(r),c=i.writeTree_.setTree(t,a);return new bt(c)}}}function pu(i,t,r){let o=i;return Ye(r,(a,c)=>{o=zi(o,Re(t,a),c)}),o}function Hh(i,t){if(se(t))return bt.empty();{const r=i.writeTree_.setTree(t,new ge(null));return new bt(r)}}function mu(i,t){return er(i,t)!=null}function er(i,t){const r=i.writeTree_.findRootMostValueAndPath(t);return r!=null?i.writeTree_.get(r.path).getChild(ht(r.path,t)):null}function Vh(i){const t=[],r=i.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(Pe,(o,a)=>{t.push(new re(o,a))}):i.writeTree_.children.inorderTraversal((o,a)=>{a.value!=null&&t.push(new re(o,a.value))}),t}function Rn(i,t){if(se(t))return i;{const r=er(i,t);return r!=null?new bt(new ge(r)):new bt(i.writeTree_.subtree(t))}}function gu(i){return i.writeTree_.isEmpty()}function Lr(i,t){return Zp(ce(),i.writeTree_,t)}function Zp(i,t,r){if(t.value!=null)return r.updateChild(i,t.value);{let o=null;return t.children.inorderTraversal((a,c)=>{a===".priority"?(A(c.value!==null,"Priority writes must always be leaf nodes"),o=c.value):r=Zp(Re(i,a),c,r)}),!r.getChild(i).isEmpty()&&o!==null&&(r=r.updateChild(Re(i,".priority"),o)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bu(i,t){return rm(t,i)}function $w(i,t,r,o,a){A(o>i.lastWriteId,"Stacking an older write on top of newer ones"),a===void 0&&(a=!0),i.allWrites.push({path:t,snap:r,writeId:o,visible:a}),a&&(i.visibleWrites=zi(i.visibleWrites,t,r)),i.lastWriteId=o}function qw(i,t,r,o){A(o>i.lastWriteId,"Stacking an older merge on top of newer ones"),i.allWrites.push({path:t,children:r,writeId:o,visible:!0}),i.visibleWrites=pu(i.visibleWrites,t,r),i.lastWriteId=o}function Qw(i,t){for(let r=0;r<i.allWrites.length;r++){const o=i.allWrites[r];if(o.writeId===t)return o}return null}function Gw(i,t){const r=i.allWrites.findIndex(p=>p.writeId===t);A(r>=0,"removeWrite called with nonexistent writeId.");const o=i.allWrites[r];i.allWrites.splice(r,1);let a=o.visible,c=!1,f=i.allWrites.length-1;for(;a&&f>=0;){const p=i.allWrites[f];p.visible&&(f>=r&&Kw(p,o.path)?a=!1:Rt(o.path,p.path)&&(c=!0)),f--}if(a){if(c)return Yw(i),!0;if(o.snap)i.visibleWrites=Hh(i.visibleWrites,o.path);else{const p=o.children;Ye(p,m=>{i.visibleWrites=Hh(i.visibleWrites,Re(o.path,m))})}return!0}else return!1}function Kw(i,t){if(i.snap)return Rt(i.path,t);for(const r in i.children)if(i.children.hasOwnProperty(r)&&Rt(Re(i.path,r),t))return!0;return!1}function Yw(i){i.visibleWrites=em(i.allWrites,Xw,ce()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function Xw(i){return i.visible}function em(i,t,r){let o=bt.empty();for(let a=0;a<i.length;++a){const c=i[a];if(t(c)){const f=c.path;let p;if(c.snap)Rt(r,f)?(p=ht(r,f),o=zi(o,p,c.snap)):Rt(f,r)&&(p=ht(f,r),o=zi(o,ce(),c.snap.getChild(p)));else if(c.children){if(Rt(r,f))p=ht(r,f),o=pu(o,p,c.children);else if(Rt(f,r))if(p=ht(f,r),se(p))o=pu(o,ce(),c.children);else{const m=Dr(c.children,ne(p));if(m){const _=m.getChild(ye(p));o=zi(o,ce(),_)}}}else throw zr("WriteRecord should have .snap or .children")}}return o}function tm(i,t,r,o,a){if(!o&&!a){const c=er(i.visibleWrites,t);if(c!=null)return c;{const f=Rn(i.visibleWrites,t);if(gu(f))return r;if(r==null&&!mu(f,ce()))return null;{const p=r||X.EMPTY_NODE;return Lr(f,p)}}}else{const c=Rn(i.visibleWrites,t);if(!a&&gu(c))return r;if(!a&&r==null&&!mu(c,ce()))return null;{const f=function(_){return(_.visible||a)&&(!o||!~o.indexOf(_.writeId))&&(Rt(_.path,t)||Rt(t,_.path))},p=em(i.allWrites,f,t),m=r||X.EMPTY_NODE;return Lr(p,m)}}}function Jw(i,t,r){let o=X.EMPTY_NODE;const a=er(i.visibleWrites,t);if(a)return a.isLeafNode()||a.forEachChild(Pe,(c,f)=>{o=o.updateImmediateChild(c,f)}),o;if(r){const c=Rn(i.visibleWrites,t);return r.forEachChild(Pe,(f,p)=>{const m=Lr(Rn(c,new he(f)),p);o=o.updateImmediateChild(f,m)}),Vh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}else{const c=Rn(i.visibleWrites,t);return Vh(c).forEach(f=>{o=o.updateImmediateChild(f.name,f.node)}),o}}function Zw(i,t,r,o,a){A(o||a,"Either existingEventSnap or existingServerSnap must exist");const c=Re(t,r);if(mu(i.visibleWrites,c))return null;{const f=Rn(i.visibleWrites,c);return gu(f)?a.getChild(r):Lr(f,a.getChild(r))}}function e0(i,t,r,o){const a=Re(t,r),c=er(i.visibleWrites,a);if(c!=null)return c;if(o.isCompleteForChild(r)){const f=Rn(i.visibleWrites,a);return Lr(f,o.getNode().getImmediateChild(r))}else return null}function t0(i,t){return er(i.visibleWrites,t)}function n0(i,t,r,o,a,c,f){let p;const m=Rn(i.visibleWrites,t),_=er(m,ce());if(_!=null)p=_;else if(r!=null)p=Lr(m,r);else return[];if(p=p.withIndex(f),!p.isEmpty()&&!p.isLeafNode()){const S=[],E=f.getCompare(),I=c?p.getReverseIteratorFrom(o,f):p.getIteratorFrom(o,f);let O=I.getNext();for(;O&&S.length<a;)E(O,o)!==0&&S.push(O),O=I.getNext();return S}else return[]}function r0(){return{visibleWrites:bt.empty(),allWrites:[],lastWriteId:-1}}function No(i,t,r,o){return tm(i.writeTree,i.treePath,t,r,o)}function Wu(i,t){return Jw(i.writeTree,i.treePath,t)}function $h(i,t,r,o){return Zw(i.writeTree,i.treePath,t,r,o)}function To(i,t){return t0(i.writeTree,Re(i.treePath,t))}function i0(i,t,r,o,a,c){return n0(i.writeTree,i.treePath,t,r,o,a,c)}function Hu(i,t,r){return e0(i.writeTree,i.treePath,t,r)}function nm(i,t){return rm(Re(i.treePath,t),i.writeTree)}function rm(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s0{constructor(){this.changeMap=new Map}trackChildChange(t){const r=t.type,o=t.childName;A(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),A(o!==".priority","Only non-priority child changes can be tracked.");const a=this.changeMap.get(o);if(a){const c=a.type;if(r==="child_added"&&c==="child_removed")this.changeMap.set(o,$i(o,t.snapshotNode,a.snapshotNode));else if(r==="child_removed"&&c==="child_added")this.changeMap.delete(o);else if(r==="child_removed"&&c==="child_changed")this.changeMap.set(o,Vi(o,a.oldSnap));else if(r==="child_changed"&&c==="child_added")this.changeMap.set(o,Or(o,t.snapshotNode));else if(r==="child_changed"&&c==="child_changed")this.changeMap.set(o,$i(o,t.snapshotNode,a.oldSnap));else throw zr("Illegal combination of changes: "+t+" occurred after "+a)}else this.changeMap.set(o,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o0{getCompleteChild(t){return null}getChildAfterChild(t,r,o){return null}}const im=new o0;class Vu{constructor(t,r,o=null){this.writes_=t,this.viewCache_=r,this.optCompleteServerCache_=o}getCompleteChild(t){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(t))return r.getNode().getImmediateChild(t);{const o=this.optCompleteServerCache_!=null?new Xn(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Hu(this.writes_,t,o)}}getChildAfterChild(t,r,o){const a=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Jn(this.viewCache_),c=i0(this.writes_,a,r,1,o,t);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l0(i){return{filter:i}}function a0(i,t){A(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),A(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function u0(i,t,r,o,a){const c=new s0;let f,p;if(r.type===jt.OVERWRITE){const _=r;_.source.fromUser?f=_u(i,t,_.path,_.snap,o,a,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered()&&!se(_.path),f=xo(i,t,_.path,_.snap,o,a,p,c))}else if(r.type===jt.MERGE){const _=r;_.source.fromUser?f=d0(i,t,_.path,_.children,o,a,c):(A(_.source.fromServer,"Unknown source."),p=_.source.tagged||t.serverCache.isFiltered(),f=yu(i,t,_.path,_.children,o,a,p,c))}else if(r.type===jt.ACK_USER_WRITE){const _=r;_.revert?f=p0(i,t,_.path,o,a,c):f=f0(i,t,_.path,_.affectedTree,o,a,c)}else if(r.type===jt.LISTEN_COMPLETE)f=h0(i,t,r.path,o,c);else throw zr("Unknown operation type: "+r.type);const m=c.getChanges();return c0(t,f,m),{viewCache:f,changes:m}}function c0(i,t,r){const o=t.eventCache;if(o.isFullyInitialized()){const a=o.getNode().isLeafNode()||o.getNode().isEmpty(),c=hu(i);(r.length>0||!i.eventCache.isFullyInitialized()||a&&!o.getNode().equals(c)||!o.getNode().getPriority().equals(c.getPriority()))&&r.push(Yp(hu(t)))}}function sm(i,t,r,o,a,c){const f=t.eventCache;if(To(o,r)!=null)return t;{let p,m;if(se(r))if(A(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const _=Jn(t),S=_ instanceof X?_:X.EMPTY_NODE,E=Wu(o,S);p=i.filter.updateFullNode(t.eventCache.getNode(),E,c)}else{const _=No(o,Jn(t));p=i.filter.updateFullNode(t.eventCache.getNode(),_,c)}else{const _=ne(r);if(_===".priority"){A(Pn(r)===1,"Can't have a priority with additional path components");const S=f.getNode();m=t.serverCache.getNode();const E=$h(o,r,S,m);E!=null?p=i.filter.updatePriority(S,E):p=f.getNode()}else{const S=ye(r);let E;if(f.isCompleteForChild(_)){m=t.serverCache.getNode();const I=$h(o,r,f.getNode(),m);I!=null?E=f.getNode().getImmediateChild(_).updateChild(S,I):E=f.getNode().getImmediateChild(_)}else E=Hu(o,_,t.serverCache);E!=null?p=i.filter.updateChild(f.getNode(),_,E,S,a,c):p=f.getNode()}}return Fi(t,p,f.isFullyInitialized()||se(r),i.filter.filtersNodes())}}function xo(i,t,r,o,a,c,f,p){const m=t.serverCache;let _;const S=f?i.filter:i.filter.getIndexedFilter();if(se(r))_=S.updateFullNode(m.getNode(),o,null);else if(S.filtersNodes()&&!m.isFiltered()){const O=m.getNode().updateChild(r,o);_=S.updateFullNode(m.getNode(),O,null)}else{const O=ne(r);if(!m.isCompleteForPath(r)&&Pn(r)>1)return t;const F=ye(r),$=m.getNode().getImmediateChild(O).updateChild(F,o);O===".priority"?_=S.updatePriority(m.getNode(),$):_=S.updateChild(m.getNode(),O,$,F,im,null)}const E=Jp(t,_,m.isFullyInitialized()||se(r),S.filtersNodes()),I=new Vu(a,E,c);return sm(i,E,r,a,I,p)}function _u(i,t,r,o,a,c,f){const p=t.eventCache;let m,_;const S=new Vu(a,t,c);if(se(r))_=i.filter.updateFullNode(t.eventCache.getNode(),o,f),m=Fi(t,_,!0,i.filter.filtersNodes());else{const E=ne(r);if(E===".priority")_=i.filter.updatePriority(t.eventCache.getNode(),o),m=Fi(t,_,p.isFullyInitialized(),p.isFiltered());else{const I=ye(r),O=p.getNode().getImmediateChild(E);let F;if(se(I))F=o;else{const q=S.getCompleteChild(E);q!=null?Au(I)===".priority"&&q.getChild(Hp(I)).isEmpty()?F=q:F=q.updateChild(I,o):F=X.EMPTY_NODE}if(O.equals(F))m=t;else{const q=i.filter.updateChild(p.getNode(),E,F,I,S,f);m=Fi(t,q,p.isFullyInitialized(),i.filter.filtersNodes())}}}return m}function qh(i,t){return i.eventCache.isCompleteForChild(t)}function d0(i,t,r,o,a,c,f){let p=t;return o.foreach((m,_)=>{const S=Re(r,m);qh(t,ne(S))&&(p=_u(i,p,S,_,a,c,f))}),o.foreach((m,_)=>{const S=Re(r,m);qh(t,ne(S))||(p=_u(i,p,S,_,a,c,f))}),p}function Qh(i,t,r){return r.foreach((o,a)=>{t=t.updateChild(o,a)}),t}function yu(i,t,r,o,a,c,f,p){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let m=t,_;se(r)?_=o:_=new ge(null).setTree(r,o);const S=t.serverCache.getNode();return _.children.inorderTraversal((E,I)=>{if(S.hasChild(E)){const O=t.serverCache.getNode().getImmediateChild(E),F=Qh(i,O,I);m=xo(i,m,new he(E),F,a,c,f,p)}}),_.children.inorderTraversal((E,I)=>{const O=!t.serverCache.isCompleteForChild(E)&&I.value===null;if(!S.hasChild(E)&&!O){const F=t.serverCache.getNode().getImmediateChild(E),q=Qh(i,F,I);m=xo(i,m,new he(E),q,a,c,f,p)}}),m}function f0(i,t,r,o,a,c,f){if(To(a,r)!=null)return t;const p=t.serverCache.isFiltered(),m=t.serverCache;if(o.value!=null){if(se(r)&&m.isFullyInitialized()||m.isCompleteForPath(r))return xo(i,t,r,m.getNode().getChild(r),a,c,p,f);if(se(r)){let _=new ge(null);return m.getNode().forEachChild(Rr,(S,E)=>{_=_.set(new he(S),E)}),yu(i,t,r,_,a,c,p,f)}else return t}else{let _=new ge(null);return o.foreach((S,E)=>{const I=Re(r,S);m.isCompleteForPath(I)&&(_=_.set(S,m.getNode().getChild(I)))}),yu(i,t,r,_,a,c,p,f)}}function h0(i,t,r,o,a){const c=t.serverCache,f=Jp(t,c.getNode(),c.isFullyInitialized()||se(r),c.isFiltered());return sm(i,f,r,o,im,a)}function p0(i,t,r,o,a,c){let f;if(To(o,r)!=null)return t;{const p=new Vu(o,t,a),m=t.eventCache.getNode();let _;if(se(r)||ne(r)===".priority"){let S;if(t.serverCache.isFullyInitialized())S=No(o,Jn(t));else{const E=t.serverCache.getNode();A(E instanceof X,"serverChildren would be complete if leaf node"),S=Wu(o,E)}S=S,_=i.filter.updateFullNode(m,S,c)}else{const S=ne(r);let E=Hu(o,S,t.serverCache);E==null&&t.serverCache.isCompleteForChild(S)&&(E=m.getImmediateChild(S)),E!=null?_=i.filter.updateChild(m,S,E,ye(r),p,c):t.eventCache.getNode().hasChild(S)?_=i.filter.updateChild(m,S,X.EMPTY_NODE,ye(r),p,c):_=m,_.isEmpty()&&t.serverCache.isFullyInitialized()&&(f=No(o,Jn(t)),f.isLeafNode()&&(_=i.filter.updateFullNode(_,f,c)))}return f=t.serverCache.isFullyInitialized()||To(o,ce())!=null,Fi(t,_,f,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(t,r){this.query_=t,this.eventRegistrations_=[];const o=this.query_._queryParams,a=new Fu(o.getIndex()),c=Ow(o);this.processor_=l0(c);const f=r.serverCache,p=r.eventCache,m=a.updateFullNode(X.EMPTY_NODE,f.getNode(),null),_=c.updateFullNode(X.EMPTY_NODE,p.getNode(),null),S=new Xn(m,f.isFullyInitialized(),a.filtersNodes()),E=new Xn(_,p.isFullyInitialized(),c.filtersNodes());this.viewCache_=Fo(E,S),this.eventGenerator_=new Uw(this.query_)}get query(){return this.query_}}function g0(i){return i.viewCache_.serverCache.getNode()}function _0(i,t){const r=Jn(i.viewCache_);return r&&(i.query._queryParams.loadsAllData()||!se(t)&&!r.getImmediateChild(ne(t)).isEmpty())?r.getChild(t):null}function Gh(i){return i.eventRegistrations_.length===0}function y0(i,t){i.eventRegistrations_.push(t)}function Kh(i,t,r){const o=[];if(r){A(t==null,"A cancel should cancel all event registrations.");const a=i.query._path;i.eventRegistrations_.forEach(c=>{const f=c.createCancelEvent(r,a);f&&o.push(f)})}if(t){let a=[];for(let c=0;c<i.eventRegistrations_.length;++c){const f=i.eventRegistrations_[c];if(!f.matches(t))a.push(f);else if(t.hasAnyCallback()){a=a.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=a}else i.eventRegistrations_=[];return o}function Yh(i,t,r,o){t.type===jt.MERGE&&t.source.queryId!==null&&(A(Jn(i.viewCache_),"We should always have a full cache before handling merges"),A(hu(i.viewCache_),"Missing event cache, even though we have a server cache"));const a=i.viewCache_,c=u0(i.processor_,a,t,r,o);return a0(i.processor_,c.viewCache),A(c.viewCache.serverCache.isFullyInitialized()||!a.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,om(i,c.changes,c.viewCache.eventCache.getNode(),null)}function v0(i,t){const r=i.viewCache_.eventCache,o=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(Pe,(c,f)=>{o.push(Or(c,f))}),r.isFullyInitialized()&&o.push(Yp(r.getNode())),om(i,o,r.getNode(),t)}function om(i,t,r,o){const a=o?[o]:i.eventRegistrations_;return Bw(i.eventGenerator_,t,r,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ro;class w0{constructor(){this.views=new Map}}function E0(i){A(!Ro,"__referenceConstructor has already been defined"),Ro=i}function C0(){return A(Ro,"Reference.ts has not been loaded"),Ro}function S0(i){return i.views.size===0}function $u(i,t,r,o){const a=t.source.queryId;if(a!==null){const c=i.views.get(a);return A(c!=null,"SyncTree gave us an op for an invalid query."),Yh(c,t,r,o)}else{let c=[];for(const f of i.views.values())c=c.concat(Yh(f,t,r,o));return c}}function k0(i,t,r,o,a){const c=t._queryIdentifier,f=i.views.get(c);if(!f){let p=No(r,a?o:null),m=!1;p?m=!0:o instanceof X?(p=Wu(r,o),m=!1):(p=X.EMPTY_NODE,m=!1);const _=Fo(new Xn(p,m,!1),new Xn(o,a,!1));return new m0(t,_)}return f}function I0(i,t,r,o,a,c){const f=k0(i,t,o,a,c);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,f),y0(f,r),v0(f,r)}function N0(i,t,r,o){const a=t._queryIdentifier,c=[];let f=[];const p=Dn(i);if(a==="default")for(const[m,_]of i.views.entries())f=f.concat(Kh(_,r,o)),Gh(_)&&(i.views.delete(m),_.query._queryParams.loadsAllData()||c.push(_.query));else{const m=i.views.get(a);m&&(f=f.concat(Kh(m,r,o)),Gh(m)&&(i.views.delete(a),m.query._queryParams.loadsAllData()||c.push(m.query)))}return p&&!Dn(i)&&c.push(new(C0())(t._repo,t._path)),{removed:c,events:f}}function lm(i){const t=[];for(const r of i.views.values())r.query._queryParams.loadsAllData()||t.push(r);return t}function Pr(i,t){let r=null;for(const o of i.views.values())r=r||_0(o,t);return r}function am(i,t){if(t._queryParams.loadsAllData())return zo(i);{const o=t._queryIdentifier;return i.views.get(o)}}function um(i,t){return am(i,t)!=null}function Dn(i){return zo(i)!=null}function zo(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Po;function T0(i){A(!Po,"__referenceConstructor has already been defined"),Po=i}function x0(){return A(Po,"Reference.ts has not been loaded"),Po}let R0=1;class Xh{constructor(t){this.listenProvider_=t,this.syncPointTree_=new ge(null),this.pendingWriteTree_=r0(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cm(i,t,r,o,a){return $w(i.pendingWriteTree_,t,r,o,a),a?br(i,new Yn(ju(),t,r)):[]}function P0(i,t,r,o){qw(i.pendingWriteTree_,t,r,o);const a=ge.fromObject(r);return br(i,new Mr(ju(),t,a))}function Nn(i,t,r=!1){const o=Qw(i.pendingWriteTree_,t);if(Gw(i.pendingWriteTree_,t)){let c=new ge(null);return o.snap!=null?c=c.set(ce(),!0):Ye(o.children,f=>{c=c.set(new he(f),!0)}),br(i,new Io(o.path,c,r))}else return[]}function jo(i,t,r){return br(i,new Yn(bu(),t,r))}function D0(i,t,r){const o=ge.fromObject(r);return br(i,new Mr(bu(),t,o))}function A0(i,t){return br(i,new Qi(bu(),t))}function O0(i,t,r){const o=Qu(i,r);if(o){const a=Gu(o),c=a.path,f=a.queryId,p=ht(c,t),m=new Qi(Uu(f),p);return Ku(i,c,m)}else return[]}function vu(i,t,r,o,a=!1){const c=t._path,f=i.syncPointTree_.get(c);let p=[];if(f&&(t._queryIdentifier==="default"||um(f,t))){const m=N0(f,t,r,o);S0(f)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const _=m.removed;if(p=m.events,!a){const S=_.findIndex(I=>I._queryParams.loadsAllData())!==-1,E=i.syncPointTree_.findOnPath(c,(I,O)=>Dn(O));if(S&&!E){const I=i.syncPointTree_.subtree(c);if(!I.isEmpty()){const O=F0(I);for(let F=0;F<O.length;++F){const q=O[F],$=q.query,Fe=hm(i,q);i.listenProvider_.startListening(ji($),Do(i,$),Fe.hashFn,Fe.onComplete)}}}!E&&_.length>0&&!o&&(S?i.listenProvider_.stopListening(ji(t),null):_.forEach(I=>{const O=i.queryToTagMap.get(bo(I));i.listenProvider_.stopListening(ji(I),O)}))}z0(i,_)}return p}function M0(i,t,r,o){const a=Qu(i,o);if(a!=null){const c=Gu(a),f=c.path,p=c.queryId,m=ht(f,t),_=new Yn(Uu(p),m,r);return Ku(i,f,_)}else return[]}function L0(i,t,r,o){const a=Qu(i,o);if(a){const c=Gu(a),f=c.path,p=c.queryId,m=ht(f,t),_=ge.fromObject(r),S=new Mr(Uu(p),m,_);return Ku(i,f,S)}else return[]}function Jh(i,t,r,o=!1){const a=t._path;let c=null,f=!1;i.syncPointTree_.foreachOnPath(a,(I,O)=>{const F=ht(I,a);c=c||Pr(O,F),f=f||Dn(O)});let p=i.syncPointTree_.get(a);p?(f=f||Dn(p),c=c||Pr(p,ce())):(p=new w0,i.syncPointTree_=i.syncPointTree_.set(a,p));let m;c!=null?m=!0:(m=!1,c=X.EMPTY_NODE,i.syncPointTree_.subtree(a).foreachChild((O,F)=>{const q=Pr(F,ce());q&&(c=c.updateImmediateChild(O,q))}));const _=um(p,t);if(!_&&!t._queryParams.loadsAllData()){const I=bo(t);A(!i.queryToTagMap.has(I),"View does not exist, but we have a tag");const O=j0();i.queryToTagMap.set(I,O),i.tagToQueryMap.set(O,I)}const S=Bu(i.pendingWriteTree_,a);let E=I0(p,t,r,S,c,m);if(!_&&!f&&!o){const I=am(p,t);E=E.concat(b0(i,t,I))}return E}function qu(i,t,r){const a=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(t,(f,p)=>{const m=ht(f,t),_=Pr(p,m);if(_)return _});return tm(a,t,c,r,!0)}function br(i,t){return dm(t,i.syncPointTree_,null,Bu(i.pendingWriteTree_,ce()))}function dm(i,t,r,o){if(se(i.path))return fm(i,t,r,o);{const a=t.get(ce());r==null&&a!=null&&(r=Pr(a,ce()));let c=[];const f=ne(i.path),p=i.operationForChild(f),m=t.children.get(f);if(m&&p){const _=r?r.getImmediateChild(f):null,S=nm(o,f);c=c.concat(dm(p,m,_,S))}return a&&(c=c.concat($u(a,i,o,r))),c}}function fm(i,t,r,o){const a=t.get(ce());r==null&&a!=null&&(r=Pr(a,ce()));let c=[];return t.children.inorderTraversal((f,p)=>{const m=r?r.getImmediateChild(f):null,_=nm(o,f),S=i.operationForChild(f);S&&(c=c.concat(fm(S,p,m,_)))}),a&&(c=c.concat($u(a,i,o,r))),c}function hm(i,t){const r=t.query,o=Do(i,r);return{hashFn:()=>(g0(t)||X.EMPTY_NODE).hash(),onComplete:a=>{if(a==="ok")return o?O0(i,r._path,o):A0(i,r._path);{const c=Dv(a,r);return vu(i,r,null,c)}}}}function Do(i,t){const r=bo(t);return i.queryToTagMap.get(r)}function bo(i){return i._path.toString()+"$"+i._queryIdentifier}function Qu(i,t){return i.tagToQueryMap.get(t)}function Gu(i){const t=i.indexOf("$");return A(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new he(i.substr(0,t))}}function Ku(i,t,r){const o=i.syncPointTree_.get(t);A(o,"Missing sync point for query tag that we're tracking");const a=Bu(i.pendingWriteTree_,t);return $u(o,r,a,null)}function F0(i){return i.fold((t,r,o)=>{if(r&&Dn(r))return[zo(r)];{let a=[];return r&&(a=lm(r)),Ye(o,(c,f)=>{a=a.concat(f)}),a}})}function ji(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(x0())(i._repo,i._path):i}function z0(i,t){for(let r=0;r<t.length;++r){const o=t[r];if(!o._queryParams.loadsAllData()){const a=bo(o),c=i.queryToTagMap.get(a);i.queryToTagMap.delete(a),i.tagToQueryMap.delete(c)}}}function j0(){return R0++}function b0(i,t,r){const o=t._path,a=Do(i,t),c=hm(i,r),f=i.listenProvider_.startListening(ji(t),a,c.hashFn,c.onComplete),p=i.syncPointTree_.subtree(o);if(a)A(!Dn(p.value),"If we're adding a query, it shouldn't be shadowed");else{const m=p.fold((_,S,E)=>{if(!se(_)&&S&&Dn(S))return[zo(S).query];{let I=[];return S&&(I=I.concat(lm(S).map(O=>O.query))),Ye(E,(O,F)=>{I=I.concat(F)}),I}});for(let _=0;_<m.length;++_){const S=m[_];i.listenProvider_.stopListening(ji(S),Do(i,S))}}return f}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yu{constructor(t){this.node_=t}getImmediateChild(t){const r=this.node_.getImmediateChild(t);return new Yu(r)}node(){return this.node_}}class Xu{constructor(t,r){this.syncTree_=t,this.path_=r}getImmediateChild(t){const r=Re(this.path_,t);return new Xu(this.syncTree_,r)}node(){return qu(this.syncTree_,this.path_)}}const U0=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},Zh=function(i,t,r){if(!i||typeof i!="object")return i;if(A(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return B0(i[".sv"],t,r);if(typeof i[".sv"]=="object")return W0(i[".sv"],t);A(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},B0=function(i,t,r){switch(i){case"timestamp":return r.timestamp;default:A(!1,"Unexpected server value: "+i)}},W0=function(i,t,r){i.hasOwnProperty("increment")||A(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const o=i.increment;typeof o!="number"&&A(!1,"Unexpected increment value: "+o);const a=t.node();if(A(a!==null&&typeof a<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!a.isLeafNode())return o;const f=a.getValue();return typeof f!="number"?o:f+o},pm=function(i,t,r,o){return Ju(t,new Xu(r,i),o)},mm=function(i,t,r){return Ju(i,new Yu(t),r)};function Ju(i,t,r){const o=i.getPriority().val(),a=Zh(o,t.getImmediateChild(".priority"),r);let c;if(i.isLeafNode()){const f=i,p=Zh(f.getValue(),t,r);return p!==f.getValue()||a!==f.getPriority().val()?new Be(p,He(a)):i}else{const f=i;return c=f,a!==f.getPriority().val()&&(c=c.updatePriority(new Be(a))),f.forEachChild(Pe,(p,m)=>{const _=Ju(m,t.getImmediateChild(p),r);_!==m&&(c=c.updateImmediateChild(p,_))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zu{constructor(t="",r=null,o={children:{},childCount:0}){this.name=t,this.parent=r,this.node=o}}function ec(i,t){let r=t instanceof he?t:new he(t),o=i,a=ne(r);for(;a!==null;){const c=Dr(o.node.children,a)||{children:{},childCount:0};o=new Zu(a,o,c),r=ye(r),a=ne(r)}return o}function Ur(i){return i.node.value}function gm(i,t){i.node.value=t,wu(i)}function _m(i){return i.node.childCount>0}function H0(i){return Ur(i)===void 0&&!_m(i)}function Uo(i,t){Ye(i.node.children,(r,o)=>{t(new Zu(r,i,o))})}function ym(i,t,r,o){r&&t(i),Uo(i,a=>{ym(a,t,!0)})}function V0(i,t,r){let o=i.parent;for(;o!==null;){if(t(o))return!0;o=o.parent}return!1}function es(i){return new he(i.parent===null?i.name:es(i.parent)+"/"+i.name)}function wu(i){i.parent!==null&&$0(i.parent,i.name,i)}function $0(i,t,r){const o=H0(r),a=Qt(i.node.children,t);o&&a?(delete i.node.children[t],i.node.childCount--,wu(i)):!o&&!a&&(i.node.children[t]=r.node,i.node.childCount++,wu(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q0=/[\[\].#$\/\u0000-\u001F\u007F]/,Q0=/[\[\].#$\u0000-\u001F\u007F]/,Za=10*1024*1024,tc=function(i){return typeof i=="string"&&i.length!==0&&!q0.test(i)},vm=function(i){return typeof i=="string"&&i.length!==0&&!Q0.test(i)},G0=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),vm(i)},K0=function(i){return i===null||typeof i=="string"||typeof i=="number"&&!Tu(i)||i&&typeof i=="object"&&Qt(i,".sv")},Y0=function(i,t,r,o){Bo(Oo(i,"value"),t,r)},Bo=function(i,t,r){const o=r instanceof he?new dw(r,i):r;if(t===void 0)throw new Error(i+"contains undefined "+Qn(o));if(typeof t=="function")throw new Error(i+"contains a function "+Qn(o)+" with contents = "+t.toString());if(Tu(t))throw new Error(i+"contains "+t.toString()+" "+Qn(o));if(typeof t=="string"&&t.length>Za/3&&Mo(t)>Za)throw new Error(i+"contains a string greater than "+Za+" utf8 bytes "+Qn(o)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let a=!1,c=!1;if(Ye(t,(f,p)=>{if(f===".value")a=!0;else if(f!==".priority"&&f!==".sv"&&(c=!0,!tc(f)))throw new Error(i+" contains an invalid key ("+f+") "+Qn(o)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);fw(o,f),Bo(i,p,o),hw(o)}),a&&c)throw new Error(i+' contains ".value" child '+Qn(o)+" in addition to actual children.")}},X0=function(i,t){let r,o;for(r=0;r<t.length;r++){o=t[r];const c=Hi(o);for(let f=0;f<c.length;f++)if(!(c[f]===".priority"&&f===c.length-1)){if(!tc(c[f]))throw new Error(i+"contains an invalid key ("+c[f]+") in path "+o.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(cw);let a=null;for(r=0;r<t.length;r++){if(o=t[r],a!==null&&Rt(a,o))throw new Error(i+"contains a path "+a.toString()+" that is ancestor of another path "+o.toString());a=o}},J0=function(i,t,r,o){const a=Oo(i,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(a+" must be an object containing the children to replace.");const c=[];Ye(t,(f,p)=>{const m=new he(f);if(Bo(a,p,Re(r,m)),Au(m)===".priority"&&!K0(p))throw new Error(a+"contains an invalid value for '"+m.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");c.push(m)}),X0(a,c)},wm=function(i,t,r,o){if(!vm(r))throw new Error(Oo(i,t)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Z0=function(i,t,r,o){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),wm(i,t,r)},eE=function(i,t){if(ne(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},tE=function(i,t){const r=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!tc(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!G0(r))throw new Error(Oo(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wo(i,t){let r=null;for(let o=0;o<t.length;o++){const a=t[o],c=a.getPath();r!==null&&!Ou(c,r.path)&&(i.eventLists_.push(r),r=null),r===null&&(r={events:[],path:c}),r.events.push(a)}r&&i.eventLists_.push(r)}function Em(i,t,r){Wo(i,r),Cm(i,o=>Ou(o,t))}function Ut(i,t,r){Wo(i,r),Cm(i,o=>Rt(o,t)||Rt(t,o))}function Cm(i,t){i.recursionDepth_++;let r=!0;for(let o=0;o<i.eventLists_.length;o++){const a=i.eventLists_[o];if(a){const c=a.path;t(c)?(rE(i.eventLists_[o]),i.eventLists_[o]=null):r=!1}}r&&(i.eventLists_=[]),i.recursionDepth_--}function rE(i){for(let t=0;t<i.events.length;t++){const r=i.events[t];if(r!==null){i.events[t]=null;const o=r.getEventRunner();Mi&&Ke("event: "+r.toString()),jr(o)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iE="repo_interrupt",sE=25;class oE{constructor(t,r,o,a){this.repoInfo_=t,this.forceRestClient_=r,this.authTokenProvider_=o,this.appCheckProvider_=a,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new nE,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=ko(),this.transactionQueueTree_=new Zu,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function lE(i,t,r){if(i.stats_=Pu(i.repoInfo_),i.forceRestClient_||Lv())i.server_=new So(i.repoInfo_,(o,a,c,f)=>{ep(i,o,a,c,f)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>tp(i,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(r)}catch(o){throw new Error("Invalid authOverride provided: "+o)}}i.persistentConnection_=new rn(i.repoInfo_,t,(o,a,c,f)=>{ep(i,o,a,c,f)},o=>{tp(i,o)},o=>{uE(i,o)},i.authTokenProvider_,i.appCheckProvider_,r),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(o=>{i.server_.refreshAuthToken(o)}),i.appCheckProvider_.addTokenChangeListener(o=>{i.server_.refreshAppCheckToken(o.token)}),i.statsReporter_=Uv(i.repoInfo_,()=>new bw(i.stats_,i.server_)),i.infoData_=new Mw,i.infoSyncTree_=new Xh({startListening:(o,a,c,f)=>{let p=[];const m=i.infoData_.getNode(o._path);return m.isEmpty()||(p=jo(i.infoSyncTree_,o._path,m),setTimeout(()=>{f("ok")},0)),p},stopListening:()=>{}}),nc(i,"connected",!1),i.serverSyncTree_=new Xh({startListening:(o,a,c,f)=>(i.server_.listen(o,c,a,(p,m)=>{const _=f(p,m);Ut(i.eventQueue_,o._path,_)}),[]),stopListening:(o,a)=>{i.server_.unlisten(o,a)}})}function aE(i){const r=i.infoData_.getNode(new he(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function Ho(i){return U0({timestamp:aE(i)})}function ep(i,t,r,o,a){i.dataUpdateCount++;const c=new he(t);r=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,r):r;let f=[];if(a)if(o){const m=_o(r,_=>He(_));f=L0(i.serverSyncTree_,c,m,a)}else{const m=He(r);f=M0(i.serverSyncTree_,c,m,a)}else if(o){const m=_o(r,_=>He(_));f=D0(i.serverSyncTree_,c,m)}else{const m=He(r);f=jo(i.serverSyncTree_,c,m)}let p=c;f.length>0&&(p=Fr(i,c)),Ut(i.eventQueue_,p,f)}function tp(i,t){nc(i,"connected",t),t===!1&&fE(i)}function uE(i,t){Ye(t,(r,o)=>{nc(i,r,o)})}function nc(i,t,r){const o=new he("/.info/"+t),a=He(r);i.infoData_.updateSnapshot(o,a);const c=jo(i.infoSyncTree_,o,a);Ut(i.eventQueue_,o,c)}function rc(i){return i.nextWriteId_++}function cE(i,t,r,o,a){Vo(i,"set",{path:t.toString(),value:r,priority:o});const c=Ho(i),f=He(r,o),p=qu(i.serverSyncTree_,t),m=mm(f,p,c),_=rc(i),S=cm(i.serverSyncTree_,t,m,_,!0);Wo(i.eventQueue_,S),i.server_.put(t.toString(),f.val(!0),(I,O)=>{const F=I==="ok";F||st("set at "+t+" failed: "+I);const q=Nn(i.serverSyncTree_,_,!F);Ut(i.eventQueue_,t,q),Eu(i,a,I,O)});const E=sc(i,t);Fr(i,E),Ut(i.eventQueue_,E,[])}function dE(i,t,r,o){Vo(i,"update",{path:t.toString(),value:r});let a=!0;const c=Ho(i),f={};if(Ye(r,(p,m)=>{a=!1,f[p]=pm(Re(t,p),He(m),i.serverSyncTree_,c)}),a)Ke("update() called with empty data.  Don't do anything."),Eu(i,o,"ok",void 0);else{const p=rc(i),m=P0(i.serverSyncTree_,t,f,p);Wo(i.eventQueue_,m),i.server_.merge(t.toString(),r,(_,S)=>{const E=_==="ok";E||st("update at "+t+" failed: "+_);const I=Nn(i.serverSyncTree_,p,!E),O=I.length>0?Fr(i,t):t;Ut(i.eventQueue_,O,I),Eu(i,o,_,S)}),Ye(r,_=>{const S=sc(i,Re(t,_));Fr(i,S)}),Ut(i.eventQueue_,t,[])}}function fE(i){Vo(i,"onDisconnectEvents");const t=Ho(i),r=ko();fu(i.onDisconnect_,ce(),(a,c)=>{const f=pm(a,c,i.serverSyncTree_,t);Xp(r,a,f)});let o=[];fu(r,ce(),(a,c)=>{o=o.concat(jo(i.serverSyncTree_,a,c));const f=sc(i,a);Fr(i,f)}),i.onDisconnect_=ko(),Ut(i.eventQueue_,ce(),o)}function hE(i,t,r){let o;ne(t._path)===".info"?o=Jh(i.infoSyncTree_,t,r):o=Jh(i.serverSyncTree_,t,r),Em(i.eventQueue_,t._path,o)}function pE(i,t,r){let o;ne(t._path)===".info"?o=vu(i.infoSyncTree_,t,r):o=vu(i.serverSyncTree_,t,r),Em(i.eventQueue_,t._path,o)}function mE(i){i.persistentConnection_&&i.persistentConnection_.interrupt(iE)}function Vo(i,...t){let r="";i.persistentConnection_&&(r=i.persistentConnection_.id+":"),Ke(r,...t)}function Eu(i,t,r,o){t&&jr(()=>{if(r==="ok")t(null);else{const a=(r||"error").toUpperCase();let c=a;o&&(c+=": "+o);const f=new Error(c);f.code=a,t(f)}})}function Sm(i,t,r){return qu(i.serverSyncTree_,t,r)||X.EMPTY_NODE}function ic(i,t=i.transactionQueueTree_){if(t||$o(i,t),Ur(t)){const r=Im(i,t);A(r.length>0,"Sending zero length transaction queue"),r.every(a=>a.status===0)&&gE(i,es(t),r)}else _m(t)&&Uo(t,r=>{ic(i,r)})}function gE(i,t,r){const o=r.map(_=>_.currentWriteId),a=Sm(i,t,o);let c=a;const f=a.hash();for(let _=0;_<r.length;_++){const S=r[_];A(S.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),S.status=1,S.retryCount++;const E=ht(t,S.path);c=c.updateChild(E,S.currentOutputSnapshotRaw)}const p=c.val(!0),m=t;i.server_.put(m.toString(),p,_=>{Vo(i,"transaction put response",{path:m.toString(),status:_});let S=[];if(_==="ok"){const E=[];for(let I=0;I<r.length;I++)r[I].status=2,S=S.concat(Nn(i.serverSyncTree_,r[I].currentWriteId)),r[I].onComplete&&E.push(()=>r[I].onComplete(null,!0,r[I].currentOutputSnapshotResolved)),r[I].unwatcher();$o(i,ec(i.transactionQueueTree_,t)),ic(i,i.transactionQueueTree_),Ut(i.eventQueue_,t,S);for(let I=0;I<E.length;I++)jr(E[I])}else{if(_==="datastale")for(let E=0;E<r.length;E++)r[E].status===3?r[E].status=4:r[E].status=0;else{st("transaction at "+m.toString()+" failed: "+_);for(let E=0;E<r.length;E++)r[E].status=4,r[E].abortReason=_}Fr(i,t)}},f)}function Fr(i,t){const r=km(i,t),o=es(r),a=Im(i,r);return _E(i,a,o),o}function _E(i,t,r){if(t.length===0)return;const o=[];let a=[];const f=t.filter(p=>p.status===0).map(p=>p.currentWriteId);for(let p=0;p<t.length;p++){const m=t[p],_=ht(r,m.path);let S=!1,E;if(A(_!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),m.status===4)S=!0,E=m.abortReason,a=a.concat(Nn(i.serverSyncTree_,m.currentWriteId,!0));else if(m.status===0)if(m.retryCount>=sE)S=!0,E="maxretry",a=a.concat(Nn(i.serverSyncTree_,m.currentWriteId,!0));else{const I=Sm(i,m.path,f);m.currentInputSnapshot=I;const O=t[p].update(I.val());if(O!==void 0){Bo("transaction failed: Data returned ",O,m.path);let F=He(O);typeof O=="object"&&O!=null&&Qt(O,".priority")||(F=F.updatePriority(I.getPriority()));const $=m.currentWriteId,Fe=Ho(i),Ie=mm(F,I,Fe);m.currentOutputSnapshotRaw=F,m.currentOutputSnapshotResolved=Ie,m.currentWriteId=rc(i),f.splice(f.indexOf($),1),a=a.concat(cm(i.serverSyncTree_,m.path,Ie,m.currentWriteId,m.applyLocally)),a=a.concat(Nn(i.serverSyncTree_,$,!0))}else S=!0,E="nodata",a=a.concat(Nn(i.serverSyncTree_,m.currentWriteId,!0))}Ut(i.eventQueue_,r,a),a=[],S&&(t[p].status=2,function(I){setTimeout(I,Math.floor(0))}(t[p].unwatcher),t[p].onComplete&&(E==="nodata"?o.push(()=>t[p].onComplete(null,!1,t[p].currentInputSnapshot)):o.push(()=>t[p].onComplete(new Error(E),!1,null))))}$o(i,i.transactionQueueTree_);for(let p=0;p<o.length;p++)jr(o[p]);ic(i,i.transactionQueueTree_)}function km(i,t){let r,o=i.transactionQueueTree_;for(r=ne(t);r!==null&&Ur(o)===void 0;)o=ec(o,r),t=ye(t),r=ne(t);return o}function Im(i,t){const r=[];return Nm(i,t,r),r.sort((o,a)=>o.order-a.order),r}function Nm(i,t,r){const o=Ur(t);if(o)for(let a=0;a<o.length;a++)r.push(o[a]);Uo(t,a=>{Nm(i,a,r)})}function $o(i,t){const r=Ur(t);if(r){let o=0;for(let a=0;a<r.length;a++)r[a].status!==2&&(r[o]=r[a],o++);r.length=o,gm(t,r.length>0?r:void 0)}Uo(t,o=>{$o(i,o)})}function sc(i,t){const r=es(km(i,t)),o=ec(i.transactionQueueTree_,t);return V0(o,a=>{eu(i,a)}),eu(i,o),ym(o,a=>{eu(i,a)}),r}function eu(i,t){const r=Ur(t);if(r){const o=[];let a=[],c=-1;for(let f=0;f<r.length;f++)r[f].status===3||(r[f].status===1?(A(c===f-1,"All SENT items should be at beginning of queue."),c=f,r[f].status=3,r[f].abortReason="set"):(A(r[f].status===0,"Unexpected transaction status in abort"),r[f].unwatcher(),a=a.concat(Nn(i.serverSyncTree_,r[f].currentWriteId,!0)),r[f].onComplete&&o.push(r[f].onComplete.bind(null,new Error("set"),!1,null))));c===-1?gm(t,void 0):r.length=c+1,Ut(i.eventQueue_,es(t),a);for(let f=0;f<o.length;f++)jr(o[f])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yE(i){let t="";const r=i.split("/");for(let o=0;o<r.length;o++)if(r[o].length>0){let a=r[o];try{a=decodeURIComponent(a.replace(/\+/g," "))}catch{}t+="/"+a}return t}function vE(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const r of i.split("&")){if(r.length===0)continue;const o=r.split("=");o.length===2?t[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):st(`Invalid query segment '${r}' in query '${i}'`)}return t}const np=function(i,t){const r=wE(i),o=r.namespace;r.domain==="firebase.com"&&on(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!o||o==="undefined")&&r.domain!=="localhost"&&on("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||Nv();const a=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Mp(r.host,r.secure,o,a,t,"",o!==r.subdomain),path:new he(r.pathString)}},wE=function(i){let t="",r="",o="",a="",c="",f=!0,p="https",m=443;if(typeof i=="string"){let _=i.indexOf("//");_>=0&&(p=i.substring(0,_-1),i=i.substring(_+2));let S=i.indexOf("/");S===-1&&(S=i.length);let E=i.indexOf("?");E===-1&&(E=i.length),t=i.substring(0,Math.min(S,E)),S<E&&(a=yE(i.substring(S,E)));const I=vE(i.substring(Math.min(i.length,E)));_=t.indexOf(":"),_>=0?(f=p==="https"||p==="wss",m=parseInt(t.substring(_+1),10)):_=t.length;const O=t.slice(0,_);if(O.toLowerCase()==="localhost")r="localhost";else if(O.split(".").length<=2)r=O;else{const F=t.indexOf(".");o=t.substring(0,F).toLowerCase(),r=t.substring(F+1),c=o}"ns"in I&&(c=I.ns)}return{host:t,port:m,domain:r,subdomain:o,secure:f,scheme:p,pathString:a,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(t,r,o,a){this.eventType=t,this.eventRegistration=r,this.snapshot=o,this.prevName=a}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}}class CE{constructor(t,r,o){this.eventRegistration=t,this.error=r,this.path=o}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(t,r){this.snapshotCallback=t,this.cancelCallback=r}onValue(t,r){this.snapshotCallback.call(null,t,r)}onCancel(t){return A(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(t,r,o,a){this._repo=t,this._path=r,this._queryParams=o,this._orderByCalled=a}get key(){return se(this._path)?null:Au(this._path)}get ref(){return new An(this._repo,this._path)}get _queryIdentifier(){const t=Bh(this._queryParams),r=xu(t);return r==="{}"?"default":r}get _queryObject(){return Bh(this._queryParams)}isEqual(t){if(t=Yi(t),!(t instanceof oc))return!1;const r=this._repo===t._repo,o=Ou(this._path,t._path),a=this._queryIdentifier===t._queryIdentifier;return r&&o&&a}toJSON(){return this.toString()}toString(){return this._repo.toString()+uw(this._path)}}class An extends oc{constructor(t,r){super(t,r,new zu,!1)}get parent(){const t=Hp(this._path);return t===null?null:new An(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Ao{constructor(t,r,o){this._node=t,this.ref=r,this._index=o}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const r=new he(t),o=Cu(this.ref,t);return new Ao(this._node.getChild(r),o,Pe)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(o,a)=>t(new Ao(a,Cu(this.ref,o),Pe)))}hasChild(t){const r=new he(t);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ai(i,t){return i=Yi(i),i._checkNotDeleted("ref"),t!==void 0?Cu(i._root,t):i._root}function Cu(i,t){return i=Yi(i),ne(i._path)===null?Z0("child","path",t):wm("child","path",t),new An(i._repo,Re(i._path,t))}function kE(i,t){i=Yi(i),eE("set",i._path),Y0("set",t,i._path);const r=new Gi;return cE(i._repo,i._path,t,null,r.wrapCallback(()=>{})),r.promise}function tu(i,t){J0("update",t,i._path);const r=new Gi;return dE(i._repo,i._path,t,r.wrapCallback(()=>{})),r.promise}class lc{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,r){const o=r._queryParams.getIndex();return new EE("value",this,new Ao(t.snapshotNode,new An(r._repo,r._path),o))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,r){return this.callbackContext.hasCancelCallback?new CE(this,t,r):null}matches(t){return t instanceof lc?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function IE(i,t,r,o,a){const c=new SE(r,void 0),f=new lc(c);return hE(i._repo,i,f),()=>pE(i._repo,i,f)}function NE(i,t,r,o){return IE(i,"value",t)}E0(An);T0(An);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="FIREBASE_DATABASE_EMULATOR_HOST",Su={};let xE=!1;function RE(i,t,r,o){i.repoInfo_=new Mp(`${t}:${r}`,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0),o&&(i.authTokenProvider_=o)}function PE(i,t,r,o,a){let c=o||i.options.databaseURL;c===void 0&&(i.options.projectId||on("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ke("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let f=np(c,a),p=f.repoInfo,m;typeof process<"u"&&Sh&&(m=Sh[TE]),m?(c=`http://${m}?ns=${p.namespace}`,f=np(c,a),p=f.repoInfo):f.repoInfo.secure;const _=new zv(i.name,i.options,t);tE("Invalid Firebase Database URL",f),se(f.path)||on("Database URL must point to the root of a Firebase Database (not including a child path).");const S=AE(p,i,_,new Fv(i.name,r));return new OE(S,i)}function DE(i,t){const r=Su[t];(!r||r[i.key]!==i)&&on(`Database ${t}(${i.repoInfo_}) has already been deleted.`),mE(i),delete r[i.key]}function AE(i,t,r,o){let a=Su[t.name];a||(a={},Su[t.name]=a);let c=a[i.toURLString()];return c&&on("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new oE(i,xE,r,o),a[i.toURLString()]=c,c}class OE{constructor(t,r){this._repoInternal=t,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(lE(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new An(this._repo,ce())),this._rootInternal}_delete(){return this._rootInternal!==null&&(DE(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&on("Cannot call "+t+" on a deleted database.")}}function ME(i=av(),t){const r=iv(i,"database").getImmediate({identifier:t});if(!r._instanceStarted){const o=Q_("database");o&&LE(r,...o)}return r}function LE(i,t,r,o={}){i=Yi(i),i._checkNotDeleted("useEmulator"),i._instanceStarted&&on("Cannot call useEmulator() after instance has already been initialized.");const a=i._repoInternal;let c;if(a.repoInfo_.nodeAdmin)o.mockUserToken&&on('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),c=new mo(mo.OWNER);else if(o.mockUserToken){const f=typeof o.mockUserToken=="string"?o.mockUserToken:G_(o.mockUserToken,i.app.options.projectId);c=new mo(f)}RE(a,t,r,c)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(i){wv(lv),vo(new Ui("database",(t,{instanceIdentifier:r})=>{const o=t.getProvider("app").getImmediate(),a=t.getProvider("auth-internal"),c=t.getProvider("app-check-internal");return PE(o,a,c,r)},"PUBLIC").setMultipleInstances(!0)),Tr(kh,Ih,i),Tr(kh,Ih,"esm2017")}rn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};rn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};FE();const zE={apiKey:"AIzaSyBij6Rm7noCjgQVLvclvqRc34UtY2wQLsE",authDomain:"squares-4e4f7.firebaseapp.com",databaseURL:"https://squares-4e4f7-default-rtdb.firebaseio.com/",projectId:"squares-4e4f7",storageBucket:"squares-4e4f7.firebasestorage.app",messagingSenderId:"138190069880",appId:"1:138190069880:web:57e20b7d6db4112b3c0d8d",measurementId:"G-7WCZ6QZVH4"},jE=_p(zE),Oi=ME(jE),bE=()=>{const[i,t]=xe.useState("Home Team"),[r,o]=xe.useState("Away Team"),[a,c]=xe.useState({}),[f,p]=xe.useState(""),[m,_]=xe.useState(Array(10).fill(null)),[S,E]=xe.useState(Array(10).fill(null)),[I,O]=xe.useState(!1),[F,q]=xe.useState(5),[$,Fe]=xe.useState({q1:{home:"",away:""},q2:{home:"",away:""},q3:{home:"",away:""},q4:{home:"",away:""}}),[Ie,Xe]=xe.useState(()=>{const j=window.location.pathname.split("/");return j[j.length-1]||"default-game"});xe.useEffect(()=>{const j=Ai(Oi,`games/${Ie}`),K=NE(j,Z=>{const Y=Z.val();Y&&(c(Y.squares||{}),_(Y.homeNumbers||Array(10).fill(null)),E(Y.awayNumbers||Array(10).fill(null)),O(Y.isRandomized||!1),t(Y.homeTeam||"Home Team"),o(Y.awayTeam||"Away Team"),q(Y.pricePerSquare||5),Fe(Y.scores||{q1:{home:"",away:""},q2:{home:"",away:""},q3:{home:"",away:""},q4:{home:"",away:""}}))});return()=>K()},[Ie]);const Ne={q1:.2,q2:.2,q3:.2,q4:.4},nt=xe.useMemo(()=>{const j=["bg-blue-200 hover:bg-blue-300","bg-green-200 hover:bg-green-300","bg-yellow-200 hover:bg-yellow-300","bg-red-200 hover:bg-red-300","bg-purple-200 hover:bg-purple-300","bg-orange-200 hover:bg-orange-300","bg-teal-200 hover:bg-teal-300","bg-pink-200 hover:bg-pink-300"],K=[...new Set(Object.values(a))],Z={};return K.forEach((Y,M)=>{Z[Y]=j[M%j.length]}),Z},[a]),$e=async(j,K)=>{if(!f){alert("Please enter your name before selecting squares");return}const Z=`${j}-${K}`;if(a[Z]){if(a[Z]!==f){alert("This square has already been selected by another player");return}const Y={...a};delete Y[Z],await kE(Ai(Oi,`games/${Ie}/squares`),Y)}else await tu(Ai(Oi,`games/${Ie}/squares`),{[Z]:f})},qe=async(j,K,Z)=>{await tu(Ai(Oi,`games/${Ie}/scores/${j}`),{[K]:Z})},ot=async()=>{const K=100-Object.keys(a).length;if(K>0&&!window.confirm(`There are still ${K} empty squares remaining. Are you sure you want to assign numbers now? This action cannot be undone.`))return;const Z=Array.from({length:10},(L,w)=>w),Y=L=>{const w=[...L];for(let T=w.length-1;T>0;T--){const ee=Math.floor(Math.random()*(T+1));[w[T],w[ee]]=[w[ee],w[T]]}return w},M=Y([...Z]),V=Y([...Z]);await tu(Ai(Oi,`games/${Ie}`),{homeNumbers:M,awayNumbers:V,isRandomized:!0})},wt=xe.useMemo(()=>{const j=(K,Z)=>{if(!K||!Z||!I)return null;const Y=K%10,M=Z%10,V=Object.entries(a).find(([L])=>{const[w,T]=L.split("-").map(Number);return S[w]===M&&m[T]===Y});return V?V[1]:"Empty Square"};return{q1:j(Number($.q1.home),Number($.q1.away)),q2:j(Number($.q2.home),Number($.q2.away)),q3:j(Number($.q3.home),Number($.q3.away)),q4:j(Number($.q4.home),Number($.q4.away))}},[$,a,m,S,I]),Pt=xe.useMemo(()=>{const j={};return Object.values(a).forEach(K=>{j[K]?(j[K].squareCount++,j[K].totalSpent=j[K].squareCount*F):j[K]={squareCount:1,totalSpent:F}}),j},[a,F]),Et=xe.useMemo(()=>Object.keys(a).length*F,[a,F]),Ct=xe.useMemo(()=>{const j={};return Object.entries(wt).forEach(([K,Z])=>{Z&&Z!=="Empty Square"&&(j[K]={winner:Z,amount:Et*Ne[K]})}),j},[wt,Et,Ne]),ze=({quarter:j,label:K})=>H.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[H.jsxs("span",{className:"w-24",children:[K,":"]}),H.jsx("input",{type:"number",min:"0",max:"99",value:$[j].home,onChange:Z=>qe(j,"home",Z.target.value),className:"border p-1 w-16 text-center",placeholder:"0"}),H.jsx("span",{children:"-"}),H.jsx("input",{type:"number",min:"0",max:"99",value:$[j].away,onChange:Z=>qe(j,"away",Z.target.value),className:"border p-1 w-16 text-center",placeholder:"0"})]});return H.jsxs("div",{className:"max-w-6xl mx-auto p-4 overflow-x-auto",children:[H.jsx("h2",{className:"text-2xl font-bold mb-4 text-center",children:"Super Bowl Squares"}),H.jsxs("div",{className:"mb-6 flex flex-col items-center gap-4",children:[H.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full max-w-2xl",children:[H.jsx("input",{type:"text",value:i,onChange:j=>t(j.target.value),className:"border p-2 rounded flex-1",placeholder:"Home Team"}),H.jsx("input",{type:"text",value:r,onChange:j=>o(j.target.value),className:"border p-2 rounded flex-1",placeholder:"Away Team"})]}),H.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-center w-full max-w-2xl",children:[H.jsx("input",{type:"text",value:f,onChange:j=>p(j.target.value),className:"border p-2 rounded w-full sm:w-auto",placeholder:"Enter your name"}),H.jsxs("div",{className:"flex items-center gap-2 w-full sm:w-auto",children:[H.jsx(L_,{size:16}),H.jsx("input",{type:"number",value:F,onChange:j=>q(Number(j.target.value)),className:"border p-2 rounded w-20",min:"1",placeholder:"Price"}),H.jsx("span",{className:"text-sm text-gray-600 whitespace-nowrap",children:"per square"})]}),H.jsxs("button",{onClick:ot,disabled:I,className:`flex items-center justify-center gap-2 px-4 py-2 rounded text-white w-full sm:w-auto
              ${I?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"}`,children:[H.jsx(z_,{size:16}),"Randomize Numbers"]})]})]}),H.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[H.jsx("div",{className:"relative",children:H.jsxs("div",{className:"pt-8 pl-8",children:[H.jsxs("div",{className:"flex",children:[H.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12"}),m.map((j,K)=>H.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border border-gray-300 flex items-center justify-center bg-gray-100 text-sm sm:text-base",children:j!==null?j:""},`top-${K}`))]}),Array(10).fill(null).map((j,K)=>H.jsxs("div",{className:"flex",children:[H.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 border border-gray-300 flex items-center justify-center bg-gray-100 text-sm sm:text-base",children:S[K]!==null?S[K]:""}),Array(10).fill(null).map((Z,Y)=>{const M=`${K}-${Y}`,V=a[M],L=V?nt[V]:"";return H.jsx("div",{className:`w-8 h-8 sm:w-12 sm:h-12 border border-gray-300 flex items-center justify-center cursor-pointer text-[8px] sm:text-xs p-1 text-center
                        ${L||"hover:bg-blue-50"}`,onClick:()=>$e(K,Y),children:V},`${K}-${Y}`)})]},`row-${K}`)),H.jsx("div",{className:"absolute top-8 left-0 h-full flex items-center",children:H.jsx("div",{className:"transform -rotate-90 origin-top-left whitespace-nowrap -translate-y-8",children:r})}),H.jsx("div",{className:"absolute top-0 left-8 w-full text-center",children:i})]})}),H.jsxs("div",{className:"flex-1",children:[H.jsxs("div",{className:"mb-6",children:[H.jsx("h3",{className:"text-lg font-bold mb-3",children:"Player Statistics"}),H.jsxs("div",{className:"bg-white rounded-lg shadow p-4 mb-4",children:[H.jsxs("div",{className:"text-xl font-bold mb-2",children:["Total Pot: $",Et]}),H.jsx("div",{className:"space-y-2",children:Object.entries(Pt).map(([j,K])=>H.jsxs("div",{className:`p-2 rounded flex justify-between items-center ${nt[j]||"bg-gray-100"}`,children:[H.jsx("span",{className:"font-medium",children:j}),H.jsxs("div",{className:"text-right",children:[H.jsxs("div",{children:[K.squareCount," squares"]}),H.jsxs("div",{className:"text-sm text-gray-600",children:["$",K.totalSpent]})]})]},j))})]})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("h3",{className:"text-lg font-bold mb-3",children:"Score Input"}),H.jsx(ze,{quarter:"q1",label:"1st Quarter"}),H.jsx(ze,{quarter:"q2",label:"2nd Quarter"}),H.jsx(ze,{quarter:"q3",label:"3rd Quarter"}),H.jsx(ze,{quarter:"q4",label:"Final Score"})]}),H.jsxs("div",{className:"mb-6",children:[H.jsx("h3",{className:"text-lg font-bold mb-3",children:"Winners & Payouts"}),H.jsx("div",{className:"space-y-2",children:Object.entries(wt).map(([j,K])=>{const Z=Ct[j],Y=Z?Z.amount:Et*Ne[j];return H.jsxs("div",{className:"flex items-center gap-2",children:[H.jsxs("span",{className:"w-24",children:[j==="q1"?"1st Quarter":j==="q2"?"2nd Quarter":j==="q3"?"3rd Quarter":"Final Score",":"]}),H.jsx("span",{className:`px-2 py-1 rounded flex-1 ${K&&nt[K]||"bg-gray-200"}`,children:K||"Pending"}),H.jsxs("span",{className:"text-right min-w-[100px]",children:["$",Y.toFixed(2)]})]},j)})}),H.jsx("div",{className:"mt-4 text-sm text-gray-600",children:"Payouts: 20% for each quarter, 40% for final score"})]})]})]})]})};function UE(){return H.jsx("div",{children:H.jsx(bE,{})})}P_.createRoot(document.getElementById("root")).render(H.jsx(xe.StrictMode,{children:H.jsx(UE,{})}));
